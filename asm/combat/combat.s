.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text, "ax"

glabel func_80065140
/* 65D40 80065140 00000000 */  nop

glabel combat_AiScores_quicksort
/* 65D44 80065144 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 65D48 80065148 3C03800F */  lui        $v1, %hi(aiscores_move)
/* 65D4C 8006514C 2463F750 */  addiu      $v1, $v1, %lo(aiscores_move)
/* 65D50 80065150 AFBF0010 */  sw         $ra, 0x10($sp)
/* 65D54 80065154 94620002 */  lhu        $v0, 2($v1)
/* 65D58 80065158 2C420002 */  sltiu      $v0, $v0, 2
/* 65D5C 8006515C 1440000C */  bnez       $v0, .L80065190
/* 65D60 80065160 8FBF0010 */   lw        $ra, 0x10($sp)
/* 65D64 80065164 10800004 */  beqz       $a0, .L80065178
/* 65D68 80065168 94650002 */   lhu       $a1, 2($v1)
/* 65D6C 8006516C 3C028006 */  lui        $v0, %hi(func_80064FB4)
/* 65D70 80065170 08019460 */  j          .L80065180
/* 65D74 80065174 24474FB4 */   addiu     $a3, $v0, %lo(func_80064FB4)
.L80065178:
/* 65D78 80065178 3C028006 */  lui        $v0, %hi(func_80064F60)
/* 65D7C 8006517C 24474F60 */  addiu      $a3, $v0, %lo(func_80064F60)
.L80065180:
/* 65D80 80065180 8C640004 */  lw         $a0, 4($v1)
/* 65D84 80065184 0C02F6A5 */  jal        quicksort_func
/* 65D88 80065188 24060008 */   addiu     $a2, $zero, 8
/* 65D8C 8006518C 8FBF0010 */  lw         $ra, 0x10($sp)
.L80065190:
/* 65D90 80065190 03E00008 */  jr         $ra
/* 65D94 80065194 27BD0018 */   addiu     $sp, $sp, 0x18

glabel combat_AiScores_moveEntry
/* 65D98 80065198 3C02800F */  lui        $v0, %hi(aiscores_move)
/* 65D9C 8006519C 2446F750 */  addiu      $a2, $v0, %lo(aiscores_move)
/* 65DA0 800651A0 24050001 */  addiu      $a1, $zero, 1
/* 65DA4 800651A4 00404821 */  addu       $t1, $v0, $zero
/* 65DA8 800651A8 94C80002 */  lhu        $t0, 2($a2)
/* 65DAC 800651AC 8CC40004 */  lw         $a0, 4($a2)
/* 65DB0 800651B0 00A8182B */  sltu       $v1, $a1, $t0
/* 65DB4 800651B4 10600010 */  beqz       $v1, .L800651F8
/* 65DB8 800651B8 90870000 */   lbu       $a3, ($a0)
/* 65DBC 800651BC 90820008 */  lbu        $v0, 8($a0)
/* 65DC0 800651C0 5447000D */  bnel       $v0, $a3, .L800651F8
/* 65DC4 800651C4 A4C50002 */   sh        $a1, 2($a2)
/* 65DC8 800651C8 24A20001 */  addiu      $v0, $a1, 1
.L800651CC:
/* 65DCC 800651CC 3045FFFF */  andi       $a1, $v0, 0xffff
/* 65DD0 800651D0 00A8182B */  sltu       $v1, $a1, $t0
/* 65DD4 800651D4 10600008 */  beqz       $v1, .L800651F8
/* 65DD8 800651D8 2526F750 */   addiu     $a2, $t1, -0x8b0
/* 65DDC 800651DC 8CC20004 */  lw         $v0, 4($a2)
/* 65DE0 800651E0 000518C0 */  sll        $v1, $a1, 3
/* 65DE4 800651E4 00621821 */  addu       $v1, $v1, $v0
/* 65DE8 800651E8 90640000 */  lbu        $a0, ($v1)
/* 65DEC 800651EC 1087FFF7 */  beq        $a0, $a3, .L800651CC
/* 65DF0 800651F0 24A20001 */   addiu     $v0, $a1, 1
/* 65DF4 800651F4 A4C50002 */  sh         $a1, 2($a2)
.L800651F8:
/* 65DF8 800651F8 03E00008 */  jr         $ra
/* 65DFC 800651FC 00000000 */   nop

glabel combat_aiscores_free
/* 65E00 80065200 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 65E04 80065204 3C02800F */  lui        $v0, %hi(aiscores_move)
/* 65E08 80065208 AFB00010 */  sw         $s0, 0x10($sp)
/* 65E0C 8006520C 2450F750 */  addiu      $s0, $v0, %lo(aiscores_move)
/* 65E10 80065210 AFBF0014 */  sw         $ra, 0x14($sp)
/* 65E14 80065214 8E040004 */  lw         $a0, 4($s0)
/* 65E18 80065218 10800005 */  beqz       $a0, .L80065230
/* 65E1C 8006521C 3C05800E */   lui       $a1, %hi(D_800DF760)
/* 65E20 80065220 24A5F760 */  addiu      $a1, $a1, %lo(D_800DF760)
/* 65E24 80065224 0C02600C */  jal        Free
/* 65E28 80065228 240600D7 */   addiu     $a2, $zero, 0xd7
/* 65E2C 8006522C AE000004 */  sw         $zero, 4($s0)
.L80065230:
/* 65E30 80065230 8FBF0014 */  lw         $ra, 0x14($sp)
/* 65E34 80065234 8FB00010 */  lw         $s0, 0x10($sp)
/* 65E38 80065238 03E00008 */  jr         $ra
/* 65E3C 8006523C 27BD0018 */   addiu     $sp, $sp, 0x18

glabel EntityCannotFight
/* 65E40 80065240 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 65E44 80065244 AFB00010 */  sw         $s0, 0x10($sp)
/* 65E48 80065248 3090FFFF */  andi       $s0, $a0, 0xffff
/* 65E4C 8006524C 02002021 */  addu       $a0, $s0, $zero
/* 65E50 80065250 00002821 */  addu       $a1, $zero, $zero
/* 65E54 80065254 AFBF0014 */  sw         $ra, 0x14($sp)
/* 65E58 80065258 0C01D77A */  jal        GetIDIndex
/* 65E5C 8006525C 00003021 */   addu      $a2, $zero, $zero
/* 65E60 80065260 00401821 */  addu       $v1, $v0, $zero
/* 65E64 80065264 00108202 */  srl        $s0, $s0, 8
/* 65E68 80065268 24020002 */  addiu      $v0, $zero, 2
/* 65E6C 8006526C 16020014 */  bne        $s0, $v0, .L800652C0
/* 65E70 80065270 24020001 */   addiu     $v0, $zero, 1
/* 65E74 80065274 28620091 */  slti       $v0, $v1, 0x91
/* 65E78 80065278 10400009 */  beqz       $v0, .L800652A0
/* 65E7C 8006527C 28620082 */   slti      $v0, $v1, 0x82
/* 65E80 80065280 1040000C */  beqz       $v0, .L800652B4
/* 65E84 80065284 28620057 */   slti      $v0, $v1, 0x57
/* 65E88 80065288 1040000D */  beqz       $v0, .L800652C0
/* 65E8C 8006528C 00001021 */   addu      $v0, $zero, $zero
/* 65E90 80065290 0460000A */  bltz       $v1, .L800652BC
/* 65E94 80065294 24020001 */   addiu     $v0, $zero, 1
/* 65E98 80065298 080194B1 */  j          .L800652C4
/* 65E9C 8006529C 8FBF0014 */   lw        $ra, 0x14($sp)
.L800652A0:
/* 65EA0 800652A0 28620097 */  slti       $v0, $v1, 0x97
/* 65EA4 800652A4 10400005 */  beqz       $v0, .L800652BC
/* 65EA8 800652A8 28620092 */   slti      $v0, $v1, 0x92
/* 65EAC 800652AC 14400004 */  bnez       $v0, .L800652C0
/* 65EB0 800652B0 00001021 */   addu      $v0, $zero, $zero
.L800652B4:
/* 65EB4 800652B4 080194B0 */  j          .L800652C0
/* 65EB8 800652B8 24020001 */   addiu     $v0, $zero, 1
.L800652BC:
/* 65EBC 800652BC 00001021 */  addu       $v0, $zero, $zero
.L800652C0:
/* 65EC0 800652C0 8FBF0014 */  lw         $ra, 0x14($sp)
.L800652C4:
/* 65EC4 800652C4 8FB00010 */  lw         $s0, 0x10($sp)
/* 65EC8 800652C8 03E00008 */  jr         $ra
/* 65ECC 800652CC 27BD0018 */   addiu     $sp, $sp, 0x18

glabel calloc_combat_struct
/* 65ED0 800652D0 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 65ED4 800652D4 AFB00010 */  sw         $s0, 0x10($sp)
/* 65ED8 800652D8 00808021 */  addu       $s0, $a0, $zero
/* 65EDC 800652DC 00002821 */  addu       $a1, $zero, $zero
/* 65EE0 800652E0 AFBF0014 */  sw         $ra, 0x14($sp)
/* 65EE4 800652E4 0C026380 */  jal        Calloc
/* 65EE8 800652E8 2406544C */   addiu     $a2, $zero, 0x544c
/* 65EEC 800652EC 3C04B200 */  lui        $a0, %hi(combat_romstrings)
/* 65EF0 800652F0 2484C4D0 */  addiu      $a0, $a0, %lo(combat_romstrings)
/* 65EF4 800652F4 3C05B200 */  lui        $a1, %hi(globals_rom)
/* 65EF8 800652F8 24A5C9D0 */  addiu      $a1, $a1, %lo(globals_rom)
/* 65EFC 800652FC 00A42823 */  subu       $a1, $a1, $a0
/* 65F00 80065300 3C03800F */  lui        $v1, %hi(some_combat_flag)
/* 65F04 80065304 24020001 */  addiu      $v0, $zero, 1
/* 65F08 80065308 AE004FBC */  sw         $zero, 0x4fbc($s0)
/* 65F0C 8006530C AE004FB8 */  sw         $zero, 0x4fb8($s0)
/* 65F10 80065310 AE004FB4 */  sw         $zero, 0x4fb4($s0)
/* 65F14 80065314 A4621DDA */  sh         $v0, %lo(some_combat_flag)($v1)
/* 65F18 80065318 0C0232A0 */  jal        func_romStrings
/* 65F1C 8006531C A2000013 */   sb        $zero, 0x13($s0)
/* 65F20 80065320 26044FC4 */  addiu      $a0, $s0, 0x4fc4
/* 65F24 80065324 00002821 */  addu       $a1, $zero, $zero
/* 65F28 80065328 24060100 */  addiu      $a2, $zero, 0x100
/* 65F2C 8006532C 0C026380 */  jal        Calloc
/* 65F30 80065330 AE024FC0 */   sw        $v0, 0x4fc0($s0)
/* 65F34 80065334 260450C4 */  addiu      $a0, $s0, 0x50c4
/* 65F38 80065338 00002821 */  addu       $a1, $zero, $zero
/* 65F3C 8006533C 0C026380 */  jal        Calloc
/* 65F40 80065340 24060100 */   addiu     $a2, $zero, 0x100
/* 65F44 80065344 260451C4 */  addiu      $a0, $s0, 0x51c4
/* 65F48 80065348 00002821 */  addu       $a1, $zero, $zero
/* 65F4C 8006534C 0C026380 */  jal        Calloc
/* 65F50 80065350 24060100 */   addiu     $a2, $zero, 0x100
/* 65F54 80065354 44800000 */  mtc1       $zero, $f0
/* 65F58 80065358 44050000 */  mfc1       $a1, $f0
/* 65F5C 8006535C 26045318 */  addiu      $a0, $s0, 0x5318
/* 65F60 80065360 AE0052C4 */  sw         $zero, 0x52c4($s0)
/* 65F64 80065364 AE00543C */  sw         $zero, 0x543c($s0)
/* 65F68 80065368 AE0052C8 */  sw         $zero, 0x52c8($s0)
/* 65F6C 8006536C AE0052CC */  sw         $zero, 0x52cc($s0)
/* 65F70 80065370 0C02AD55 */  jal        setVec2
/* 65F74 80065374 00A03021 */   addu      $a2, $a1, $zero
/* 65F78 80065378 8FBF0014 */  lw         $ra, 0x14($sp)
/* 65F7C 8006537C AE005440 */  sw         $zero, 0x5440($s0)
/* 65F80 80065380 AE005448 */  sw         $zero, 0x5448($s0)
/* 65F84 80065384 8FB00010 */  lw         $s0, 0x10($sp)
/* 65F88 80065388 03E00008 */  jr         $ra
/* 65F8C 8006538C 27BD0018 */   addiu     $sp, $sp, 0x18

glabel get_refpoint_by_name
/* 65F90 80065390 3C02800F */  lui        $v0, %hi(combatPointer)
/* 65F94 80065394 8C48F760 */  lw         $t0, %lo(combatPointer)($v0)
/* 65F98 80065398 27BDFF20 */  addiu      $sp, $sp, -0xe0
/* 65F9C 8006539C AFBF00DC */  sw         $ra, 0xdc($sp)
/* 65FA0 800653A0 AFB000D8 */  sw         $s0, 0xd8($sp)
/* 65FA4 800653A4 8D024FC0 */  lw         $v0, 0x4fc0($t0)
/* 65FA8 800653A8 00803821 */  addu       $a3, $a0, $zero
/* 65FAC 800653AC 8C4900F8 */  lw         $t1, 0xf8($v0)
/* 65FB0 800653B0 27B00098 */  addiu      $s0, $sp, 0x98
/* 65FB4 800653B4 AFA90058 */  sw         $t1, 0x58($sp)
/* 65FB8 800653B8 8D024FC0 */  lw         $v0, 0x4fc0($t0)
/* 65FBC 800653BC 00063080 */  sll        $a2, $a2, 2
/* 65FC0 800653C0 8C4300F4 */  lw         $v1, 0xf4($v0)
/* 65FC4 800653C4 03A61021 */  addu       $v0, $sp, $a2
/* 65FC8 800653C8 AFA90018 */  sw         $t1, 0x18($sp)
/* 65FCC 800653CC AFA3005C */  sw         $v1, 0x5c($sp)
/* 65FD0 800653D0 AFA3001C */  sw         $v1, 0x1c($sp)
/* 65FD4 800653D4 8C460018 */  lw         $a2, 0x18($v0)
/* 65FD8 800653D8 8D034FC0 */  lw         $v1, 0x4fc0($t0)
/* 65FDC 800653DC 24A50061 */  addiu      $a1, $a1, 0x61
/* 65FE0 800653E0 AFA50010 */  sw         $a1, 0x10($sp)
/* 65FE4 800653E4 8C6500DC */  lw         $a1, 0xdc($v1)
/* 65FE8 800653E8 0C0333AC */  jal        sprintf
/* 65FEC 800653EC 02002021 */   addu      $a0, $s0, $zero
/* 65FF0 800653F0 02002821 */  addu       $a1, $s0, $zero
/* 65FF4 800653F4 3C02800E */  lui        $v0, %hi(borg_9_dat_pointer)
/* 65FF8 800653F8 8C446AA8 */  lw         $a0, %lo(borg_9_dat_pointer)($v0)
/* 65FFC 800653FC 0C003A86 */  jal        FindReferncePointName
/* 66000 80065400 24060001 */   addiu     $a2, $zero, 1
/* 66004 80065404 8FBF00DC */  lw         $ra, 0xdc($sp)
/* 66008 80065408 8FB000D8 */  lw         $s0, 0xd8($sp)
/* 6600C 8006540C 03E00008 */  jr         $ra
/* 66010 80065410 27BD00E0 */   addiu     $sp, $sp, 0xe0

glabel combat_func
/* 66014 80065414 27BDFFC8 */  addiu      $sp, $sp, -0x38
/* 66018 80065418 AFB20018 */  sw         $s2, 0x18($sp)
/* 6601C 8006541C 8FB20050 */  lw         $s2, 0x50($sp)
/* 66020 80065420 AFB3001C */  sw         $s3, 0x1c($sp)
/* 66024 80065424 8FB30054 */  lw         $s3, 0x54($sp)
/* 66028 80065428 AFB00010 */  sw         $s0, 0x10($sp)
/* 6602C 8006542C 93B0004F */  lbu        $s0, 0x4f($sp)
/* 66030 80065430 24090005 */  addiu      $t1, $zero, 5
/* 66034 80065434 AFB40020 */  sw         $s4, 0x20($sp)
/* 66038 80065438 93B4005B */  lbu        $s4, 0x5b($sp)
/* 6603C 8006543C 24080007 */  addiu      $t0, $zero, 7
/* 66040 80065440 AFB10014 */  sw         $s1, 0x14($sp)
/* 66044 80065444 00808821 */  addu       $s1, $a0, $zero
/* 66048 80065448 AFB60028 */  sw         $s6, 0x28($sp)
/* 6604C 8006544C 00A0B021 */  addu       $s6, $a1, $zero
/* 66050 80065450 AFB7002C */  sw         $s7, 0x2c($sp)
/* 66054 80065454 00C0B821 */  addu       $s7, $a2, $zero
/* 66058 80065458 AFBE0030 */  sw         $fp, 0x30($sp)
/* 6605C 8006545C 00E0F021 */  addu       $fp, $a3, $zero
/* 66060 80065460 AFBF0034 */  sw         $ra, 0x34($sp)
/* 66064 80065464 16400005 */  bnez       $s2, .L8006547C
/* 66068 80065468 AFB50024 */   sw        $s5, 0x24($sp)
/* 6606C 8006546C 8E220028 */  lw         $v0, 0x28($s1)
/* 66070 80065470 90430026 */  lbu        $v1, 0x26($v0)
/* 66074 80065474 10600004 */  beqz       $v1, .L80065488
/* 66078 80065478 01202021 */   addu      $a0, $t1, $zero
.L8006547C:
/* 6607C 8006547C 24090001 */  addiu      $t1, $zero, 1
/* 66080 80065480 24080003 */  addiu      $t0, $zero, 3
/* 66084 80065484 01202021 */  addu       $a0, $t1, $zero
.L80065488:
/* 66088 80065488 0C002CF7 */  jal        rand_range
/* 6608C 8006548C 01002821 */   addu      $a1, $t0, $zero
/* 66090 80065490 12600004 */  beqz       $s3, .L800654A4
/* 66094 80065494 305500FF */   andi      $s5, $v0, 0xff
/* 66098 80065498 00002021 */  addu       $a0, $zero, $zero
/* 6609C 8006549C 0801952F */  j          .L800654BC
/* 660A0 800654A0 8E250028 */   lw        $a1, 0x28($s1)
.L800654A4:
/* 660A4 800654A4 8E220028 */  lw         $v0, 0x28($s1)
/* 660A8 800654A8 24030004 */  addiu      $v1, $zero, 4
/* 660AC 800654AC 90440028 */  lbu        $a0, 0x28($v0)
/* 660B0 800654B0 00402821 */  addu       $a1, $v0, $zero
/* 660B4 800654B4 00641823 */  subu       $v1, $v1, $a0
/* 660B8 800654B8 306400FF */  andi       $a0, $v1, 0xff
.L800654BC:
/* 660BC 800654BC 90A30026 */  lbu        $v1, 0x26($a1)
/* 660C0 800654C0 24020002 */  addiu      $v0, $zero, 2
/* 660C4 800654C4 14620018 */  bne        $v1, $v0, .L80065528
/* 660C8 800654C8 24060001 */   addiu     $a2, $zero, 1
/* 660CC 800654CC 12400016 */  beqz       $s2, .L80065528
/* 660D0 800654D0 00003021 */   addu      $a2, $zero, $zero
/* 660D4 800654D4 16000007 */  bnez       $s0, .L800654F4
/* 660D8 800654D8 24020001 */   addiu     $v0, $zero, 1
/* 660DC 800654DC 90A30028 */  lbu        $v1, 0x28($a1)
/* 660E0 800654E0 24020003 */  addiu      $v0, $zero, 3
/* 660E4 800654E4 14620010 */  bne        $v1, $v0, .L80065528
/* 660E8 800654E8 24040004 */   addiu     $a0, $zero, 4
/* 660EC 800654EC 0801954A */  j          .L80065528
/* 660F0 800654F0 24040003 */   addiu     $a0, $zero, 3
.L800654F4:
/* 660F4 800654F4 16020006 */  bne        $s0, $v0, .L80065510
/* 660F8 800654F8 2E020004 */   sltiu     $v0, $s0, 4
/* 660FC 800654FC 90A20028 */  lbu        $v0, 0x28($a1)
/* 66100 80065500 10400009 */  beqz       $v0, .L80065528
/* 66104 80065504 24820001 */   addiu     $v0, $a0, 1
/* 66108 80065508 0801954A */  j          .L80065528
/* 6610C 8006550C 304400FF */   andi      $a0, $v0, 0xff
.L80065510:
/* 66110 80065510 14400005 */  bnez       $v0, .L80065528
/* 66114 80065514 24020003 */   addiu     $v0, $zero, 3
/* 66118 80065518 90A30028 */  lbu        $v1, 0x28($a1)
/* 6611C 8006551C 10620002 */  beq        $v1, $v0, .L80065528
/* 66120 80065520 2482FFFF */   addiu     $v0, $a0, -1
/* 66124 80065524 304400FF */  andi       $a0, $v0, 0xff
.L80065528:
/* 66128 80065528 16400002 */  bnez       $s2, .L80065534
/* 6612C 8006552C 0006302B */   sltu      $a2, $zero, $a2
/* 66130 80065530 2CC60001 */  sltiu      $a2, $a2, 1
.L80065534:
/* 66134 80065534 0C0194E4 */  jal        get_refpoint_by_name
/* 66138 80065538 02802821 */   addu      $a1, $s4, $zero
/* 6613C 8006553C 00408021 */  addu       $s0, $v0, $zero
/* 66140 80065540 56000007 */  bnel       $s0, $zero, .L80065560
/* 66144 80065544 C6000000 */   lwc1      $f0, ($s0)
/* 66148 80065548 3C02800F */  lui        $v0, %hi(D_800EF76C)
/* 6614C 8006554C 8C44F76C */  lw         $a0, %lo(D_800EF76C)($v0)
/* 66150 80065550 3C05800E */  lui        $a1, %hi(D_800DF79C)
/* 66154 80065554 0C025F2D */  jal        manualCrash
/* 66158 80065558 24A5F79C */   addiu     $a1, $a1, %lo(D_800DF79C)
/* 6615C 8006555C C6000000 */  lwc1       $f0, ($s0)
.L80065560:
/* 66160 80065560 3C01800E */  lui        $at, %hi(D_800DF7C4)
/* 66164 80065564 C422F7C4 */  lwc1       $f2, %lo(D_800DF7C4)($at)
/* 66168 80065568 4600103E */  c.le.s     $f2, $f0
/* 6616C 8006556C 00000000 */  nop
/* 66170 80065570 45030005 */  bc1tl      .L80065588
/* 66174 80065574 46020001 */   sub.s     $f0, $f0, $f2
/* 66178 80065578 4600008D */  trunc.w.s  $f2, $f0
/* 6617C 8006557C 44031000 */  mfc1       $v1, $f2
/* 66180 80065580 08019567 */  j          .L8006559C
/* 66184 80065584 A2C30000 */   sb        $v1, ($s6)
.L80065588:
/* 66188 80065588 4600008D */  trunc.w.s  $f2, $f0
/* 6618C 8006558C 44031000 */  mfc1       $v1, $f2
/* 66190 80065590 3C028000 */  lui        $v0, 0x8000
/* 66194 80065594 00621825 */  or         $v1, $v1, $v0
/* 66198 80065598 A2C30000 */  sb         $v1, ($s6)
.L8006559C:
/* 6619C 8006559C C6000008 */  lwc1       $f0, 8($s0)
/* 661A0 800655A0 3C01800E */  lui        $at, %hi(D_800DF7C8)
/* 661A4 800655A4 C422F7C8 */  lwc1       $f2, %lo(D_800DF7C8)($at)
/* 661A8 800655A8 4600103E */  c.le.s     $f2, $f0
/* 661AC 800655AC 00000000 */  nop
/* 661B0 800655B0 45030005 */  bc1tl      .L800655C8
/* 661B4 800655B4 46020001 */   sub.s     $f0, $f0, $f2
/* 661B8 800655B8 4600008D */  trunc.w.s  $f2, $f0
/* 661BC 800655BC 44031000 */  mfc1       $v1, $f2
/* 661C0 800655C0 08019577 */  j          .L800655DC
/* 661C4 800655C4 8FBF0034 */   lw        $ra, 0x34($sp)
.L800655C8:
/* 661C8 800655C8 4600008D */  trunc.w.s  $f2, $f0
/* 661CC 800655CC 44031000 */  mfc1       $v1, $f2
/* 661D0 800655D0 3C028000 */  lui        $v0, 0x8000
/* 661D4 800655D4 00621825 */  or         $v1, $v1, $v0
/* 661D8 800655D8 8FBF0034 */  lw         $ra, 0x34($sp)
.L800655DC:
/* 661DC 800655DC A2E30000 */  sb         $v1, ($s7)
/* 661E0 800655E0 A3D50000 */  sb         $s5, ($fp)
/* 661E4 800655E4 8FBE0030 */  lw         $fp, 0x30($sp)
/* 661E8 800655E8 8FB7002C */  lw         $s7, 0x2c($sp)
/* 661EC 800655EC 8FB60028 */  lw         $s6, 0x28($sp)
/* 661F0 800655F0 8FB50024 */  lw         $s5, 0x24($sp)
/* 661F4 800655F4 8FB40020 */  lw         $s4, 0x20($sp)
/* 661F8 800655F8 8FB3001C */  lw         $s3, 0x1c($sp)
/* 661FC 800655FC 8FB20018 */  lw         $s2, 0x18($sp)
/* 66200 80065600 8FB10014 */  lw         $s1, 0x14($sp)
/* 66204 80065604 8FB00010 */  lw         $s0, 0x10($sp)
/* 66208 80065608 03E00008 */  jr         $ra
/* 6620C 8006560C 27BD0038 */   addiu     $sp, $sp, 0x38

glabel combatEnt_setup
/* 66210 80065610 27BDFFB0 */  addiu      $sp, $sp, -0x50
/* 66214 80065614 AFB60030 */  sw         $s6, 0x30($sp)
/* 66218 80065618 0080B021 */  addu       $s6, $a0, $zero
/* 6621C 8006561C AFB5002C */  sw         $s5, 0x2c($sp)
/* 66220 80065620 30B500FF */  andi       $s5, $a1, 0xff
/* 66224 80065624 AFB00018 */  sw         $s0, 0x18($sp)
/* 66228 80065628 00158080 */  sll        $s0, $s5, 2
/* 6622C 8006562C 02D01021 */  addu       $v0, $s6, $s0
/* 66230 80065630 AFBF0034 */  sw         $ra, 0x34($sp)
/* 66234 80065634 AFB40028 */  sw         $s4, 0x28($sp)
/* 66238 80065638 AFB30024 */  sw         $s3, 0x24($sp)
/* 6623C 8006563C AFB20020 */  sw         $s2, 0x20($sp)
/* 66240 80065640 AFB1001C */  sw         $s1, 0x1c($sp)
/* 66244 80065644 F7B80048 */  sdc1       $f24, 0x48($sp)
/* 66248 80065648 F7B60040 */  sdc1       $f22, 0x40($sp)
/* 6624C 8006564C F7B40038 */  sdc1       $f20, 0x38($sp)
/* 66250 80065650 8C5352D0 */  lw         $s3, 0x52d0($v0)
/* 66254 80065654 0C01A10F */  jal        set_combat_movement
/* 66258 80065658 02602021 */   addu      $a0, $s3, $zero
/* 6625C 8006565C 3C02800E */  lui        $v0, %hi(combat_bytes)
/* 66260 80065660 24427C70 */  addiu      $v0, $v0, %lo(combat_bytes)
/* 66264 80065664 24420034 */  addiu      $v0, $v0, 0x34
/* 66268 80065668 0202A021 */  addu       $s4, $s0, $v0
/* 6626C 8006566C 8E840000 */  lw         $a0, ($s4)
/* 66270 80065670 10800009 */  beqz       $a0, .L80065698
/* 66274 80065674 02A02821 */   addu      $a1, $s5, $zero
/* 66278 80065678 0C02508A */  jal        func_80094228
/* 6627C 8006567C 00000000 */   nop
/* 66280 80065680 0C025812 */  jal        func_80096048
/* 66284 80065684 8E840000 */   lw        $a0, ($s4)
/* 66288 80065688 0C0060EF */  jal        FreePlayer
/* 6628C 8006568C 8E840000 */   lw        $a0, ($s4)
/* 66290 80065690 AE800000 */  sw         $zero, ($s4)
/* 66294 80065694 02A02821 */  addu       $a1, $s5, $zero
.L80065698:
/* 66298 80065698 92C60003 */  lbu        $a2, 3($s6)
/* 6629C 8006569C 8E620040 */  lw         $v0, 0x40($s3)
/* 662A0 800656A0 02A6302B */  sltu       $a2, $s5, $a2
/* 662A4 800656A4 94520000 */  lhu        $s2, ($v0)
/* 662A8 800656A8 38C60001 */  xori       $a2, $a2, 1
/* 662AC 800656AC 0C023DD2 */  jal        func_8008F748
/* 662B0 800656B0 02402021 */   addu      $a0, $s2, $zero
/* 662B4 800656B4 02402021 */  addu       $a0, $s2, $zero
/* 662B8 800656B8 00002821 */  addu       $a1, $zero, $zero
/* 662BC 800656BC 0C01D77A */  jal        GetIDIndex
/* 662C0 800656C0 00003021 */   addu      $a2, $zero, $zero
/* 662C4 800656C4 240300AC */  addiu      $v1, $zero, 0xac
/* 662C8 800656C8 14430004 */  bne        $v0, $v1, .L800656DC
/* 662CC 800656CC 02402021 */   addu      $a0, $s2, $zero
/* 662D0 800656D0 0C00A88F */  jal        set_shadow_index
/* 662D4 800656D4 02A02021 */   addu      $a0, $s5, $zero
/* 662D8 800656D8 02402021 */  addu       $a0, $s2, $zero
.L800656DC:
/* 662DC 800656DC 00002821 */  addu       $a1, $zero, $zero
/* 662E0 800656E0 0C01D77A */  jal        GetIDIndex
/* 662E4 800656E4 00003021 */   addu      $a2, $zero, $zero
/* 662E8 800656E8 24030099 */  addiu      $v1, $zero, 0x99
/* 662EC 800656EC 14430004 */  bne        $v0, $v1, .L80065700
/* 662F0 800656F0 3C10800F */   lui       $s0, 0x800f
/* 662F4 800656F4 0C00A892 */  jal        set_alaron_index
/* 662F8 800656F8 02A02021 */   addu      $a0, $s5, $zero
/* 662FC 800656FC 3C10800F */  lui        $s0, %hi(EntityPointer)
.L80065700:
/* 66300 80065700 8E0413A0 */  lw         $a0, %lo(EntityPointer)($s0)
/* 66304 80065704 0C01D6C6 */  jal        get_some_entity_dat
/* 66308 80065708 02402821 */   addu      $a1, $s2, $zero
/* 6630C 8006570C 02602021 */  addu       $a0, $s3, $zero
/* 66310 80065710 0C01A060 */  jal        get_combatEnt_x_f
/* 66314 80065714 46000606 */   mov.s     $f24, $f0
/* 66318 80065718 02602021 */  addu       $a0, $s3, $zero
/* 6631C 8006571C 0C01A062 */  jal        get_combatEnt_y_f
/* 66320 80065720 46000586 */   mov.s     $f22, $f0
/* 66324 80065724 02402821 */  addu       $a1, $s2, $zero
/* 66328 80065728 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 6632C 8006572C 0C01D56B */  jal        get_ent_borg7
/* 66330 80065730 46000506 */   mov.s     $f20, $f0
/* 66334 80065734 4600C306 */  mov.s      $f12, $f24
/* 66338 80065738 3C063F80 */  lui        $a2, 0x3f80
/* 6633C 8006573C 4407A000 */  mfc1       $a3, $f20
/* 66340 80065740 4600B386 */  mov.s      $f14, $f22
/* 66344 80065744 0C00609A */  jal        AllocPlayer
/* 66348 80065748 AFA20010 */   sw        $v0, 0x10($sp)
/* 6634C 8006574C 02402021 */  addu       $a0, $s2, $zero
/* 66350 80065750 00002821 */  addu       $a1, $zero, $zero
/* 66354 80065754 00003021 */  addu       $a2, $zero, $zero
/* 66358 80065758 00408821 */  addu       $s1, $v0, $zero
/* 6635C 8006575C AE910000 */  sw         $s1, ($s4)
/* 66360 80065760 0C01D77A */  jal        GetIDIndex
/* 66364 80065764 A6320756 */   sh        $s2, 0x756($s1)
/* 66368 80065768 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 6636C 8006576C 02402821 */  addu       $a1, $s2, $zero
/* 66370 80065770 0C01D6EA */  jal        get_entity_scale
/* 66374 80065774 A6220758 */   sh        $v0, 0x758($s1)
/* 66378 80065778 C6220064 */  lwc1       $f2, 0x64($s1)
/* 6637C 8006577C 46001082 */  mul.s      $f2, $f2, $f0
/* 66380 80065780 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 66384 80065784 02402821 */  addu       $a1, $s2, $zero
/* 66388 80065788 E6200030 */  swc1       $f0, 0x30($s1)
/* 6638C 8006578C 0C01D664 */  jal        some_entity_check
/* 66390 80065790 E6220034 */   swc1      $f2, 0x34($s1)
/* 66394 80065794 24030001 */  addiu      $v1, $zero, 1
/* 66398 80065798 A222070C */  sb         $v0, 0x70c($s1)
/* 6639C 8006579C A223070A */  sb         $v1, 0x70a($s1)
/* 663A0 800657A0 92C20003 */  lbu        $v0, 3($s6)
/* 663A4 800657A4 02A2102B */  sltu       $v0, $s5, $v0
/* 663A8 800657A8 14400005 */  bnez       $v0, .L800657C0
/* 663AC 800657AC 02202021 */   addu      $a0, $s1, $zero
/* 663B0 800657B0 9622001E */  lhu        $v0, 0x1e($s1)
/* 663B4 800657B4 A220070A */  sb         $zero, 0x70a($s1)
/* 663B8 800657B8 34420200 */  ori        $v0, $v0, 0x200
/* 663BC 800657BC A622001E */  sh         $v0, 0x1e($s1)
.L800657C0:
/* 663C0 800657C0 00002821 */  addu       $a1, $zero, $zero
/* 663C4 800657C4 00003021 */  addu       $a2, $zero, $zero
/* 663C8 800657C8 0C005539 */  jal        func_800154E4
/* 663CC 800657CC 00003821 */   addu      $a3, $zero, $zero
/* 663D0 800657D0 0C01A401 */  jal        func_80069004
/* 663D4 800657D4 02602021 */   addu      $a0, $s3, $zero
/* 663D8 800657D8 0C01BD12 */  jal        func_8006F448
/* 663DC 800657DC 02602021 */   addu      $a0, $s3, $zero
/* 663E0 800657E0 02602021 */  addu       $a0, $s3, $zero
/* 663E4 800657E4 0C01C125 */  jal        func_80070494
/* 663E8 800657E8 00002821 */   addu      $a1, $zero, $zero
/* 663EC 800657EC 8FBF0034 */  lw         $ra, 0x34($sp)
/* 663F0 800657F0 8FB60030 */  lw         $s6, 0x30($sp)
/* 663F4 800657F4 8FB5002C */  lw         $s5, 0x2c($sp)
/* 663F8 800657F8 8FB40028 */  lw         $s4, 0x28($sp)
/* 663FC 800657FC 8FB30024 */  lw         $s3, 0x24($sp)
/* 66400 80065800 8FB20020 */  lw         $s2, 0x20($sp)
/* 66404 80065804 8FB1001C */  lw         $s1, 0x1c($sp)
/* 66408 80065808 8FB00018 */  lw         $s0, 0x18($sp)
/* 6640C 8006580C D7B80048 */  ldc1       $f24, 0x48($sp)
/* 66410 80065810 D7B60040 */  ldc1       $f22, 0x40($sp)
/* 66414 80065814 D7B40038 */  ldc1       $f20, 0x38($sp)
/* 66418 80065818 03E00008 */  jr         $ra
/* 6641C 8006581C 27BD0050 */   addiu     $sp, $sp, 0x50

glabel count_enemies
/* 66420 80065820 00003021 */  addu       $a2, $zero, $zero
/* 66424 80065824 00002821 */  addu       $a1, $zero, $zero
/* 66428 80065828 00051040 */  sll        $v0, $a1, 1
.L8006582C:
/* 6642C 8006582C 00821021 */  addu       $v0, $a0, $v0
/* 66430 80065830 94430000 */  lhu        $v1, ($v0)
/* 66434 80065834 10600002 */  beqz       $v1, .L80065840
/* 66438 80065838 24C20001 */   addiu     $v0, $a2, 1
/* 6643C 8006583C 3046FFFF */  andi       $a2, $v0, 0xffff
.L80065840:
/* 66440 80065840 24A20001 */  addiu      $v0, $a1, 1
/* 66444 80065844 3045FFFF */  andi       $a1, $v0, 0xffff
/* 66448 80065848 2CA30004 */  sltiu      $v1, $a1, 4
/* 6644C 8006584C 1460FFF7 */  bnez       $v1, .L8006582C
/* 66450 80065850 00051040 */   sll       $v0, $a1, 1
/* 66454 80065854 03E00008 */  jr         $ra
/* 66458 80065858 00C01021 */   addu      $v0, $a2, $zero

glabel find_sholeh
/* 6645C 8006585C 3C02800F */  lui        $v0, %hi(entityList+0xA4)
/* 66460 80065860 90431454 */  lbu        $v1, %lo(entityList+0xA4)($v0)
/* 66464 80065864 00002821 */  addu       $a1, $zero, $zero
/* 66468 80065868 34660200 */  ori        $a2, $v1, 0x200
/* 6646C 8006586C 00051040 */  sll        $v0, $a1, 1
.L80065870:
/* 66470 80065870 00821021 */  addu       $v0, $a0, $v0
/* 66474 80065874 94430000 */  lhu        $v1, ($v0)
/* 66478 80065878 14660003 */  bne        $v1, $a2, .L80065888
/* 6647C 8006587C 24A20001 */   addiu     $v0, $a1, 1
/* 66480 80065880 03E00008 */  jr         $ra
/* 66484 80065884 3042FFFF */   andi      $v0, $v0, 0xffff
.L80065888:
/* 66488 80065888 3045FFFF */  andi       $a1, $v0, 0xffff
/* 6648C 8006588C 2CA30004 */  sltiu      $v1, $a1, 4
/* 66490 80065890 1460FFF7 */  bnez       $v1, .L80065870
/* 66494 80065894 00051040 */   sll       $v0, $a1, 1
/* 66498 80065898 03E00008 */  jr         $ra
/* 6649C 8006589C 00001021 */   addu      $v0, $zero, $zero

glabel NOOP_800658a0
/* 664A0 800658A0 03E00008 */  jr         $ra
/* 664A4 800658A4 00000000 */   nop

glabel recount_enemy_party
/* 664A8 800658A8 24A50001 */  addiu      $a1, $a1, 1
/* 664AC 800658AC 30A5FFFF */  andi       $a1, $a1, 0xffff
/* 664B0 800658B0 2CA2000C */  sltiu      $v0, $a1, 0xc
/* 664B4 800658B4 1040000B */  beqz       $v0, .L800658E4
/* 664B8 800658B8 00051040 */   sll       $v0, $a1, 1
.L800658BC:
/* 664BC 800658BC 00821021 */  addu       $v0, $a0, $v0
/* 664C0 800658C0 94430000 */  lhu        $v1, ($v0)
/* 664C4 800658C4 10600003 */  beqz       $v1, .L800658D4
/* 664C8 800658C8 24A20001 */   addiu     $v0, $a1, 1
/* 664CC 800658CC 03E00008 */  jr         $ra
/* 664D0 800658D0 00A01021 */   addu      $v0, $a1, $zero
.L800658D4:
/* 664D4 800658D4 3045FFFF */  andi       $a1, $v0, 0xffff
/* 664D8 800658D8 2CA3000C */  sltiu      $v1, $a1, 0xc
/* 664DC 800658DC 1460FFF7 */  bnez       $v1, .L800658BC
/* 664E0 800658E0 00051040 */   sll       $v0, $a1, 1
.L800658E4:
/* 664E4 800658E4 03E00008 */  jr         $ra
/* 664E8 800658E8 2402000C */   addiu     $v0, $zero, 0xc

glabel look_for_flasks
/* 664EC 800658EC 3C02800E */  lui        $v0, %hi(partyPointer)
/* 664F0 800658F0 8C437EA0 */  lw         $v1, %lo(partyPointer)($v0)
/* 664F4 800658F4 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 664F8 800658F8 AFBF0014 */  sw         $ra, 0x14($sp)
/* 664FC 800658FC AFB00010 */  sw         $s0, 0x10($sp)
/* 66500 80065900 8C700010 */  lw         $s0, 0x10($v1)
/* 66504 80065904 24051001 */  addiu      $a1, $zero, 0x1001
/* 66508 80065908 0C01F070 */  jal        has_item_func
/* 6650C 8006590C 02002021 */   addu      $a0, $s0, $zero
/* 66510 80065910 14400010 */  bnez       $v0, .L80065954
/* 66514 80065914 24020007 */   addiu     $v0, $zero, 7
/* 66518 80065918 02002021 */  addu       $a0, $s0, $zero
/* 6651C 8006591C 0C01F070 */  jal        has_item_func
/* 66520 80065920 24051000 */   addiu     $a1, $zero, 0x1000
/* 66524 80065924 1440000B */  bnez       $v0, .L80065954
/* 66528 80065928 24020005 */   addiu     $v0, $zero, 5
/* 6652C 8006592C 02002021 */  addu       $a0, $s0, $zero
/* 66530 80065930 0C01F070 */  jal        has_item_func
/* 66534 80065934 24051002 */   addiu     $a1, $zero, 0x1002
/* 66538 80065938 54400006 */  bnel       $v0, $zero, .L80065954
/* 6653C 8006593C 24020004 */   addiu     $v0, $zero, 4
/* 66540 80065940 02002021 */  addu       $a0, $s0, $zero
/* 66544 80065944 0C01F070 */  jal        has_item_func
/* 66548 80065948 24051003 */   addiu     $a1, $zero, 0x1003
/* 6654C 8006594C 0002102B */  sltu       $v0, $zero, $v0
/* 66550 80065950 00021080 */  sll        $v0, $v0, 2
.L80065954:
/* 66554 80065954 8FBF0014 */  lw         $ra, 0x14($sp)
/* 66558 80065958 8FB00010 */  lw         $s0, 0x10($sp)
/* 6655C 8006595C 03E00008 */  jr         $ra
/* 66560 80065960 27BD0018 */   addiu     $sp, $sp, 0x18

glabel create_party_combatEnt
/* 66564 80065964 27BDFF98 */  addiu      $sp, $sp, -0x68
/* 66568 80065968 F7B60060 */  sdc1       $f22, 0x60($sp)
/* 6656C 8006596C 3C01800E */  lui        $at, %hi(D_800DF7D0)
/* 66570 80065970 D436F7D0 */  ldc1       $f22, %lo(D_800DF7D0)($at)
/* 66574 80065974 AFB7004C */  sw         $s7, 0x4c($sp)
/* 66578 80065978 309700FF */  andi       $s7, $a0, 0xff
/* 6657C 8006597C AFB40040 */  sw         $s4, 0x40($sp)
/* 66580 80065980 0000A021 */  addu       $s4, $zero, $zero
/* 66584 80065984 AFB50044 */  sw         $s5, 0x44($sp)
/* 66588 80065988 0280A821 */  addu       $s5, $s4, $zero
/* 6658C 8006598C AFB60048 */  sw         $s6, 0x48($sp)
/* 66590 80065990 3C16800F */  lui        $s6, 0x800f
/* 66594 80065994 AFBE0050 */  sw         $fp, 0x50($sp)
/* 66598 80065998 3C1E800E */  lui        $fp, 0x800e
/* 6659C 8006599C AFBF0054 */  sw         $ra, 0x54($sp)
/* 665A0 800659A0 AFB3003C */  sw         $s3, 0x3c($sp)
/* 665A4 800659A4 AFB20038 */  sw         $s2, 0x38($sp)
/* 665A8 800659A8 AFB10034 */  sw         $s1, 0x34($sp)
/* 665AC 800659AC AFB00030 */  sw         $s0, 0x30($sp)
/* 665B0 800659B0 F7B40058 */  sdc1       $f20, 0x58($sp)
/* 665B4 800659B4 3C03800E */  lui        $v1, %hi(gGlobals)
.L800659B8:
/* 665B8 800659B8 246268A8 */  addiu      $v0, $v1, %lo(gGlobals)
/* 665BC 800659BC 8C4315F8 */  lw         $v1, 0x15f8($v0)
/* 665C0 800659C0 00152080 */  sll        $a0, $s5, 2
/* 665C4 800659C4 00641821 */  addu       $v1, $v1, $a0
/* 665C8 800659C8 8C710000 */  lw         $s1, ($v1)
/* 665CC 800659CC 12200078 */  beqz       $s1, .L80065BB0
/* 665D0 800659D0 26A20001 */   addiu     $v0, $s5, 1
/* 665D4 800659D4 0C01DF1D */  jal        isDead
/* 665D8 800659D8 02202021 */   addu      $a0, $s1, $zero
/* 665DC 800659DC 10400009 */  beqz       $v0, .L80065A04
/* 665E0 800659E0 8EC3F760 */   lw        $v1, -0x8a0($s6)
/* 665E4 800659E4 90620003 */  lbu        $v0, 3($v1)
/* 665E8 800659E8 2442FFFF */  addiu      $v0, $v0, -1
/* 665EC 800659EC A0620003 */  sb         $v0, 3($v1)
/* 665F0 800659F0 8EC4F760 */  lw         $a0, -0x8a0($s6)
/* 665F4 800659F4 90820001 */  lbu        $v0, 1($a0)
/* 665F8 800659F8 2442FFFF */  addiu      $v0, $v0, -1
/* 665FC 800659FC 080196EB */  j          .L80065BAC
/* 66600 80065A00 A0820001 */   sb        $v0, 1($a0)
.L80065A04:
/* 66604 80065A04 3C10800F */  lui        $s0, %hi(EntityPointer)
/* 66608 80065A08 8E0413A0 */  lw         $a0, %lo(EntityPointer)($s0)
/* 6660C 80065A0C 0C01D6C6 */  jal        get_some_entity_dat
/* 66610 80065A10 96250000 */   lhu       $a1, ($s1)
/* 66614 80065A14 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 66618 80065A18 96250000 */  lhu        $a1, ($s1)
/* 6661C 80065A1C 0C01D6EA */  jal        get_entity_scale
/* 66620 80065A20 46000506 */   mov.s     $f20, $f0
/* 66624 80065A24 4600A502 */  mul.s      $f20, $f20, $f0
/* 66628 80065A28 4614A500 */  add.s      $f20, $f20, $f20
/* 6662C 80065A2C 44800000 */  mtc1       $zero, $f0
/* 66630 80065A30 4614003C */  c.lt.s     $f0, $f20
/* 66634 80065A34 00000000 */  nop
/* 66638 80065A38 4500000F */  bc1f       .L80065A78
/* 6663C 80065A3C 8E0413A0 */   lw        $a0, 0x13a0($s0)
/* 66640 80065A40 0C01D6C6 */  jal        get_some_entity_dat
/* 66644 80065A44 96250000 */   lhu       $a1, ($s1)
/* 66648 80065A48 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 6664C 80065A4C 96250000 */  lhu        $a1, ($s1)
/* 66650 80065A50 0C01D6EA */  jal        get_entity_scale
/* 66654 80065A54 46000506 */   mov.s     $f20, $f0
/* 66658 80065A58 4600A502 */  mul.s      $f20, $f20, $f0
/* 6665C 80065A5C 4614A500 */  add.s      $f20, $f20, $f20
/* 66660 80065A60 4600A521 */  cvt.d.s    $f20, $f20
/* 66664 80065A64 4636A500 */  add.d      $f20, $f20, $f22
/* 66668 80065A68 4620A00D */  trunc.w.d  $f0, $f20
/* 6666C 80065A6C 44020000 */  mfc1       $v0, $f0
/* 66670 80065A70 080196AC */  j          .L80065AB0
/* 66674 80065A74 304200FF */   andi      $v0, $v0, 0xff
.L80065A78:
/* 66678 80065A78 0C01D6C6 */  jal        get_some_entity_dat
/* 6667C 80065A7C 96250000 */   lhu       $a1, ($s1)
/* 66680 80065A80 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 66684 80065A84 96250000 */  lhu        $a1, ($s1)
/* 66688 80065A88 0C01D6EA */  jal        get_entity_scale
/* 6668C 80065A8C 46000506 */   mov.s     $f20, $f0
/* 66690 80065A90 4600A502 */  mul.s      $f20, $f20, $f0
/* 66694 80065A94 4614A500 */  add.s      $f20, $f20, $f20
/* 66698 80065A98 4600A521 */  cvt.d.s    $f20, $f20
/* 6669C 80065A9C 4634B501 */  sub.d      $f20, $f22, $f20
/* 666A0 80065AA0 4620A00D */  trunc.w.d  $f0, $f20
/* 666A4 80065AA4 44020000 */  mfc1       $v0, $f0
/* 666A8 80065AA8 00021023 */  negu       $v0, $v0
/* 666AC 80065AAC 304200FF */  andi       $v0, $v0, 0xff
.L80065AB0:
/* 666B0 80065AB0 00409021 */  addu       $s2, $v0, $zero
/* 666B4 80065AB4 52400001 */  beql       $s2, $zero, .L80065ABC
/* 666B8 80065AB8 24120001 */   addiu     $s2, $zero, 1
.L80065ABC:
/* 666BC 80065ABC 27A50028 */  addiu      $a1, $sp, 0x28
/* 666C0 80065AC0 27A60029 */  addiu      $a2, $sp, 0x29
/* 666C4 80065AC4 3C13800F */  lui        $s3, %hi(combatPointer)
/* 666C8 80065AC8 27A7002A */  addiu      $a3, $sp, 0x2a
/* 666CC 80065ACC 24020001 */  addiu      $v0, $zero, 1
/* 666D0 80065AD0 8E64F760 */  lw         $a0, %lo(combatPointer)($s3)
/* 666D4 80065AD4 329000FF */  andi       $s0, $s4, 0xff
/* 666D8 80065AD8 AFB20010 */  sw         $s2, 0x10($sp)
/* 666DC 80065ADC AFB70014 */  sw         $s7, 0x14($sp)
/* 666E0 80065AE0 AFA20018 */  sw         $v0, 0x18($sp)
/* 666E4 80065AE4 AFA0001C */  sw         $zero, 0x1c($sp)
/* 666E8 80065AE8 0C019505 */  jal        combat_func
/* 666EC 80065AEC AFB00020 */   sw        $s0, 0x20($sp)
/* 666F0 80065AF0 2404008C */  addiu      $a0, $zero, 0x8c
/* 666F4 80065AF4 27C5F780 */  addiu      $a1, $fp, -0x880
/* 666F8 80065AF8 0C025F9C */  jal        Malloc
/* 666FC 80065AFC 2406023A */   addiu     $a2, $zero, 0x23a
/* 66700 80065B00 8E68F760 */  lw         $t0, -0x8a0($s3)
/* 66704 80065B04 00141880 */  sll        $v1, $s4, 2
/* 66708 80065B08 250852D0 */  addiu      $t0, $t0, 0x52d0
/* 6670C 80065B0C 01034021 */  addu       $t0, $t0, $v1
/* 66710 80065B10 AD020000 */  sw         $v0, ($t0)
/* 66714 80065B14 93A20029 */  lbu        $v0, 0x29($sp)
/* 66718 80065B18 93A3002A */  lbu        $v1, 0x2a($sp)
/* 6671C 80065B1C 93A70028 */  lbu        $a3, 0x28($sp)
/* 66720 80065B20 02202821 */  addu       $a1, $s1, $zero
/* 66724 80065B24 AFB20018 */  sw         $s2, 0x18($sp)
/* 66728 80065B28 AFA0001C */  sw         $zero, 0x1c($sp)
/* 6672C 80065B2C AFB00020 */  sw         $s0, 0x20($sp)
/* 66730 80065B30 AFA20010 */  sw         $v0, 0x10($sp)
/* 66734 80065B34 AFA30014 */  sw         $v1, 0x14($sp)
/* 66738 80065B38 8D040000 */  lw         $a0, ($t0)
/* 6673C 80065B3C 0C019F20 */  jal        combatentity_init
/* 66740 80065B40 00003021 */   addu      $a2, $zero, $zero
/* 66744 80065B44 26820001 */  addiu      $v0, $s4, 1
/* 66748 80065B48 3054FFFF */  andi       $s4, $v0, 0xffff
/* 6674C 80065B4C 27A6002B */  addiu      $a2, $sp, 0x2b
/* 66750 80065B50 3C02800F */  lui        $v0, %hi(SpellList)
/* 66754 80065B54 244216B0 */  addiu      $v0, $v0, %lo(SpellList)
/* 66758 80065B58 A3A0002B */  sb         $zero, 0x2b($sp)
/* 6675C 80065B5C 90450008 */  lbu        $a1, 8($v0)
/* 66760 80065B60 8E24002C */  lw         $a0, 0x2c($s1)
/* 66764 80065B64 0C021108 */  jal        knows_spell
/* 66768 80065B68 34A50300 */   ori       $a1, $a1, 0x300
/* 6676C 80065B6C 1040000F */  beqz       $v0, .L80065BAC
/* 66770 80065B70 93A2002B */   lbu       $v0, 0x2b($sp)
/* 66774 80065B74 8E23002C */  lw         $v1, 0x2c($s1)
/* 66778 80065B78 8C640000 */  lw         $a0, ($v1)
/* 6677C 80065B7C 00021080 */  sll        $v0, $v0, 2
/* 66780 80065B80 00441021 */  addu       $v0, $v0, $a0
/* 66784 80065B84 8C450000 */  lw         $a1, ($v0)
/* 66788 80065B88 0C01E89F */  jal        check_spell_wizard
/* 6678C 80065B8C 02202021 */   addu      $a0, $s1, $zero
/* 66790 80065B90 8E64F760 */  lw         $a0, -0x8a0($s3)
/* 66794 80065B94 00021040 */  sll        $v0, $v0, 1
/* 66798 80065B98 90830012 */  lbu        $v1, 0x12($a0)
/* 6679C 80065B9C 304200FF */  andi       $v0, $v0, 0xff
/* 667A0 80065BA0 0062182B */  sltu       $v1, $v1, $v0
/* 667A4 80065BA4 54600001 */  bnel       $v1, $zero, .L80065BAC
/* 667A8 80065BA8 A0820012 */   sb        $v0, 0x12($a0)
.L80065BAC:
/* 667AC 80065BAC 26A20001 */  addiu      $v0, $s5, 1
.L80065BB0:
/* 667B0 80065BB0 3055FFFF */  andi       $s5, $v0, 0xffff
/* 667B4 80065BB4 2EA30004 */  sltiu      $v1, $s5, 4
/* 667B8 80065BB8 5460FF7F */  bnel       $v1, $zero, .L800659B8
/* 667BC 80065BBC 3C03800E */   lui       $v1, 0x800e
/* 667C0 80065BC0 02801021 */  addu       $v0, $s4, $zero
/* 667C4 80065BC4 8FBF0054 */  lw         $ra, 0x54($sp)
/* 667C8 80065BC8 8FBE0050 */  lw         $fp, 0x50($sp)
/* 667CC 80065BCC 8FB7004C */  lw         $s7, 0x4c($sp)
/* 667D0 80065BD0 8FB60048 */  lw         $s6, 0x48($sp)
/* 667D4 80065BD4 8FB50044 */  lw         $s5, 0x44($sp)
/* 667D8 80065BD8 8FB40040 */  lw         $s4, 0x40($sp)
/* 667DC 80065BDC 8FB3003C */  lw         $s3, 0x3c($sp)
/* 667E0 80065BE0 8FB20038 */  lw         $s2, 0x38($sp)
/* 667E4 80065BE4 8FB10034 */  lw         $s1, 0x34($sp)
/* 667E8 80065BE8 8FB00030 */  lw         $s0, 0x30($sp)
/* 667EC 80065BEC D7B60060 */  ldc1       $f22, 0x60($sp)
/* 667F0 80065BF0 D7B40058 */  ldc1       $f20, 0x58($sp)
/* 667F4 80065BF4 03E00008 */  jr         $ra
/* 667F8 80065BF8 27BD0068 */   addiu     $sp, $sp, 0x68

glabel create_sholeh_combatEnt
/* 667FC 80065BFC 27BDFFA8 */  addiu      $sp, $sp, -0x58
/* 66800 80065C00 AFB40040 */  sw         $s4, 0x40($sp)
/* 66804 80065C04 30B4FFFF */  andi       $s4, $a1, 0xffff
/* 66808 80065C08 AFB20038 */  sw         $s2, 0x38($sp)
/* 6680C 80065C0C 3092FFFF */  andi       $s2, $a0, 0xffff
/* 66810 80065C10 AFB10034 */  sw         $s1, 0x34($sp)
/* 66814 80065C14 AFBF0048 */  sw         $ra, 0x48($sp)
/* 66818 80065C18 AFB50044 */  sw         $s5, 0x44($sp)
/* 6681C 80065C1C AFB3003C */  sw         $s3, 0x3c($sp)
/* 66820 80065C20 AFB00030 */  sw         $s0, 0x30($sp)
/* 66824 80065C24 F7B40050 */  sdc1       $f20, 0x50($sp)
/* 66828 80065C28 12400084 */  beqz       $s2, .L80065E3C
/* 6682C 80065C2C 30D100FF */   andi      $s1, $a2, 0xff
/* 66830 80065C30 3C10800F */  lui        $s0, %hi(EntityPointer)
/* 66834 80065C34 8E0413A0 */  lw         $a0, %lo(EntityPointer)($s0)
/* 66838 80065C38 0C01D6C6 */  jal        get_some_entity_dat
/* 6683C 80065C3C 02402821 */   addu      $a1, $s2, $zero
/* 66840 80065C40 02402821 */  addu       $a1, $s2, $zero
/* 66844 80065C44 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 66848 80065C48 0C01D6EA */  jal        get_entity_scale
/* 6684C 80065C4C 46000506 */   mov.s     $f20, $f0
/* 66850 80065C50 4600A502 */  mul.s      $f20, $f20, $f0
/* 66854 80065C54 4614A500 */  add.s      $f20, $f20, $f20
/* 66858 80065C58 44800000 */  mtc1       $zero, $f0
/* 6685C 80065C5C 4614003C */  c.lt.s     $f0, $f20
/* 66860 80065C60 00000000 */  nop
/* 66864 80065C64 45000011 */  bc1f       .L80065CAC
/* 66868 80065C68 8E0413A0 */   lw        $a0, 0x13a0($s0)
/* 6686C 80065C6C 0C01D6C6 */  jal        get_some_entity_dat
/* 66870 80065C70 02402821 */   addu      $a1, $s2, $zero
/* 66874 80065C74 02402821 */  addu       $a1, $s2, $zero
/* 66878 80065C78 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 6687C 80065C7C 0C01D6EA */  jal        get_entity_scale
/* 66880 80065C80 46000506 */   mov.s     $f20, $f0
/* 66884 80065C84 4600A502 */  mul.s      $f20, $f20, $f0
/* 66888 80065C88 4614A500 */  add.s      $f20, $f20, $f20
/* 6688C 80065C8C 3C01800E */  lui        $at, %hi(D_800DF7D8)
/* 66890 80065C90 D420F7D8 */  ldc1       $f0, %lo(D_800DF7D8)($at)
/* 66894 80065C94 4600A521 */  cvt.d.s    $f20, $f20
/* 66898 80065C98 4620A500 */  add.d      $f20, $f20, $f0
/* 6689C 80065C9C 4620A00D */  trunc.w.d  $f0, $f20
/* 668A0 80065CA0 44020000 */  mfc1       $v0, $f0
/* 668A4 80065CA4 0801973B */  j          .L80065CEC
/* 668A8 80065CA8 304200FF */   andi      $v0, $v0, 0xff
.L80065CAC:
/* 668AC 80065CAC 0C01D6C6 */  jal        get_some_entity_dat
/* 668B0 80065CB0 02402821 */   addu      $a1, $s2, $zero
/* 668B4 80065CB4 02402821 */  addu       $a1, $s2, $zero
/* 668B8 80065CB8 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 668BC 80065CBC 0C01D6EA */  jal        get_entity_scale
/* 668C0 80065CC0 46000506 */   mov.s     $f20, $f0
/* 668C4 80065CC4 4600A502 */  mul.s      $f20, $f20, $f0
/* 668C8 80065CC8 4614A500 */  add.s      $f20, $f20, $f20
/* 668CC 80065CCC 3C01800E */  lui        $at, %hi(D_800DF7E0)
/* 668D0 80065CD0 D420F7E0 */  ldc1       $f0, %lo(D_800DF7E0)($at)
/* 668D4 80065CD4 4600A521 */  cvt.d.s    $f20, $f20
/* 668D8 80065CD8 46340001 */  sub.d      $f0, $f0, $f20
/* 668DC 80065CDC 4620008D */  trunc.w.d  $f2, $f0
/* 668E0 80065CE0 44021000 */  mfc1       $v0, $f2
/* 668E4 80065CE4 00021023 */  negu       $v0, $v0
/* 668E8 80065CE8 304200FF */  andi       $v0, $v0, 0xff
.L80065CEC:
/* 668EC 80065CEC 00409821 */  addu       $s3, $v0, $zero
/* 668F0 80065CF0 52600001 */  beql       $s3, $zero, .L80065CF8
/* 668F4 80065CF4 24130001 */   addiu     $s3, $zero, 1
.L80065CF8:
/* 668F8 80065CF8 27A50028 */  addiu      $a1, $sp, 0x28
/* 668FC 80065CFC 27A60029 */  addiu      $a2, $sp, 0x29
/* 66900 80065D00 3C15800F */  lui        $s5, %hi(combatPointer)
/* 66904 80065D04 27A7002A */  addiu      $a3, $sp, 0x2a
/* 66908 80065D08 8EA4F760 */  lw         $a0, %lo(combatPointer)($s5)
/* 6690C 80065D0C 24020001 */  addiu      $v0, $zero, 1
/* 66910 80065D10 AFA20018 */  sw         $v0, 0x18($sp)
/* 66914 80065D14 24020003 */  addiu      $v0, $zero, 3
/* 66918 80065D18 AFB30010 */  sw         $s3, 0x10($sp)
/* 6691C 80065D1C AFB10014 */  sw         $s1, 0x14($sp)
/* 66920 80065D20 AFA0001C */  sw         $zero, 0x1c($sp)
/* 66924 80065D24 0C019505 */  jal        combat_func
/* 66928 80065D28 AFA20020 */   sw        $v0, 0x20($sp)
/* 6692C 80065D2C 2404008C */  addiu      $a0, $zero, 0x8c
/* 66930 80065D30 3C11800E */  lui        $s1, %hi(D_800DF780)
/* 66934 80065D34 2631F780 */  addiu      $s1, $s1, %lo(D_800DF780)
/* 66938 80065D38 02202821 */  addu       $a1, $s1, $zero
/* 6693C 80065D3C 0C025F9C */  jal        Malloc
/* 66940 80065D40 2406025F */   addiu     $a2, $zero, 0x25f
/* 66944 80065D44 24040048 */  addiu      $a0, $zero, 0x48
/* 66948 80065D48 02202821 */  addu       $a1, $s1, $zero
/* 6694C 80065D4C 24060263 */  addiu      $a2, $zero, 0x263
/* 66950 80065D50 00408021 */  addu       $s0, $v0, $zero
/* 66954 80065D54 8EA2F760 */  lw         $v0, -0x8a0($s5)
/* 66958 80065D58 00141880 */  sll        $v1, $s4, 2
/* 6695C 80065D5C 00431021 */  addu       $v0, $v0, $v1
/* 66960 80065D60 0C025F9C */  jal        Malloc
/* 66964 80065D64 AC5052D0 */   sw        $s0, 0x52d0($v0)
/* 66968 80065D68 00402021 */  addu       $a0, $v0, $zero
/* 6696C 80065D6C 02402821 */  addu       $a1, $s2, $zero
/* 66970 80065D70 24060001 */  addiu      $a2, $zero, 1
/* 66974 80065D74 0C01DD95 */  jal        create_CharSheet
/* 66978 80065D78 AE020040 */   sw        $v0, 0x40($s0)
/* 6697C 80065D7C 02002021 */  addu       $a0, $s0, $zero
/* 66980 80065D80 93A30029 */  lbu        $v1, 0x29($sp)
/* 66984 80065D84 93A5002A */  lbu        $a1, 0x2a($sp)
/* 66988 80065D88 93A70028 */  lbu        $a3, 0x28($sp)
/* 6698C 80065D8C 328200FF */  andi       $v0, $s4, 0xff
/* 66990 80065D90 AFB30018 */  sw         $s3, 0x18($sp)
/* 66994 80065D94 AFA0001C */  sw         $zero, 0x1c($sp)
/* 66998 80065D98 AFA20020 */  sw         $v0, 0x20($sp)
/* 6699C 80065D9C AFA30010 */  sw         $v1, 0x10($sp)
/* 669A0 80065DA0 AFA50014 */  sw         $a1, 0x14($sp)
/* 669A4 80065DA4 8E050040 */  lw         $a1, 0x40($s0)
/* 669A8 80065DA8 0C019F20 */  jal        combatentity_init
/* 669AC 80065DAC 00003021 */   addu      $a2, $zero, $zero
/* 669B0 80065DB0 2404001C */  addiu      $a0, $zero, 0x1c
/* 669B4 80065DB4 02202821 */  addu       $a1, $s1, $zero
/* 669B8 80065DB8 0C025F9C */  jal        Malloc
/* 669BC 80065DBC 2406026A */   addiu     $a2, $zero, 0x26a
/* 669C0 80065DC0 00402021 */  addu       $a0, $v0, $zero
/* 669C4 80065DC4 02402821 */  addu       $a1, $s2, $zero
/* 669C8 80065DC8 02003021 */  addu       $a2, $s0, $zero
/* 669CC 80065DCC 0C0192FF */  jal        combat_aiinfo_func
/* 669D0 80065DD0 AE020044 */   sw        $v0, 0x44($s0)
/* 669D4 80065DD4 26820001 */  addiu      $v0, $s4, 1
/* 669D8 80065DD8 3054FFFF */  andi       $s4, $v0, 0xffff
/* 669DC 80065DDC 27A6002B */  addiu      $a2, $sp, 0x2b
/* 669E0 80065DE0 3C02800F */  lui        $v0, %hi(SpellList+0x8)
/* 669E4 80065DE4 A3A0002B */  sb         $zero, 0x2b($sp)
/* 669E8 80065DE8 8E100040 */  lw         $s0, 0x40($s0)
/* 669EC 80065DEC 904516B8 */  lbu        $a1, %lo(SpellList+0x8)($v0)
/* 669F0 80065DF0 8E04002C */  lw         $a0, 0x2c($s0)
/* 669F4 80065DF4 0C021108 */  jal        knows_spell
/* 669F8 80065DF8 34A50300 */   ori       $a1, $a1, 0x300
/* 669FC 80065DFC 1040000F */  beqz       $v0, .L80065E3C
/* 66A00 80065E00 93A2002B */   lbu       $v0, 0x2b($sp)
/* 66A04 80065E04 8E03002C */  lw         $v1, 0x2c($s0)
/* 66A08 80065E08 8C640000 */  lw         $a0, ($v1)
/* 66A0C 80065E0C 00021080 */  sll        $v0, $v0, 2
/* 66A10 80065E10 00441021 */  addu       $v0, $v0, $a0
/* 66A14 80065E14 8C450000 */  lw         $a1, ($v0)
/* 66A18 80065E18 0C01E89F */  jal        check_spell_wizard
/* 66A1C 80065E1C 02002021 */   addu      $a0, $s0, $zero
/* 66A20 80065E20 8EA4F760 */  lw         $a0, -0x8a0($s5)
/* 66A24 80065E24 00021040 */  sll        $v0, $v0, 1
/* 66A28 80065E28 90830012 */  lbu        $v1, 0x12($a0)
/* 66A2C 80065E2C 304200FF */  andi       $v0, $v0, 0xff
/* 66A30 80065E30 0062182B */  sltu       $v1, $v1, $v0
/* 66A34 80065E34 54600001 */  bnel       $v1, $zero, .L80065E3C
/* 66A38 80065E38 A0820012 */   sb        $v0, 0x12($a0)
.L80065E3C:
/* 66A3C 80065E3C 02801021 */  addu       $v0, $s4, $zero
/* 66A40 80065E40 8FBF0048 */  lw         $ra, 0x48($sp)
/* 66A44 80065E44 8FB50044 */  lw         $s5, 0x44($sp)
/* 66A48 80065E48 8FB40040 */  lw         $s4, 0x40($sp)
/* 66A4C 80065E4C 8FB3003C */  lw         $s3, 0x3c($sp)
/* 66A50 80065E50 8FB20038 */  lw         $s2, 0x38($sp)
/* 66A54 80065E54 8FB10034 */  lw         $s1, 0x34($sp)
/* 66A58 80065E58 8FB00030 */  lw         $s0, 0x30($sp)
/* 66A5C 80065E5C D7B40050 */  ldc1       $f20, 0x50($sp)
/* 66A60 80065E60 03E00008 */  jr         $ra
/* 66A64 80065E64 27BD0058 */   addiu     $sp, $sp, 0x58

glabel look_for_boss_shadow
/* 66A68 80065E68 27BDFFA8 */  addiu      $sp, $sp, -0x58
/* 66A6C 80065E6C AFBF0050 */  sw         $ra, 0x50($sp)
/* 66A70 80065E70 3084FFFF */  andi       $a0, $a0, 0xffff
/* 66A74 80065E74 00002821 */  addu       $a1, $zero, $zero
/* 66A78 80065E78 0C01D77A */  jal        GetIDIndex
/* 66A7C 80065E7C 00003021 */   addu      $a2, $zero, $zero
/* 66A80 80065E80 00402021 */  addu       $a0, $v0, $zero
/* 66A84 80065E84 240200AC */  addiu      $v0, $zero, 0xac
/* 66A88 80065E88 1482000C */  bne        $a0, $v0, .L80065EBC
/* 66A8C 80065E8C 3C02800E */   lui       $v0, 0x800e
/* 66A90 80065E90 3C02800F */  lui        $v0, %hi(combatPointer)
/* 66A94 80065E94 8C43F760 */  lw         $v1, %lo(combatPointer)($v0)
/* 66A98 80065E98 8C640028 */  lw         $a0, 0x28($v1)
/* 66A9C 80065E9C 24020001 */  addiu      $v0, $zero, 1
/* 66AA0 80065EA0 080197CA */  j          .L80065F28
/* 66AA4 80065EA4 A0820029 */   sb        $v0, 0x29($a0)
.L80065EA8:
/* 66AA8 80065EA8 3C02800F */  lui        $v0, %hi(combatPointer)
/* 66AAC 80065EAC 8C43F760 */  lw         $v1, %lo(combatPointer)($v0)
/* 66AB0 80065EB0 8C640028 */  lw         $a0, 0x28($v1)
/* 66AB4 80065EB4 080197CA */  j          .L80065F28
/* 66AB8 80065EB8 A0800029 */   sb        $zero, 0x29($a0)
.L80065EBC:
/* 66ABC 80065EBC 2447F7E8 */  addiu      $a3, $v0, -0x818
/* 66AC0 80065EC0 88E30000 */  lwl        $v1, ($a3)
/* 66AC4 80065EC4 98E30003 */  lwr        $v1, 3($a3)
/* 66AC8 80065EC8 88E50004 */  lwl        $a1, 4($a3)
/* 66ACC 80065ECC 98E50007 */  lwr        $a1, 7($a3)
/* 66AD0 80065ED0 88E60008 */  lwl        $a2, 8($a3)
/* 66AD4 80065ED4 98E6000B */  lwr        $a2, 0xb($a3)
/* 66AD8 80065ED8 ABA30010 */  swl        $v1, 0x10($sp)
/* 66ADC 80065EDC BBA30013 */  swr        $v1, 0x13($sp)
/* 66AE0 80065EE0 ABA50014 */  swl        $a1, 0x14($sp)
/* 66AE4 80065EE4 BBA50017 */  swr        $a1, 0x17($sp)
/* 66AE8 80065EE8 ABA60018 */  swl        $a2, 0x18($sp)
/* 66AEC 80065EEC BBA6001B */  swr        $a2, 0x1b($sp)
/* 66AF0 80065EF0 80E3000C */  lb         $v1, 0xc($a3)
/* 66AF4 80065EF4 A3A3001C */  sb         $v1, 0x1c($sp)
/* 66AF8 80065EF8 93A30010 */  lbu        $v1, 0x10($sp)
/* 66AFC 80065EFC 240200FF */  addiu      $v0, $zero, 0xff
/* 66B00 80065F00 10620009 */  beq        $v1, $v0, .L80065F28
/* 66B04 80065F04 27A50010 */   addiu     $a1, $sp, 0x10
/* 66B08 80065F08 240600FF */  addiu      $a2, $zero, 0xff
/* 66B0C 80065F0C 00A01821 */  addu       $v1, $a1, $zero
.L80065F10:
/* 66B10 80065F10 90620000 */  lbu        $v0, ($v1)
/* 66B14 80065F14 1044FFE4 */  beq        $v0, $a0, .L80065EA8
/* 66B18 80065F18 24630001 */   addiu     $v1, $v1, 1
/* 66B1C 80065F1C 90620000 */  lbu        $v0, ($v1)
/* 66B20 80065F20 1446FFFB */  bne        $v0, $a2, .L80065F10
/* 66B24 80065F24 00000000 */   nop
.L80065F28:
/* 66B28 80065F28 8FBF0050 */  lw         $ra, 0x50($sp)
/* 66B2C 80065F2C 03E00008 */  jr         $ra
/* 66B30 80065F30 27BD0058 */   addiu     $sp, $sp, 0x58

glabel create_combatants
/* 66B34 80065F34 27BDFF98 */  addiu      $sp, $sp, -0x68
/* 66B38 80065F38 AFB3003C */  sw         $s3, 0x3c($sp)
/* 66B3C 80065F3C 3093FFFF */  andi       $s3, $a0, 0xffff
/* 66B40 80065F40 AFBE0050 */  sw         $fp, 0x50($sp)
/* 66B44 80065F44 30BE00FF */  andi       $fp, $a1, 0xff
/* 66B48 80065F48 AFB40040 */  sw         $s4, 0x40($sp)
/* 66B4C 80065F4C 0000A021 */  addu       $s4, $zero, $zero
/* 66B50 80065F50 AFB50044 */  sw         $s5, 0x44($sp)
/* 66B54 80065F54 3C15800F */  lui        $s5, 0x800f
/* 66B58 80065F58 AFB60048 */  sw         $s6, 0x48($sp)
/* 66B5C 80065F5C 02A0B021 */  addu       $s6, $s5, $zero
/* 66B60 80065F60 F7B60060 */  sdc1       $f22, 0x60($sp)
/* 66B64 80065F64 3C01800E */  lui        $at, %hi(D_800DF7F8)
/* 66B68 80065F68 D436F7F8 */  ldc1       $f22, %lo(D_800DF7F8)($at)
/* 66B6C 80065F6C 3C02800E */  lui        $v0, %hi(D_800DF780)
/* 66B70 80065F70 AFB7004C */  sw         $s7, 0x4c($sp)
/* 66B74 80065F74 2457F780 */  addiu      $s7, $v0, %lo(D_800DF780)
/* 66B78 80065F78 AFBF0054 */  sw         $ra, 0x54($sp)
/* 66B7C 80065F7C AFB20038 */  sw         $s2, 0x38($sp)
/* 66B80 80065F80 AFB10034 */  sw         $s1, 0x34($sp)
/* 66B84 80065F84 AFB00030 */  sw         $s0, 0x30($sp)
/* 66B88 80065F88 F7B40058 */  sdc1       $f20, 0x58($sp)
/* 66B8C 80065F8C 8EA2F760 */  lw         $v0, -0x8a0($s5)
.L80065F90:
/* 66B90 80065F90 8C430028 */  lw         $v1, 0x28($v0)
/* 66B94 80065F94 00148040 */  sll        $s0, $s4, 1
/* 66B98 80065F98 00701821 */  addu       $v1, $v1, $s0
/* 66B9C 80065F9C 94720000 */  lhu        $s2, ($v1)
/* 66BA0 80065FA0 12400079 */  beqz       $s2, .L80066188
/* 66BA4 80065FA4 26820001 */   addiu     $v0, $s4, 1
/* 66BA8 80065FA8 0C019490 */  jal        EntityCannotFight
/* 66BAC 80065FAC 02402021 */   addu      $a0, $s2, $zero
/* 66BB0 80065FB0 10400005 */  beqz       $v0, .L80065FC8
/* 66BB4 80065FB4 8EA3F760 */   lw        $v1, -0x8a0($s5)
/* 66BB8 80065FB8 8C620028 */  lw         $v0, 0x28($v1)
/* 66BBC 80065FBC 00501021 */  addu       $v0, $v0, $s0
/* 66BC0 80065FC0 08019861 */  j          .L80066184
/* 66BC4 80065FC4 A4400000 */   sh        $zero, ($v0)
.L80065FC8:
/* 66BC8 80065FC8 3C10800F */  lui        $s0, %hi(EntityPointer)
/* 66BCC 80065FCC 8E0413A0 */  lw         $a0, %lo(EntityPointer)($s0)
/* 66BD0 80065FD0 0C01D6C6 */  jal        get_some_entity_dat
/* 66BD4 80065FD4 02402821 */   addu      $a1, $s2, $zero
/* 66BD8 80065FD8 02402821 */  addu       $a1, $s2, $zero
/* 66BDC 80065FDC 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 66BE0 80065FE0 0C01D6EA */  jal        get_entity_scale
/* 66BE4 80065FE4 46000506 */   mov.s     $f20, $f0
/* 66BE8 80065FE8 4600A502 */  mul.s      $f20, $f20, $f0
/* 66BEC 80065FEC 4614A500 */  add.s      $f20, $f20, $f20
/* 66BF0 80065FF0 44800000 */  mtc1       $zero, $f0
/* 66BF4 80065FF4 4614003C */  c.lt.s     $f0, $f20
/* 66BF8 80065FF8 00000000 */  nop
/* 66BFC 80065FFC 4500000F */  bc1f       .L8006603C
/* 66C00 80066000 8E0413A0 */   lw        $a0, 0x13a0($s0)
/* 66C04 80066004 0C01D6C6 */  jal        get_some_entity_dat
/* 66C08 80066008 02402821 */   addu      $a1, $s2, $zero
/* 66C0C 8006600C 02402821 */  addu       $a1, $s2, $zero
/* 66C10 80066010 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 66C14 80066014 0C01D6EA */  jal        get_entity_scale
/* 66C18 80066018 46000506 */   mov.s     $f20, $f0
/* 66C1C 8006601C 4600A502 */  mul.s      $f20, $f20, $f0
/* 66C20 80066020 4614A500 */  add.s      $f20, $f20, $f20
/* 66C24 80066024 4600A521 */  cvt.d.s    $f20, $f20
/* 66C28 80066028 4636A500 */  add.d      $f20, $f20, $f22
/* 66C2C 8006602C 4620A00D */  trunc.w.d  $f0, $f20
/* 66C30 80066030 44020000 */  mfc1       $v0, $f0
/* 66C34 80066034 0801981D */  j          .L80066074
/* 66C38 80066038 304200FF */   andi      $v0, $v0, 0xff
.L8006603C:
/* 66C3C 8006603C 0C01D6C6 */  jal        get_some_entity_dat
/* 66C40 80066040 02402821 */   addu      $a1, $s2, $zero
/* 66C44 80066044 02402821 */  addu       $a1, $s2, $zero
/* 66C48 80066048 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 66C4C 8006604C 0C01D6EA */  jal        get_entity_scale
/* 66C50 80066050 46000506 */   mov.s     $f20, $f0
/* 66C54 80066054 4600A502 */  mul.s      $f20, $f20, $f0
/* 66C58 80066058 4614A500 */  add.s      $f20, $f20, $f20
/* 66C5C 8006605C 4600A521 */  cvt.d.s    $f20, $f20
/* 66C60 80066060 4634B501 */  sub.d      $f20, $f22, $f20
/* 66C64 80066064 4620A00D */  trunc.w.d  $f0, $f20
/* 66C68 80066068 44020000 */  mfc1       $v0, $f0
/* 66C6C 8006606C 00021023 */  negu       $v0, $v0
/* 66C70 80066070 304200FF */  andi       $v0, $v0, 0xff
.L80066074:
/* 66C74 80066074 00408821 */  addu       $s1, $v0, $zero
/* 66C78 80066078 52200001 */  beql       $s1, $zero, .L80066080
/* 66C7C 8006607C 24110001 */   addiu     $s1, $zero, 1
.L80066080:
/* 66C80 80066080 27A50028 */  addiu      $a1, $sp, 0x28
/* 66C84 80066084 27A60029 */  addiu      $a2, $sp, 0x29
/* 66C88 80066088 27A7002A */  addiu      $a3, $sp, 0x2a
/* 66C8C 8006608C 8EC4F760 */  lw         $a0, -0x8a0($s6)
/* 66C90 80066090 328200FF */  andi       $v0, $s4, 0xff
/* 66C94 80066094 AFB10010 */  sw         $s1, 0x10($sp)
/* 66C98 80066098 AFBE0014 */  sw         $fp, 0x14($sp)
/* 66C9C 8006609C AFA00018 */  sw         $zero, 0x18($sp)
/* 66CA0 800660A0 AFA0001C */  sw         $zero, 0x1c($sp)
/* 66CA4 800660A4 0C019505 */  jal        combat_func
/* 66CA8 800660A8 AFA20020 */   sw        $v0, 0x20($sp)
/* 66CAC 800660AC 2404008C */  addiu      $a0, $zero, 0x8c
/* 66CB0 800660B0 02E02821 */  addu       $a1, $s7, $zero
/* 66CB4 800660B4 0C025F9C */  jal        Malloc
/* 66CB8 800660B8 240602C5 */   addiu     $a2, $zero, 0x2c5
/* 66CBC 800660BC 24040048 */  addiu      $a0, $zero, 0x48
/* 66CC0 800660C0 02E02821 */  addu       $a1, $s7, $zero
/* 66CC4 800660C4 240602C9 */  addiu      $a2, $zero, 0x2c9
/* 66CC8 800660C8 00408021 */  addu       $s0, $v0, $zero
/* 66CCC 800660CC 8EC2F760 */  lw         $v0, -0x8a0($s6)
/* 66CD0 800660D0 00131880 */  sll        $v1, $s3, 2
/* 66CD4 800660D4 00431021 */  addu       $v0, $v0, $v1
/* 66CD8 800660D8 0C025F9C */  jal        Malloc
/* 66CDC 800660DC AC5052D0 */   sw        $s0, 0x52d0($v0)
/* 66CE0 800660E0 00402021 */  addu       $a0, $v0, $zero
/* 66CE4 800660E4 02402821 */  addu       $a1, $s2, $zero
/* 66CE8 800660E8 24060001 */  addiu      $a2, $zero, 1
/* 66CEC 800660EC 0C01DD95 */  jal        create_CharSheet
/* 66CF0 800660F0 AE020040 */   sw        $v0, 0x40($s0)
/* 66CF4 800660F4 02002021 */  addu       $a0, $s0, $zero
/* 66CF8 800660F8 93A30029 */  lbu        $v1, 0x29($sp)
/* 66CFC 800660FC 93A5002A */  lbu        $a1, 0x2a($sp)
/* 66D00 80066100 93A70028 */  lbu        $a3, 0x28($sp)
/* 66D04 80066104 24020001 */  addiu      $v0, $zero, 1
/* 66D08 80066108 AFA2001C */  sw         $v0, 0x1c($sp)
/* 66D0C 8006610C 326200FF */  andi       $v0, $s3, 0xff
/* 66D10 80066110 AFB10018 */  sw         $s1, 0x18($sp)
/* 66D14 80066114 AFA20020 */  sw         $v0, 0x20($sp)
/* 66D18 80066118 AFA30010 */  sw         $v1, 0x10($sp)
/* 66D1C 8006611C AFA50014 */  sw         $a1, 0x14($sp)
/* 66D20 80066120 8E050040 */  lw         $a1, 0x40($s0)
/* 66D24 80066124 0C019F20 */  jal        combatentity_init
/* 66D28 80066128 2406FFFF */   addiu     $a2, $zero, -1
/* 66D2C 8006612C 8E020040 */  lw         $v0, 0x40($s0)
/* 66D30 80066130 8C440018 */  lw         $a0, 0x18($v0)
/* 66D34 80066134 0C021284 */  jal        getBaseStat
/* 66D38 80066138 00002821 */   addu      $a1, $zero, $zero
/* 66D3C 8006613C 8EC5F760 */  lw         $a1, -0x8a0($s6)
/* 66D40 80066140 90A30010 */  lbu        $v1, 0x10($a1)
/* 66D44 80066144 00031880 */  sll        $v1, $v1, 2
/* 66D48 80066148 00A32821 */  addu       $a1, $a1, $v1
/* 66D4C 8006614C 8CA452D0 */  lw         $a0, 0x52d0($a1)
/* 66D50 80066150 8C830040 */  lw         $v1, 0x40($a0)
/* 66D54 80066154 00408021 */  addu       $s0, $v0, $zero
/* 66D58 80066158 8C640018 */  lw         $a0, 0x18($v1)
/* 66D5C 8006615C 0C021284 */  jal        getBaseStat
/* 66D60 80066160 00002821 */   addu      $a1, $zero, $zero
/* 66D64 80066164 0050102A */  slt        $v0, $v0, $s0
/* 66D68 80066168 10400002 */  beqz       $v0, .L80066174
/* 66D6C 8006616C 8EA2F760 */   lw        $v0, -0x8a0($s5)
/* 66D70 80066170 A0530010 */  sb         $s3, 0x10($v0)
.L80066174:
/* 66D74 80066174 0C01979A */  jal        look_for_boss_shadow
/* 66D78 80066178 02402021 */   addu      $a0, $s2, $zero
/* 66D7C 8006617C 26620001 */  addiu      $v0, $s3, 1
/* 66D80 80066180 3053FFFF */  andi       $s3, $v0, 0xffff
.L80066184:
/* 66D84 80066184 26820001 */  addiu      $v0, $s4, 1
.L80066188:
/* 66D88 80066188 3054FFFF */  andi       $s4, $v0, 0xffff
/* 66D8C 8006618C 2E830004 */  sltiu      $v1, $s4, 4
/* 66D90 80066190 1460FF7F */  bnez       $v1, .L80065F90
/* 66D94 80066194 8EA2F760 */   lw        $v0, -0x8a0($s5)
/* 66D98 80066198 8EA5F760 */  lw         $a1, -0x8a0($s5)
/* 66D9C 8006619C 8FBF0054 */  lw         $ra, 0x54($sp)
/* 66DA0 800661A0 8FBE0050 */  lw         $fp, 0x50($sp)
/* 66DA4 800661A4 8FB7004C */  lw         $s7, 0x4c($sp)
/* 66DA8 800661A8 8FB60048 */  lw         $s6, 0x48($sp)
/* 66DAC 800661AC 8FB50044 */  lw         $s5, 0x44($sp)
/* 66DB0 800661B0 8FB40040 */  lw         $s4, 0x40($sp)
/* 66DB4 800661B4 8FB3003C */  lw         $s3, 0x3c($sp)
/* 66DB8 800661B8 8FB20038 */  lw         $s2, 0x38($sp)
/* 66DBC 800661BC 8FB10034 */  lw         $s1, 0x34($sp)
/* 66DC0 800661C0 90A20010 */  lbu        $v0, 0x10($a1)
/* 66DC4 800661C4 8FB00030 */  lw         $s0, 0x30($sp)
/* 66DC8 800661C8 00021080 */  sll        $v0, $v0, 2
/* 66DCC 800661CC 00A21021 */  addu       $v0, $a1, $v0
/* 66DD0 800661D0 8C4352D0 */  lw         $v1, 0x52d0($v0)
/* 66DD4 800661D4 D7B60060 */  ldc1       $f22, 0x60($sp)
/* 66DD8 800661D8 8C640044 */  lw         $a0, 0x44($v1)
/* 66DDC 800661DC D7B40058 */  ldc1       $f20, 0x58($sp)
/* 66DE0 800661E0 90820006 */  lbu        $v0, 6($a0)
/* 66DE4 800661E4 A0A20011 */  sb         $v0, 0x11($a1)
/* 66DE8 800661E8 03E00008 */  jr         $ra
/* 66DEC 800661EC 27BD0068 */   addiu     $sp, $sp, 0x68

glabel encounter_id_check
/* 66DF0 800661F0 27BDFFC0 */  addiu      $sp, $sp, -0x40
/* 66DF4 800661F4 3C02800E */  lui        $v0, %hi(encounterID_byte_dict)
/* 66DF8 800661F8 2447F800 */  addiu      $a3, $v0, %lo(encounterID_byte_dict)
/* 66DFC 800661FC 88E30000 */  lwl        $v1, ($a3)
/* 66E00 80066200 98E30003 */  lwr        $v1, 3($a3)
/* 66E04 80066204 88E50004 */  lwl        $a1, 4($a3)
/* 66E08 80066208 98E50007 */  lwr        $a1, 7($a3)
/* 66E0C 8006620C 88E60008 */  lwl        $a2, 8($a3)
/* 66E10 80066210 98E6000B */  lwr        $a2, 0xb($a3)
/* 66E14 80066214 ABA30000 */  swl        $v1, ($sp)
/* 66E18 80066218 BBA30003 */  swr        $v1, 3($sp)
/* 66E1C 8006621C ABA50004 */  swl        $a1, 4($sp)
/* 66E20 80066220 BBA50007 */  swr        $a1, 7($sp)
/* 66E24 80066224 ABA60008 */  swl        $a2, 8($sp)
/* 66E28 80066228 BBA6000B */  swr        $a2, 0xb($sp)
/* 66E2C 8006622C 88E3000C */  lwl        $v1, 0xc($a3)
/* 66E30 80066230 98E3000F */  lwr        $v1, 0xf($a3)
/* 66E34 80066234 ABA3000C */  swl        $v1, 0xc($sp)
/* 66E38 80066238 BBA3000F */  swr        $v1, 0xf($sp)
/* 66E3C 8006623C 97A30000 */  lhu        $v1, ($sp)
/* 66E40 80066240 3402FFFF */  ori        $v0, $zero, 0xffff
/* 66E44 80066244 1062000F */  beq        $v1, $v0, .L80066284
/* 66E48 80066248 3084FFFF */   andi      $a0, $a0, 0xffff
/* 66E4C 8006624C 3C06800F */  lui        $a2, 0x800f
/* 66E50 80066250 3405FFFF */  ori        $a1, $zero, 0xffff
/* 66E54 80066254 03A01821 */  addu       $v1, $sp, $zero
.L80066258:
/* 66E58 80066258 94620000 */  lhu        $v0, ($v1)
/* 66E5C 8006625C 54440006 */  bnel       $v0, $a0, .L80066278
/* 66E60 80066260 24630004 */   addiu     $v1, $v1, 4
/* 66E64 80066264 8CC2F760 */  lw         $v0, -0x8a0($a2)
/* 66E68 80066268 90630003 */  lbu        $v1, 3($v1)
/* 66E6C 8006626C 8C440028 */  lw         $a0, 0x28($v0)
/* 66E70 80066270 080198A1 */  j          .L80066284
/* 66E74 80066274 A0830029 */   sb        $v1, 0x29($a0)
.L80066278:
/* 66E78 80066278 94620000 */  lhu        $v0, ($v1)
/* 66E7C 8006627C 1445FFF6 */  bne        $v0, $a1, .L80066258
/* 66E80 80066280 00000000 */   nop
.L80066284:
/* 66E84 80066284 03E00008 */  jr         $ra
/* 66E88 80066288 27BD0040 */   addiu     $sp, $sp, 0x40

glabel scoot_enemy_list
/* 66E8C 8006628C 00002821 */  addu       $a1, $zero, $zero
/* 66E90 80066290 00051040 */  sll        $v0, $a1, 1
.L80066294:
/* 66E94 80066294 00824021 */  addu       $t0, $a0, $v0
/* 66E98 80066298 95030000 */  lhu        $v1, ($t0)
/* 66E9C 8006629C 14600010 */  bnez       $v1, .L800662E0
/* 66EA0 800662A0 24A70001 */   addiu     $a3, $a1, 1
/* 66EA4 800662A4 2CE2000C */  sltiu      $v0, $a3, 0xc
/* 66EA8 800662A8 1040000D */  beqz       $v0, .L800662E0
/* 66EAC 800662AC 00E03021 */   addu      $a2, $a3, $zero
/* 66EB0 800662B0 00071040 */  sll        $v0, $a3, 1
/* 66EB4 800662B4 00441821 */  addu       $v1, $v0, $a0
/* 66EB8 800662B8 01002821 */  addu       $a1, $t0, $zero
.L800662BC:
/* 66EBC 800662BC 94620000 */  lhu        $v0, ($v1)
/* 66EC0 800662C0 10400004 */  beqz       $v0, .L800662D4
/* 66EC4 800662C4 24C60001 */   addiu     $a2, $a2, 1
/* 66EC8 800662C8 A4A20000 */  sh         $v0, ($a1)
/* 66ECC 800662CC 24A50002 */  addiu      $a1, $a1, 2
/* 66ED0 800662D0 A4600000 */  sh         $zero, ($v1)
.L800662D4:
/* 66ED4 800662D4 2CC2000C */  sltiu      $v0, $a2, 0xc
/* 66ED8 800662D8 1440FFF8 */  bnez       $v0, .L800662BC
/* 66EDC 800662DC 24630002 */   addiu     $v1, $v1, 2
.L800662E0:
/* 66EE0 800662E0 00E02821 */  addu       $a1, $a3, $zero
/* 66EE4 800662E4 2CA2000C */  sltiu      $v0, $a1, 0xc
/* 66EE8 800662E8 1440FFEA */  bnez       $v0, .L80066294
/* 66EEC 800662EC 00051040 */   sll       $v0, $a1, 1
/* 66EF0 800662F0 03E00008 */  jr         $ra
/* 66EF4 800662F4 00000000 */   nop

glabel some_combat_init
/* 66EF8 800662F8 27BDFFD8 */  addiu      $sp, $sp, -0x28
/* 66EFC 800662FC 3C02800E */  lui        $v0, %hi(partyPointer)
/* 66F00 80066300 AFB3001C */  sw         $s3, 0x1c($sp)
/* 66F04 80066304 8C537EA0 */  lw         $s3, %lo(partyPointer)($v0)
/* 66F08 80066308 AFB00010 */  sw         $s0, 0x10($sp)
/* 66F0C 8006630C 00808021 */  addu       $s0, $a0, $zero
/* 66F10 80066310 AFB20018 */  sw         $s2, 0x18($sp)
/* 66F14 80066314 00A09021 */  addu       $s2, $a1, $zero
/* 66F18 80066318 AFBF0024 */  sw         $ra, 0x24($sp)
/* 66F1C 8006631C AFB40020 */  sw         $s4, 0x20($sp)
/* 66F20 80066320 AFB10014 */  sw         $s1, 0x14($sp)
/* 66F24 80066324 AE120028 */  sw         $s2, 0x28($s0)
/* 66F28 80066328 92620024 */  lbu        $v0, 0x24($s3)
/* 66F2C 8006632C 02402021 */  addu       $a0, $s2, $zero
/* 66F30 80066330 A2000005 */  sb         $zero, 5($s0)
/* 66F34 80066334 0C019608 */  jal        count_enemies
/* 66F38 80066338 A2020003 */   sb        $v0, 3($s0)
/* 66F3C 8006633C 8E040028 */  lw         $a0, 0x28($s0)
/* 66F40 80066340 0000A021 */  addu       $s4, $zero, $zero
/* 66F44 80066344 0C019617 */  jal        find_sholeh
/* 66F48 80066348 A2020005 */   sb        $v0, 5($s0)
/* 66F4C 8006634C 304300FF */  andi       $v1, $v0, 0xff
/* 66F50 80066350 1060000E */  beqz       $v1, .L8006638C
/* 66F54 80066354 2463FFFF */   addiu     $v1, $v1, -1
/* 66F58 80066358 00031840 */  sll        $v1, $v1, 1
/* 66F5C 8006635C 92020005 */  lbu        $v0, 5($s0)
/* 66F60 80066360 8E040028 */  lw         $a0, 0x28($s0)
/* 66F64 80066364 2442FFFF */  addiu      $v0, $v0, -1
/* 66F68 80066368 00832021 */  addu       $a0, $a0, $v1
/* 66F6C 8006636C A2020005 */  sb         $v0, 5($s0)
/* 66F70 80066370 A4800000 */  sh         $zero, ($a0)
/* 66F74 80066374 92020003 */  lbu        $v0, 3($s0)
/* 66F78 80066378 3C03800F */  lui        $v1, %hi(entityList+0xA4)
/* 66F7C 8006637C 24420001 */  addiu      $v0, $v0, 1
/* 66F80 80066380 A2020003 */  sb         $v0, 3($s0)
/* 66F84 80066384 90621454 */  lbu        $v0, %lo(entityList+0xA4)($v1)
/* 66F88 80066388 34540200 */  ori        $s4, $v0, 0x200
.L8006638C:
/* 66F8C 8006638C 0C0198A3 */  jal        scoot_enemy_list
/* 66F90 80066390 8E040028 */   lw        $a0, 0x28($s0)
/* 66F94 80066394 92040003 */  lbu        $a0, 3($s0)
/* 66F98 80066398 0C019628 */  jal        NOOP_800658a0
/* 66F9C 8006639C 92050005 */   lbu       $a1, 5($s0)
/* 66FA0 800663A0 92050005 */  lbu        $a1, 5($s0)
/* 66FA4 800663A4 8E040028 */  lw         $a0, 0x28($s0)
/* 66FA8 800663A8 24A5FFFF */  addiu      $a1, $a1, -1
/* 66FAC 800663AC 0C01962A */  jal        recount_enemy_party
/* 66FB0 800663B0 30A5FFFF */   andi      $a1, $a1, 0xffff
/* 66FB4 800663B4 A2020007 */  sb         $v0, 7($s0)
/* 66FB8 800663B8 3C02800F */  lui        $v0, %hi(TerrainPointer)
/* 66FBC 800663BC A2000013 */  sb         $zero, 0x13($s0)
/* 66FC0 800663C0 A2000014 */  sb         $zero, 0x14($s0)
/* 66FC4 800663C4 8C441BBC */  lw         $a0, %lo(TerrainPointer)($v0)
/* 66FC8 800663C8 92030003 */  lbu        $v1, 3($s0)
/* 66FCC 800663CC 92020005 */  lbu        $v0, 5($s0)
/* 66FD0 800663D0 AE000008 */  sw         $zero, 8($s0)
/* 66FD4 800663D4 AE00000C */  sw         $zero, 0xc($s0)
/* 66FD8 800663D8 90850002 */  lbu        $a1, 2($a0)
/* 66FDC 800663DC 00621821 */  addu       $v1, $v1, $v0
/* 66FE0 800663E0 A2030001 */  sb         $v1, 1($s0)
/* 66FE4 800663E4 0C01963B */  jal        look_for_flasks
/* 66FE8 800663E8 A2050000 */   sb        $a1, ($s0)
/* 66FEC 800663EC 8E030028 */  lw         $v1, 0x28($s0)
/* 66FF0 800663F0 00008821 */  addu       $s1, $zero, $zero
/* 66FF4 800663F4 A2020012 */  sb         $v0, 0x12($s0)
/* 66FF8 800663F8 AE000024 */  sw         $zero, 0x24($s0)
/* 66FFC 800663FC AE000020 */  sw         $zero, 0x20($s0)
/* 67000 80066400 90650027 */  lbu        $a1, 0x27($v1)
/* 67004 80066404 0C01C2D4 */  jal        init_combat_substruct
/* 67008 80066408 2604003C */   addiu     $a0, $s0, 0x3c
/* 6700C 8006640C 92430026 */  lbu        $v1, 0x26($s2)
/* 67010 80066410 24020002 */  addiu      $v0, $zero, 2
/* 67014 80066414 14620004 */  bne        $v1, $v0, .L80066428
/* 67018 80066418 00000000 */   nop
/* 6701C 8006641C 0C020030 */  jal        some_ranger_stam_func
/* 67020 80066420 02602021 */   addu      $a0, $s3, $zero
/* 67024 80066424 00408821 */  addu       $s1, $v0, $zero
.L80066428:
/* 67028 80066428 0C019659 */  jal        create_party_combatEnt
/* 6702C 8006642C 02202021 */   addu      $a0, $s1, $zero
/* 67030 80066430 02802021 */  addu       $a0, $s4, $zero
/* 67034 80066434 304500FF */  andi       $a1, $v0, 0xff
/* 67038 80066438 0C0196FF */  jal        create_sholeh_combatEnt
/* 6703C 8006643C 02203021 */   addu      $a2, $s1, $zero
/* 67040 80066440 304300FF */  andi       $v1, $v0, 0xff
/* 67044 80066444 00602021 */  addu       $a0, $v1, $zero
/* 67048 80066448 02202821 */  addu       $a1, $s1, $zero
/* 6704C 8006644C 0C0197CD */  jal        create_combatants
/* 67050 80066450 A2030010 */   sb        $v1, 0x10($s0)
/* 67054 80066454 0C019E42 */  jal        check_battlefeild_fleeing_refpoints
/* 67058 80066458 02002021 */   addu      $a0, $s0, $zero
/* 6705C 8006645C 26040030 */  addiu      $a0, $s0, 0x30
/* 67060 80066460 0C01CCD7 */  jal        combatenine_turn_func
/* 67064 80066464 AE000034 */   sw        $zero, 0x34($s0)
/* 67068 80066468 0C01A060 */  jal        get_combatEnt_x_f
/* 6706C 8006646C 8E04002C */   lw        $a0, 0x2c($s0)
/* 67070 80066470 8E04002C */  lw         $a0, 0x2c($s0)
/* 67074 80066474 0C01A062 */  jal        get_combatEnt_y_f
/* 67078 80066478 E6000018 */   swc1      $f0, 0x18($s0)
/* 6707C 8006647C 8E020028 */  lw         $v0, 0x28($s0)
/* 67080 80066480 9444001A */  lhu        $a0, 0x1a($v0)
/* 67084 80066484 0C01987C */  jal        encounter_id_check
/* 67088 80066488 E600001C */   swc1      $f0, 0x1c($s0)
/* 6708C 8006648C 8FBF0024 */  lw         $ra, 0x24($sp)
/* 67090 80066490 8FB40020 */  lw         $s4, 0x20($sp)
/* 67094 80066494 8FB3001C */  lw         $s3, 0x1c($sp)
/* 67098 80066498 8FB20018 */  lw         $s2, 0x18($sp)
/* 6709C 8006649C 8FB10014 */  lw         $s1, 0x14($sp)
/* 670A0 800664A0 8FB00010 */  lw         $s0, 0x10($sp)
/* 670A4 800664A4 03E00008 */  jr         $ra
/* 670A8 800664A8 27BD0028 */   addiu     $sp, $sp, 0x28

glabel func_800664AC
/* 670AC 800664AC 27BDFFE0 */  addiu      $sp, $sp, -0x20
/* 670B0 800664B0 AFB10014 */  sw         $s1, 0x14($sp)
/* 670B4 800664B4 00808821 */  addu       $s1, $a0, $zero
/* 670B8 800664B8 AFBF001C */  sw         $ra, 0x1c($sp)
/* 670BC 800664BC AFB20018 */  sw         $s2, 0x18($sp)
/* 670C0 800664C0 AFB00010 */  sw         $s0, 0x10($sp)
/* 670C4 800664C4 92220007 */  lbu        $v0, 7($s1)
/* 670C8 800664C8 2C42000C */  sltiu      $v0, $v0, 0xc
/* 670CC 800664CC 10400016 */  beqz       $v0, .L80066528
/* 670D0 800664D0 24120001 */   addiu     $s2, $zero, 1
/* 670D4 800664D4 92220007 */  lbu        $v0, 7($s1)
.L800664D8:
/* 670D8 800664D8 8E230028 */  lw         $v1, 0x28($s1)
/* 670DC 800664DC 00021040 */  sll        $v0, $v0, 1
/* 670E0 800664E0 00621821 */  addu       $v1, $v1, $v0
/* 670E4 800664E4 94700000 */  lhu        $s0, ($v1)
/* 670E8 800664E8 0C017FE6 */  jal        some_combat_leader_check
/* 670EC 800664EC 02002021 */   addu      $a0, $s0, $zero
/* 670F0 800664F0 14400003 */  bnez       $v0, .L80066500
/* 670F4 800664F4 02002021 */   addu      $a0, $s0, $zero
/* 670F8 800664F8 0801994B */  j          .L8006652C
/* 670FC 800664FC 24020001 */   addiu     $v0, $zero, 1
.L80066500:
/* 67100 80066500 0C023EAE */  jal        draw_dead_crossbones
/* 67104 80066504 AE32543C */   sw        $s2, 0x543c($s1)
/* 67108 80066508 8E240028 */  lw         $a0, 0x28($s1)
/* 6710C 8006650C 0C01962A */  jal        recount_enemy_party
/* 67110 80066510 92250007 */   lbu       $a1, 7($s1)
/* 67114 80066514 A2220007 */  sb         $v0, 7($s1)
/* 67118 80066518 304200FF */  andi       $v0, $v0, 0xff
/* 6711C 8006651C 2C42000C */  sltiu      $v0, $v0, 0xc
/* 67120 80066520 5440FFED */  bnel       $v0, $zero, .L800664D8
/* 67124 80066524 92220007 */   lbu       $v0, 7($s1)
.L80066528:
/* 67128 80066528 00001021 */  addu       $v0, $zero, $zero
.L8006652C:
/* 6712C 8006652C 8FBF001C */  lw         $ra, 0x1c($sp)
/* 67130 80066530 8FB20018 */  lw         $s2, 0x18($sp)
/* 67134 80066534 8FB10014 */  lw         $s1, 0x14($sp)
/* 67138 80066538 8FB00010 */  lw         $s0, 0x10($sp)
/* 6713C 8006653C 03E00008 */  jr         $ra
/* 67140 80066540 27BD0020 */   addiu     $sp, $sp, 0x20

glabel Ofunc_CombatLeaderDead
/* 67144 80066544 27BDFFD8 */  addiu      $sp, $sp, -0x28
/* 67148 80066548 AFB20018 */  sw         $s2, 0x18($sp)
/* 6714C 8006654C 00809021 */  addu       $s2, $a0, $zero
/* 67150 80066550 AFB3001C */  sw         $s3, 0x1c($sp)
/* 67154 80066554 00A09821 */  addu       $s3, $a1, $zero
/* 67158 80066558 00131080 */  sll        $v0, $s3, 2
/* 6715C 8006655C 02421021 */  addu       $v0, $s2, $v0
/* 67160 80066560 AFBF0020 */  sw         $ra, 0x20($sp)
/* 67164 80066564 AFB10014 */  sw         $s1, 0x14($sp)
/* 67168 80066568 AFB00010 */  sw         $s0, 0x10($sp)
/* 6716C 8006656C 8C5152D0 */  lw         $s1, 0x52d0($v0)
/* 67170 80066570 12200020 */  beqz       $s1, .L800665F4
/* 67174 80066574 24020001 */   addiu     $v0, $zero, 1
/* 67178 80066578 0C01DF1D */  jal        isDead
/* 6717C 8006657C 8E240040 */   lw        $a0, 0x40($s1)
/* 67180 80066580 54400007 */  bnel       $v0, $zero, .L800665A0
/* 67184 80066584 92420010 */   lbu       $v0, 0x10($s2)
/* 67188 80066588 0C01A085 */  jal        CombatEnt_flag_6
/* 6718C 8006658C 02202021 */   addu      $a0, $s1, $zero
/* 67190 80066590 54400003 */  bnel       $v0, $zero, .L800665A0
/* 67194 80066594 92420010 */   lbu       $v0, 0x10($s2)
/* 67198 80066598 0801997D */  j          .L800665F4
/* 6719C 8006659C 00001021 */   addu      $v0, $zero, $zero
.L800665A0:
/* 671A0 800665A0 16620002 */  bne        $s3, $v0, .L800665AC
/* 671A4 800665A4 24020001 */   addiu     $v0, $zero, 1
/* 671A8 800665A8 AE42000C */  sw         $v0, 0xc($s2)
.L800665AC:
/* 671AC 800665AC 0C01DE3D */  jal        CharSheet_free
/* 671B0 800665B0 8E240040 */   lw        $a0, 0x40($s1)
/* 671B4 800665B4 3C10800E */  lui        $s0, %hi(D_800DF780)
/* 671B8 800665B8 2610F780 */  addiu      $s0, $s0, %lo(D_800DF780)
/* 671BC 800665BC 02002821 */  addu       $a1, $s0, $zero
/* 671C0 800665C0 8E240040 */  lw         $a0, 0x40($s1)
/* 671C4 800665C4 0C02600C */  jal        Free
/* 671C8 800665C8 240603AD */   addiu     $a2, $zero, 0x3ad
/* 671CC 800665CC 0C019FC9 */  jal        combatEntity_free
/* 671D0 800665D0 02202021 */   addu      $a0, $s1, $zero
/* 671D4 800665D4 02202021 */  addu       $a0, $s1, $zero
/* 671D8 800665D8 02002821 */  addu       $a1, $s0, $zero
/* 671DC 800665DC 0C02600C */  jal        Free
/* 671E0 800665E0 240603B1 */   addiu     $a2, $zero, 0x3b1
/* 671E4 800665E4 24020001 */  addiu      $v0, $zero, 1
/* 671E8 800665E8 00131880 */  sll        $v1, $s3, 2
/* 671EC 800665EC 02431821 */  addu       $v1, $s2, $v1
/* 671F0 800665F0 AC6052D0 */  sw         $zero, 0x52d0($v1)
.L800665F4:
/* 671F4 800665F4 8FBF0020 */  lw         $ra, 0x20($sp)
/* 671F8 800665F8 8FB3001C */  lw         $s3, 0x1c($sp)
/* 671FC 800665FC 8FB20018 */  lw         $s2, 0x18($sp)
/* 67200 80066600 8FB10014 */  lw         $s1, 0x14($sp)
/* 67204 80066604 8FB00010 */  lw         $s0, 0x10($sp)
/* 67208 80066608 03E00008 */  jr         $ra
/* 6720C 8006660C 27BD0028 */   addiu     $sp, $sp, 0x28

glabel some_combat_proximity_check
/* 67210 80066610 27BDFF38 */  addiu      $sp, $sp, -0xc8
/* 67214 80066614 AFB400A0 */  sw         $s4, 0xa0($sp)
/* 67218 80066618 0080A021 */  addu       $s4, $a0, $zero
/* 6721C 8006661C AFB00090 */  sw         $s0, 0x90($sp)
/* 67220 80066620 3C10800F */  lui        $s0, %hi(EntityPointer)
/* 67224 80066624 8E0413A0 */  lw         $a0, %lo(EntityPointer)($s0)
/* 67228 80066628 F7B600B8 */  sdc1       $f22, 0xb8($sp)
/* 6722C 8006662C 4486B000 */  mtc1       $a2, $f22
/* 67230 80066630 AFB10094 */  sw         $s1, 0x94($sp)
/* 67234 80066634 30B1FFFF */  andi       $s1, $a1, 0xffff
/* 67238 80066638 F7B800C0 */  sdc1       $f24, 0xc0($sp)
/* 6723C 8006663C 4487C000 */  mtc1       $a3, $f24
/* 67240 80066640 02202821 */  addu       $a1, $s1, $zero
/* 67244 80066644 AFB3009C */  sw         $s3, 0x9c($sp)
/* 67248 80066648 AFBF00A8 */  sw         $ra, 0xa8($sp)
/* 6724C 8006664C AFB500A4 */  sw         $s5, 0xa4($sp)
/* 67250 80066650 AFB20098 */  sw         $s2, 0x98($sp)
/* 67254 80066654 F7B400B0 */  sdc1       $f20, 0xb0($sp)
/* 67258 80066658 0C01D6C6 */  jal        get_some_entity_dat
/* 6725C 8006665C 00009821 */   addu      $s3, $zero, $zero
/* 67260 80066660 02202821 */  addu       $a1, $s1, $zero
/* 67264 80066664 8E0413A0 */  lw         $a0, 0x13a0($s0)
/* 67268 80066668 0C01D6EA */  jal        get_entity_scale
/* 6726C 8006666C 46000506 */   mov.s     $f20, $f0
/* 67270 80066670 27A40010 */  addiu      $a0, $sp, 0x10
/* 67274 80066674 00002821 */  addu       $a1, $zero, $zero
/* 67278 80066678 4600A502 */  mul.s      $f20, $f20, $f0
/* 6727C 8006667C 0C026380 */  jal        Calloc
/* 67280 80066680 24060008 */   addiu     $a2, $zero, 8
/* 67284 80066684 3C02800E */  lui        $v0, %hi(combat_bytes)
/* 67288 80066688 E7B60010 */  swc1       $f22, 0x10($sp)
/* 6728C 8006668C E7B80014 */  swc1       $f24, 0x14($sp)
/* 67290 80066690 92830001 */  lbu        $v1, 1($s4)
/* 67294 80066694 10600020 */  beqz       $v1, .L80066718
/* 67298 80066698 24427C70 */   addiu     $v0, $v0, %lo(combat_bytes)
/* 6729C 8006669C 24550034 */  addiu      $s5, $v0, 0x34
/* 672A0 800666A0 27B20050 */  addiu      $s2, $sp, 0x50
/* 672A4 800666A4 269152D0 */  addiu      $s1, $s4, 0x52d0
.L800666A8:
/* 672A8 800666A8 8E220000 */  lw         $v0, ($s1)
/* 672AC 800666AC 50400016 */  beql       $v0, $zero, .L80066708
/* 672B0 800666B0 92820001 */   lbu       $v0, 1($s4)
/* 672B4 800666B4 90420020 */  lbu        $v0, 0x20($v0)
/* 672B8 800666B8 00021080 */  sll        $v0, $v0, 2
/* 672BC 800666BC 02A21021 */  addu       $v0, $s5, $v0
/* 672C0 800666C0 8C500000 */  lw         $s0, ($v0)
/* 672C4 800666C4 52000010 */  beql       $s0, $zero, .L80066708
/* 672C8 800666C8 92820001 */   lbu       $v0, 1($s4)
/* 672CC 800666CC 8E050068 */  lw         $a1, 0x68($s0)
/* 672D0 800666D0 8E060070 */  lw         $a2, 0x70($s0)
/* 672D4 800666D4 0C02AD55 */  jal        setVec2
/* 672D8 800666D8 02402021 */   addu      $a0, $s2, $zero
/* 672DC 800666DC 27A40010 */  addiu      $a0, $sp, 0x10
/* 672E0 800666E0 0C02AB5A */  jal        get_vec2_proximity
/* 672E4 800666E4 02402821 */   addu      $a1, $s2, $zero
/* 672E8 800666E8 C6020034 */  lwc1       $f2, 0x34($s0)
/* 672EC 800666EC 46141080 */  add.s      $f2, $f2, $f20
/* 672F0 800666F0 4600103C */  c.lt.s     $f2, $f0
/* 672F4 800666F4 00000000 */  nop
/* 672F8 800666F8 45030003 */  bc1tl      .L80066708
/* 672FC 800666FC 92820001 */   lbu       $v0, 1($s4)
/* 67300 80066700 080199C7 */  j          .L8006671C
/* 67304 80066704 00001021 */   addu      $v0, $zero, $zero
.L80066708:
/* 67308 80066708 26730001 */  addiu      $s3, $s3, 1
/* 6730C 8006670C 0262102B */  sltu       $v0, $s3, $v0
/* 67310 80066710 1440FFE5 */  bnez       $v0, .L800666A8
/* 67314 80066714 26310004 */   addiu     $s1, $s1, 4
.L80066718:
/* 67318 80066718 24020001 */  addiu      $v0, $zero, 1
.L8006671C:
/* 6731C 8006671C 8FBF00A8 */  lw         $ra, 0xa8($sp)
/* 67320 80066720 8FB500A4 */  lw         $s5, 0xa4($sp)
/* 67324 80066724 8FB400A0 */  lw         $s4, 0xa0($sp)
/* 67328 80066728 8FB3009C */  lw         $s3, 0x9c($sp)
/* 6732C 8006672C 8FB20098 */  lw         $s2, 0x98($sp)
/* 67330 80066730 8FB10094 */  lw         $s1, 0x94($sp)
/* 67334 80066734 8FB00090 */  lw         $s0, 0x90($sp)
/* 67338 80066738 D7B800C0 */  ldc1       $f24, 0xc0($sp)
/* 6733C 8006673C D7B600B8 */  ldc1       $f22, 0xb8($sp)
/* 67340 80066740 D7B400B0 */  ldc1       $f20, 0xb0($sp)
/* 67344 80066744 03E00008 */  jr         $ra
/* 67348 80066748 27BD00C8 */   addiu     $sp, $sp, 0xc8

glabel func_8006674C
/* 6734C 8006674C 27BDFFB8 */  addiu      $sp, $sp, -0x48
/* 67350 80066750 AFBE0030 */  sw         $fp, 0x30($sp)
/* 67354 80066754 8FBE0058 */  lw         $fp, 0x58($sp)
/* 67358 80066758 F7B60040 */  sdc1       $f22, 0x40($sp)
/* 6735C 8006675C 4480B000 */  mtc1       $zero, $f22
/* 67360 80066760 F7B40038 */  sdc1       $f20, 0x38($sp)
/* 67364 80066764 3C01800E */  lui        $at, %hi(D_800DF810)
/* 67368 80066768 D434F810 */  ldc1       $f20, %lo(D_800DF810)($at)
/* 6736C 8006676C AFB60028 */  sw         $s6, 0x28($sp)
/* 67370 80066770 30D6FFFF */  andi       $s6, $a2, 0xffff
/* 67374 80066774 AFB50024 */  sw         $s5, 0x24($sp)
/* 67378 80066778 30F500FF */  andi       $s5, $a3, 0xff
/* 6737C 8006677C AFB20018 */  sw         $s2, 0x18($sp)
/* 67380 80066780 00009021 */  addu       $s2, $zero, $zero
/* 67384 80066784 AFB7002C */  sw         $s7, 0x2c($sp)
/* 67388 80066788 0080B821 */  addu       $s7, $a0, $zero
/* 6738C 8006678C AFB40020 */  sw         $s4, 0x20($sp)
/* 67390 80066790 26F4003C */  addiu      $s4, $s7, 0x3c
/* 67394 80066794 AFBF0034 */  sw         $ra, 0x34($sp)
/* 67398 80066798 AFB3001C */  sw         $s3, 0x1c($sp)
/* 6739C 8006679C AFB10014 */  sw         $s1, 0x14($sp)
/* 673A0 800667A0 AFB00010 */  sw         $s0, 0x10($sp)
/* 673A4 800667A4 AFA5004C */  sw         $a1, 0x4c($sp)
/* 673A8 800667A8 8FA20060 */  lw         $v0, 0x60($sp)
.L800667AC:
/* 673AC 800667AC 00008821 */  addu       $s1, $zero, $zero
/* 673B0 800667B0 02429826 */  xor        $s3, $s2, $v0
/* 673B4 800667B4 02202821 */  addu       $a1, $s1, $zero
.L800667B8:
/* 673B8 800667B8 8FA4004C */  lw         $a0, 0x4c($sp)
/* 673BC 800667BC 0C0194E4 */  jal        get_refpoint_by_name
/* 673C0 800667C0 0013302B */   sltu      $a2, $zero, $s3
/* 673C4 800667C4 00408021 */  addu       $s0, $v0, $zero
/* 673C8 800667C8 C6000000 */  lwc1       $f0, ($s0)
/* 673CC 800667CC 4600B03C */  c.lt.s     $f22, $f0
/* 673D0 800667D0 00000000 */  nop
/* 673D4 800667D4 45000006 */  bc1f       .L800667F0
/* 673D8 800667D8 46000021 */   cvt.d.s   $f0, $f0
/* 673DC 800667DC 46340000 */  add.d      $f0, $f0, $f20
/* 673E0 800667E0 4620008D */  trunc.w.d  $f2, $f0
/* 673E4 800667E4 44021000 */  mfc1       $v0, $f2
/* 673E8 800667E8 08019A01 */  j          .L80066804
/* 673EC 800667EC 304500FF */   andi      $a1, $v0, 0xff
.L800667F0:
/* 673F0 800667F0 4620A001 */  sub.d      $f0, $f20, $f0
/* 673F4 800667F4 4620008D */  trunc.w.d  $f2, $f0
/* 673F8 800667F8 44021000 */  mfc1       $v0, $f2
/* 673FC 800667FC 00021023 */  negu       $v0, $v0
/* 67400 80066800 304500FF */  andi       $a1, $v0, 0xff
.L80066804:
/* 67404 80066804 C6000008 */  lwc1       $f0, 8($s0)
/* 67408 80066808 4600B03C */  c.lt.s     $f22, $f0
/* 6740C 8006680C 00000000 */  nop
/* 67410 80066810 45000006 */  bc1f       .L8006682C
/* 67414 80066814 46000021 */   cvt.d.s   $f0, $f0
/* 67418 80066818 46340000 */  add.d      $f0, $f0, $f20
/* 6741C 8006681C 4620008D */  trunc.w.d  $f2, $f0
/* 67420 80066820 44021000 */  mfc1       $v0, $f2
/* 67424 80066824 08019A10 */  j          .L80066840
/* 67428 80066828 304600FF */   andi      $a2, $v0, 0xff
.L8006682C:
/* 6742C 8006682C 4620A001 */  sub.d      $f0, $f20, $f0
/* 67430 80066830 4620008D */  trunc.w.d  $f2, $f0
/* 67434 80066834 44021000 */  mfc1       $v0, $f2
/* 67438 80066838 00021023 */  negu       $v0, $v0
/* 6743C 8006683C 304600FF */  andi       $a2, $v0, 0xff
.L80066840:
/* 67440 80066840 02802021 */  addu       $a0, $s4, $zero
/* 67444 80066844 0C01C377 */  jal        combat_substruct_lookup
/* 67448 80066848 02A03821 */   addu      $a3, $s5, $zero
/* 6744C 8006684C 5440000F */  bnel       $v0, $zero, .L8006688C
/* 67450 80066850 26310001 */   addiu     $s1, $s1, 1
/* 67454 80066854 02E02021 */  addu       $a0, $s7, $zero
/* 67458 80066858 8E060000 */  lw         $a2, ($s0)
/* 6745C 8006685C 8E070008 */  lw         $a3, 8($s0)
/* 67460 80066860 0C019984 */  jal        some_combat_proximity_check
/* 67464 80066864 02C02821 */   addu      $a1, $s6, $zero
/* 67468 80066868 10400007 */  beqz       $v0, .L80066888
/* 6746C 8006686C 24020001 */   addiu     $v0, $zero, 1
/* 67470 80066870 C6000000 */  lwc1       $f0, ($s0)
/* 67474 80066874 E7C00000 */  swc1       $f0, ($fp)
/* 67478 80066878 C6020008 */  lwc1       $f2, 8($s0)
/* 6747C 8006687C 8FA3005C */  lw         $v1, 0x5c($sp)
/* 67480 80066880 08019A2B */  j          .L800668AC
/* 67484 80066884 E4620000 */   swc1      $f2, ($v1)
.L80066888:
/* 67488 80066888 26310001 */  addiu      $s1, $s1, 1
.L8006688C:
/* 6748C 8006688C 2E220004 */  sltiu      $v0, $s1, 4
/* 67490 80066890 1440FFC9 */  bnez       $v0, .L800667B8
/* 67494 80066894 02202821 */   addu      $a1, $s1, $zero
/* 67498 80066898 26520001 */  addiu      $s2, $s2, 1
/* 6749C 8006689C 2E420002 */  sltiu      $v0, $s2, 2
/* 674A0 800668A0 1440FFC2 */  bnez       $v0, .L800667AC
/* 674A4 800668A4 8FA20060 */   lw        $v0, 0x60($sp)
/* 674A8 800668A8 00001021 */  addu       $v0, $zero, $zero
.L800668AC:
/* 674AC 800668AC 8FBF0034 */  lw         $ra, 0x34($sp)
/* 674B0 800668B0 8FBE0030 */  lw         $fp, 0x30($sp)
/* 674B4 800668B4 8FB7002C */  lw         $s7, 0x2c($sp)
/* 674B8 800668B8 8FB60028 */  lw         $s6, 0x28($sp)
/* 674BC 800668BC 8FB50024 */  lw         $s5, 0x24($sp)
/* 674C0 800668C0 8FB40020 */  lw         $s4, 0x20($sp)
/* 674C4 800668C4 8FB3001C */  lw         $s3, 0x1c($sp)
/* 674C8 800668C8 8FB20018 */  lw         $s2, 0x18($sp)
/* 674CC 800668CC 8FB10014 */  lw         $s1, 0x14($sp)
/* 674D0 800668D0 8FB00010 */  lw         $s0, 0x10($sp)
/* 674D4 800668D4 D7B60040 */  ldc1       $f22, 0x40($sp)
/* 674D8 800668D8 D7B40038 */  ldc1       $f20, 0x38($sp)
/* 674DC 800668DC 03E00008 */  jr         $ra
/* 674E0 800668E0 27BD0048 */   addiu     $sp, $sp, 0x48

glabel func_800668E4
/* 674E4 800668E4 27BDFFA8 */  addiu      $sp, $sp, -0x58
/* 674E8 800668E8 8FA30070 */  lw         $v1, 0x70($sp)
/* 674EC 800668EC 8FA80074 */  lw         $t0, 0x74($sp)
/* 674F0 800668F0 AFB3003C */  sw         $s3, 0x3c($sp)
/* 674F4 800668F4 93B3006B */  lbu        $s3, 0x6b($sp)
/* 674F8 800668F8 AFB20038 */  sw         $s2, 0x38($sp)
/* 674FC 800668FC 93B2006F */  lbu        $s2, 0x6f($sp)
/* 67500 80066900 93A2007B */  lbu        $v0, 0x7b($sp)
/* 67504 80066904 AFB7004C */  sw         $s7, 0x4c($sp)
/* 67508 80066908 0080B821 */  addu       $s7, $a0, $zero
/* 6750C 8006690C AFBE0050 */  sw         $fp, 0x50($sp)
/* 67510 80066910 00A0F021 */  addu       $fp, $a1, $zero
/* 67514 80066914 AFBF0054 */  sw         $ra, 0x54($sp)
/* 67518 80066918 AFB60048 */  sw         $s6, 0x48($sp)
/* 6751C 8006691C AFB50044 */  sw         $s5, 0x44($sp)
/* 67520 80066920 AFB40040 */  sw         $s4, 0x40($sp)
/* 67524 80066924 AFB10034 */  sw         $s1, 0x34($sp)
/* 67528 80066928 AFB00030 */  sw         $s0, 0x30($sp)
/* 6752C 8006692C AFA60060 */  sw         $a2, 0x60($sp)
/* 67530 80066930 A3C00000 */  sb         $zero, ($fp)
/* 67534 80066934 8FA90060 */  lw         $t1, 0x60($sp)
/* 67538 80066938 A1200000 */  sb         $zero, ($t1)
/* 6753C 8006693C 97B1007E */  lhu        $s1, 0x7e($sp)
/* 67540 80066940 AFB30010 */  sw         $s3, 0x10($sp)
/* 67544 80066944 AFB20014 */  sw         $s2, 0x14($sp)
/* 67548 80066948 AFA30018 */  sw         $v1, 0x18($sp)
/* 6754C 8006694C AFA8001C */  sw         $t0, 0x1c($sp)
/* 67550 80066950 0C019505 */  jal        combat_func
/* 67554 80066954 AFA20020 */   sw        $v0, 0x20($sp)
/* 67558 80066958 26E4003C */  addiu      $a0, $s7, 0x3c
/* 6755C 8006695C 02603821 */  addu       $a3, $s3, $zero
/* 67560 80066960 93C50000 */  lbu        $a1, ($fp)
/* 67564 80066964 8FA20060 */  lw         $v0, 0x60($sp)
/* 67568 80066968 8FA80060 */  lw         $t0, 0x60($sp)
/* 6756C 8006696C 90460000 */  lbu        $a2, ($v0)
/* 67570 80066970 00A01021 */  addu       $v0, $a1, $zero
/* 67574 80066974 91030000 */  lbu        $v1, ($t0)
/* 67578 80066978 44820000 */  mtc1       $v0, $f0
/* 6757C 8006697C 46800020 */  cvt.s.w    $f0, $f0
/* 67580 80066980 E7A00028 */  swc1       $f0, 0x28($sp)
/* 67584 80066984 44831000 */  mtc1       $v1, $f2
/* 67588 80066988 468010A0 */  cvt.s.w    $f2, $f2
/* 6758C 8006698C 0C01C377 */  jal        combat_substruct_lookup
/* 67590 80066990 E7A2002C */   swc1      $f2, 0x2c($sp)
/* 67594 80066994 14400009 */  bnez       $v0, .L800669BC
/* 67598 80066998 00008021 */   addu      $s0, $zero, $zero
/* 6759C 8006699C 02E02021 */  addu       $a0, $s7, $zero
/* 675A0 800669A0 8FA60028 */  lw         $a2, 0x28($sp)
/* 675A4 800669A4 8FA7002C */  lw         $a3, 0x2c($sp)
/* 675A8 800669A8 0C019984 */  jal        some_combat_proximity_check
/* 675AC 800669AC 02202821 */   addu      $a1, $s1, $zero
/* 675B0 800669B0 14400034 */  bnez       $v0, .L80066A84
/* 675B4 800669B4 8FBF0054 */   lw        $ra, 0x54($sp)
/* 675B8 800669B8 00008021 */  addu       $s0, $zero, $zero
.L800669BC:
/* 675BC 800669BC 27B50028 */  addiu      $s5, $sp, 0x28
/* 675C0 800669C0 27B4002C */  addiu      $s4, $sp, 0x2c
/* 675C4 800669C4 0012902B */  sltu       $s2, $zero, $s2
/* 675C8 800669C8 3C168000 */  lui        $s6, 0x8000
/* 675CC 800669CC 02E02021 */  addu       $a0, $s7, $zero
.L800669D0:
/* 675D0 800669D0 02002821 */  addu       $a1, $s0, $zero
/* 675D4 800669D4 02203021 */  addu       $a2, $s1, $zero
/* 675D8 800669D8 02603821 */  addu       $a3, $s3, $zero
/* 675DC 800669DC AFB50010 */  sw         $s5, 0x10($sp)
/* 675E0 800669E0 AFB40014 */  sw         $s4, 0x14($sp)
/* 675E4 800669E4 0C0199D3 */  jal        func_8006674C
/* 675E8 800669E8 AFB20018 */   sw        $s2, 0x18($sp)
/* 675EC 800669EC 10400020 */  beqz       $v0, .L80066A70
/* 675F0 800669F0 C7A00028 */   lwc1      $f0, 0x28($sp)
/* 675F4 800669F4 3C01800E */  lui        $at, %hi(D_800DF818)
/* 675F8 800669F8 C422F818 */  lwc1       $f2, %lo(D_800DF818)($at)
/* 675FC 800669FC 4600103E */  c.le.s     $f2, $f0
/* 67600 80066A00 00000000 */  nop
/* 67604 80066A04 45030005 */  bc1tl      .L80066A1C
/* 67608 80066A08 46020001 */   sub.s     $f0, $f0, $f2
/* 6760C 80066A0C 4600008D */  trunc.w.s  $f2, $f0
/* 67610 80066A10 44021000 */  mfc1       $v0, $f2
/* 67614 80066A14 08019A8B */  j          .L80066A2C
/* 67618 80066A18 C7A0002C */   lwc1      $f0, 0x2c($sp)
.L80066A1C:
/* 6761C 80066A1C 4600008D */  trunc.w.s  $f2, $f0
/* 67620 80066A20 44021000 */  mfc1       $v0, $f2
/* 67624 80066A24 00561025 */  or         $v0, $v0, $s6
/* 67628 80066A28 C7A0002C */  lwc1       $f0, 0x2c($sp)
.L80066A2C:
/* 6762C 80066A2C 3C01800E */  lui        $at, %hi(D_800DF81C)
/* 67630 80066A30 C422F81C */  lwc1       $f2, %lo(D_800DF81C)($at)
/* 67634 80066A34 4600103E */  c.le.s     $f2, $f0
/* 67638 80066A38 00000000 */  nop
/* 6763C 80066A3C 45010005 */  bc1t       .L80066A54
/* 67640 80066A40 A3C20000 */   sb        $v0, ($fp)
/* 67644 80066A44 4600008D */  trunc.w.s  $f2, $f0
/* 67648 80066A48 44021000 */  mfc1       $v0, $f2
/* 6764C 80066A4C 08019A9A */  j          .L80066A68
/* 67650 80066A50 8FA80060 */   lw        $t0, 0x60($sp)
.L80066A54:
/* 67654 80066A54 46020001 */  sub.s      $f0, $f0, $f2
/* 67658 80066A58 4600008D */  trunc.w.s  $f2, $f0
/* 6765C 80066A5C 44021000 */  mfc1       $v0, $f2
/* 67660 80066A60 00561025 */  or         $v0, $v0, $s6
/* 67664 80066A64 8FA80060 */  lw         $t0, 0x60($sp)
.L80066A68:
/* 67668 80066A68 08019AA0 */  j          .L80066A80
/* 6766C 80066A6C A1020000 */   sb        $v0, ($t0)
.L80066A70:
/* 67670 80066A70 26100001 */  addiu      $s0, $s0, 1
/* 67674 80066A74 2E020005 */  sltiu      $v0, $s0, 5
/* 67678 80066A78 1440FFD5 */  bnez       $v0, .L800669D0
/* 6767C 80066A7C 02E02021 */   addu      $a0, $s7, $zero
.L80066A80:
/* 67680 80066A80 8FBF0054 */  lw         $ra, 0x54($sp)
.L80066A84:
/* 67684 80066A84 8FBE0050 */  lw         $fp, 0x50($sp)
/* 67688 80066A88 8FB7004C */  lw         $s7, 0x4c($sp)
/* 6768C 80066A8C 8FB60048 */  lw         $s6, 0x48($sp)
/* 67690 80066A90 8FB50044 */  lw         $s5, 0x44($sp)
/* 67694 80066A94 8FB40040 */  lw         $s4, 0x40($sp)
/* 67698 80066A98 8FB3003C */  lw         $s3, 0x3c($sp)
/* 6769C 80066A9C 8FB20038 */  lw         $s2, 0x38($sp)
/* 676A0 80066AA0 8FB10034 */  lw         $s1, 0x34($sp)
/* 676A4 80066AA4 8FB00030 */  lw         $s0, 0x30($sp)
/* 676A8 80066AA8 03E00008 */  jr         $ra
/* 676AC 80066AAC 27BD0058 */   addiu     $sp, $sp, 0x58

glabel func_settting_leader_dead_flag
/* 676B0 80066AB0 27BDFF98 */  addiu      $sp, $sp, -0x68
/* 676B4 80066AB4 AFB20038 */  sw         $s2, 0x38($sp)
/* 676B8 80066AB8 00809021 */  addu       $s2, $a0, $zero
/* 676BC 80066ABC AFBF0050 */  sw         $ra, 0x50($sp)
/* 676C0 80066AC0 AFB7004C */  sw         $s7, 0x4c($sp)
/* 676C4 80066AC4 AFB60048 */  sw         $s6, 0x48($sp)
/* 676C8 80066AC8 AFB50044 */  sw         $s5, 0x44($sp)
/* 676CC 80066ACC AFB40040 */  sw         $s4, 0x40($sp)
/* 676D0 80066AD0 AFB3003C */  sw         $s3, 0x3c($sp)
/* 676D4 80066AD4 AFB10034 */  sw         $s1, 0x34($sp)
/* 676D8 80066AD8 AFB00030 */  sw         $s0, 0x30($sp)
/* 676DC 80066ADC F7B60060 */  sdc1       $f22, 0x60($sp)
/* 676E0 80066AE0 F7B40058 */  sdc1       $f20, 0x58($sp)
/* 676E4 80066AE4 92540003 */  lbu        $s4, 3($s2)
/* 676E8 80066AE8 92420001 */  lbu        $v0, 1($s2)
/* 676EC 80066AEC A3A00028 */  sb         $zero, 0x28($sp)
/* 676F0 80066AF0 A3A00029 */  sb         $zero, 0x29($sp)
/* 676F4 80066AF4 A3A0002A */  sb         $zero, 0x2a($sp)
/* 676F8 80066AF8 0282102B */  sltu       $v0, $s4, $v0
/* 676FC 80066AFC 104000B8 */  beqz       $v0, .L80066DE0
/* 67700 80066B00 AE40543C */   sw        $zero, 0x543c($s2)
/* 67704 80066B04 92420007 */  lbu        $v0, 7($s2)
/* 67708 80066B08 2C42000C */  sltiu      $v0, $v0, 0xc
/* 6770C 80066B0C 104000B5 */  beqz       $v0, .L80066DE4
/* 67710 80066B10 8FBF0050 */   lw        $ra, 0x50($sp)
/* 67714 80066B14 92420007 */  lbu        $v0, 7($s2)
/* 67718 80066B18 8E430028 */  lw         $v1, 0x28($s2)
/* 6771C 80066B1C 00021040 */  sll        $v0, $v0, 1
/* 67720 80066B20 00621821 */  addu       $v1, $v1, $v0
/* 67724 80066B24 94640000 */  lhu        $a0, ($v1)
/* 67728 80066B28 108000AE */  beqz       $a0, .L80066DE4
/* 6772C 80066B2C 24170001 */   addiu     $s7, $zero, 1
/* 67730 80066B30 3C02800E */  lui        $v0, %hi(D_800DF780)
/* 67734 80066B34 2456F780 */  addiu      $s6, $v0, %lo(D_800DF780)
/* 67738 80066B38 3C01800E */  lui        $at, %hi(D_800DF820)
/* 6773C 80066B3C D436F820 */  ldc1       $f22, %lo(D_800DF820)($at)
/* 67740 80066B40 00141080 */  sll        $v0, $s4, 2
/* 67744 80066B44 244252D0 */  addiu      $v0, $v0, 0x52d0
/* 67748 80066B48 0052A821 */  addu       $s5, $v0, $s2
/* 6774C 80066B4C 8EB10000 */  lw         $s1, ($s5)
.L80066B50:
/* 67750 80066B50 5220002C */  beql       $s1, $zero, .L80066C04
/* 67754 80066B54 3C11800F */   lui       $s1, %hi(entity_info_array+0x7A0)
/* 67758 80066B58 0C01DF1D */  jal        isDead
/* 6775C 80066B5C 8E240040 */   lw        $a0, %lo(entity_info_array+0x7A0)($s1)
/* 67760 80066B60 54400006 */  bnel       $v0, $zero, .L80066B7C
/* 67764 80066B64 92420007 */   lbu       $v0, 7($s2)
/* 67768 80066B68 0C01A085 */  jal        CombatEnt_flag_6
/* 6776C 80066B6C 02202021 */   addu      $a0, $s1, $zero
/* 67770 80066B70 5040008C */  beql       $v0, $zero, .L80066DA4
/* 67774 80066B74 92420001 */   lbu       $v0, 1($s2)
/* 67778 80066B78 92420007 */  lbu        $v0, 7($s2)
.L80066B7C:
/* 6777C 80066B7C 8E430028 */  lw         $v1, 0x28($s2)
/* 67780 80066B80 00021040 */  sll        $v0, $v0, 1
/* 67784 80066B84 00621821 */  addu       $v1, $v1, $v0
/* 67788 80066B88 94700000 */  lhu        $s0, ($v1)
/* 6778C 80066B8C 0C017FE6 */  jal        some_combat_leader_check
/* 67790 80066B90 02002021 */   addu      $a0, $s0, $zero
/* 67794 80066B94 50400009 */  beql       $v0, $zero, .L80066BBC
/* 67798 80066B98 8E42000C */   lw        $v0, 0xc($s2)
/* 6779C 80066B9C 8E440028 */  lw         $a0, 0x28($s2)
/* 677A0 80066BA0 0C01962A */  jal        recount_enemy_party
/* 677A4 80066BA4 92450007 */   lbu       $a1, 7($s2)
/* 677A8 80066BA8 02002021 */  addu       $a0, $s0, $zero
/* 677AC 80066BAC 0C023EAE */  jal        draw_dead_crossbones
/* 677B0 80066BB0 A2420007 */   sb        $v0, 7($s2)
/* 677B4 80066BB4 08019B68 */  j          .L80066DA0
/* 677B8 80066BB8 AE57543C */   sw        $s7, 0x543c($s2)
.L80066BBC:
/* 677BC 80066BBC 14400004 */  bnez       $v0, .L80066BD0
/* 677C0 80066BC0 00000000 */   nop
/* 677C4 80066BC4 92420010 */  lbu        $v0, 0x10($s2)
/* 677C8 80066BC8 52820001 */  beql       $s4, $v0, .L80066BD0
/* 677CC 80066BCC AE57000C */   sw        $s7, 0xc($s2)
.L80066BD0:
/* 677D0 80066BD0 0C01DE3D */  jal        CharSheet_free
/* 677D4 80066BD4 8E240040 */   lw        $a0, 0x40($s1)
/* 677D8 80066BD8 02C02821 */  addu       $a1, $s6, $zero
/* 677DC 80066BDC 8E240040 */  lw         $a0, 0x40($s1)
/* 677E0 80066BE0 0C02600C */  jal        Free
/* 677E4 80066BE4 240604EE */   addiu     $a2, $zero, 0x4ee
/* 677E8 80066BE8 0C019FC9 */  jal        combatEntity_free
/* 677EC 80066BEC 02202021 */   addu      $a0, $s1, $zero
/* 677F0 80066BF0 02202021 */  addu       $a0, $s1, $zero
/* 677F4 80066BF4 02C02821 */  addu       $a1, $s6, $zero
/* 677F8 80066BF8 0C02600C */  jal        Free
/* 677FC 80066BFC 240604F2 */   addiu     $a2, $zero, 0x4f2
/* 67800 80066C00 3C11800F */  lui        $s1, 0x800f
.L80066C04:
/* 67804 80066C04 92420007 */  lbu        $v0, 7($s2)
/* 67808 80066C08 8E430028 */  lw         $v1, 0x28($s2)
/* 6780C 80066C0C 00021040 */  sll        $v0, $v0, 1
/* 67810 80066C10 00621821 */  addu       $v1, $v1, $v0
/* 67814 80066C14 94700000 */  lhu        $s0, ($v1)
/* 67818 80066C18 8E2413A0 */  lw         $a0, 0x13a0($s1)
/* 6781C 80066C1C 0C01D6C6 */  jal        get_some_entity_dat
/* 67820 80066C20 02002821 */   addu      $a1, $s0, $zero
/* 67824 80066C24 02002821 */  addu       $a1, $s0, $zero
/* 67828 80066C28 8E2413A0 */  lw         $a0, 0x13a0($s1)
/* 6782C 80066C2C 0C01D6EA */  jal        get_entity_scale
/* 67830 80066C30 46000506 */   mov.s     $f20, $f0
/* 67834 80066C34 4600A502 */  mul.s      $f20, $f20, $f0
/* 67838 80066C38 4614A500 */  add.s      $f20, $f20, $f20
/* 6783C 80066C3C 44800000 */  mtc1       $zero, $f0
/* 67840 80066C40 4614003C */  c.lt.s     $f0, $f20
/* 67844 80066C44 00000000 */  nop
/* 67848 80066C48 4500000F */  bc1f       .L80066C88
/* 6784C 80066C4C 8E2413A0 */   lw        $a0, 0x13a0($s1)
/* 67850 80066C50 0C01D6C6 */  jal        get_some_entity_dat
/* 67854 80066C54 02002821 */   addu      $a1, $s0, $zero
/* 67858 80066C58 02002821 */  addu       $a1, $s0, $zero
/* 6785C 80066C5C 8E2413A0 */  lw         $a0, 0x13a0($s1)
/* 67860 80066C60 0C01D6EA */  jal        get_entity_scale
/* 67864 80066C64 46000506 */   mov.s     $f20, $f0
/* 67868 80066C68 4600A502 */  mul.s      $f20, $f20, $f0
/* 6786C 80066C6C 4614A500 */  add.s      $f20, $f20, $f20
/* 67870 80066C70 4600A521 */  cvt.d.s    $f20, $f20
/* 67874 80066C74 4636A500 */  add.d      $f20, $f20, $f22
/* 67878 80066C78 4620A00D */  trunc.w.d  $f0, $f20
/* 6787C 80066C7C 44020000 */  mfc1       $v0, $f0
/* 67880 80066C80 08019B30 */  j          .L80066CC0
/* 67884 80066C84 304200FF */   andi      $v0, $v0, 0xff
.L80066C88:
/* 67888 80066C88 0C01D6C6 */  jal        get_some_entity_dat
/* 6788C 80066C8C 02002821 */   addu      $a1, $s0, $zero
/* 67890 80066C90 02002821 */  addu       $a1, $s0, $zero
/* 67894 80066C94 8E2413A0 */  lw         $a0, 0x13a0($s1)
/* 67898 80066C98 0C01D6EA */  jal        get_entity_scale
/* 6789C 80066C9C 46000506 */   mov.s     $f20, $f0
/* 678A0 80066CA0 4600A502 */  mul.s      $f20, $f20, $f0
/* 678A4 80066CA4 4614A500 */  add.s      $f20, $f20, $f20
/* 678A8 80066CA8 4600A521 */  cvt.d.s    $f20, $f20
/* 678AC 80066CAC 4634B501 */  sub.d      $f20, $f22, $f20
/* 678B0 80066CB0 4620A00D */  trunc.w.d  $f0, $f20
/* 678B4 80066CB4 44020000 */  mfc1       $v0, $f0
/* 678B8 80066CB8 00021023 */  negu       $v0, $v0
/* 678BC 80066CBC 304200FF */  andi       $v0, $v0, 0xff
.L80066CC0:
/* 678C0 80066CC0 00401821 */  addu       $v1, $v0, $zero
/* 678C4 80066CC4 50600001 */  beql       $v1, $zero, .L80066CCC
/* 678C8 80066CC8 24030001 */   addiu     $v1, $zero, 1
.L80066CCC:
/* 678CC 80066CCC 02402021 */  addu       $a0, $s2, $zero
/* 678D0 80066CD0 27A50028 */  addiu      $a1, $sp, 0x28
/* 678D4 80066CD4 27A60029 */  addiu      $a2, $sp, 0x29
/* 678D8 80066CD8 27A7002A */  addiu      $a3, $sp, 0x2a
/* 678DC 80066CDC 92420003 */  lbu        $v0, 3($s2)
/* 678E0 80066CE0 307300FF */  andi       $s3, $v1, 0xff
/* 678E4 80066CE4 AFB30010 */  sw         $s3, 0x10($sp)
/* 678E8 80066CE8 AFA00014 */  sw         $zero, 0x14($sp)
/* 678EC 80066CEC AFA00018 */  sw         $zero, 0x18($sp)
/* 678F0 80066CF0 AFB7001C */  sw         $s7, 0x1c($sp)
/* 678F4 80066CF4 AFB00024 */  sw         $s0, 0x24($sp)
/* 678F8 80066CF8 02821023 */  subu       $v0, $s4, $v0
/* 678FC 80066CFC 304200FF */  andi       $v0, $v0, 0xff
/* 67900 80066D00 0C019A39 */  jal        func_800668E4
/* 67904 80066D04 AFA20020 */   sw        $v0, 0x20($sp)
/* 67908 80066D08 2404008C */  addiu      $a0, $zero, 0x8c
/* 6790C 80066D0C 02C02821 */  addu       $a1, $s6, $zero
/* 67910 80066D10 0C025F9C */  jal        Malloc
/* 67914 80066D14 24060501 */   addiu     $a2, $zero, 0x501
/* 67918 80066D18 00408821 */  addu       $s1, $v0, $zero
/* 6791C 80066D1C 24040048 */  addiu      $a0, $zero, 0x48
/* 67920 80066D20 02C02821 */  addu       $a1, $s6, $zero
/* 67924 80066D24 24060504 */  addiu      $a2, $zero, 0x504
/* 67928 80066D28 0C025F9C */  jal        Malloc
/* 6792C 80066D2C AEA20000 */   sw        $v0, ($s5)
/* 67930 80066D30 00402021 */  addu       $a0, $v0, $zero
/* 67934 80066D34 02002821 */  addu       $a1, $s0, $zero
/* 67938 80066D38 24060001 */  addiu      $a2, $zero, 1
/* 6793C 80066D3C 0C01DD95 */  jal        create_CharSheet
/* 67940 80066D40 AE220040 */   sw        $v0, 0x40($s1)
/* 67944 80066D44 02202021 */  addu       $a0, $s1, $zero
/* 67948 80066D48 93A20029 */  lbu        $v0, 0x29($sp)
/* 6794C 80066D4C 93A3002A */  lbu        $v1, 0x2a($sp)
/* 67950 80066D50 93A70028 */  lbu        $a3, 0x28($sp)
/* 67954 80066D54 329000FF */  andi       $s0, $s4, 0xff
/* 67958 80066D58 AFB30018 */  sw         $s3, 0x18($sp)
/* 6795C 80066D5C AFB7001C */  sw         $s7, 0x1c($sp)
/* 67960 80066D60 AFB00020 */  sw         $s0, 0x20($sp)
/* 67964 80066D64 AFA20010 */  sw         $v0, 0x10($sp)
/* 67968 80066D68 AFA30014 */  sw         $v1, 0x14($sp)
/* 6796C 80066D6C 8E250040 */  lw         $a1, 0x40($s1)
/* 67970 80066D70 0C019F20 */  jal        combatentity_init
/* 67974 80066D74 2406FFFF */   addiu     $a2, $zero, -1
/* 67978 80066D78 02402021 */  addu       $a0, $s2, $zero
/* 6797C 80066D7C 0C019584 */  jal        combatEnt_setup
/* 67980 80066D80 02002821 */   addu      $a1, $s0, $zero
/* 67984 80066D84 8E440028 */  lw         $a0, 0x28($s2)
/* 67988 80066D88 0C01962A */  jal        recount_enemy_party
/* 6798C 80066D8C 92450007 */   lbu       $a1, 7($s2)
/* 67990 80066D90 A2420007 */  sb         $v0, 7($s2)
/* 67994 80066D94 9622002C */  lhu        $v0, 0x2c($s1)
/* 67998 80066D98 34420400 */  ori        $v0, $v0, 0x400
/* 6799C 80066D9C A622002C */  sh         $v0, 0x2c($s1)
.L80066DA0:
/* 679A0 80066DA0 92420001 */  lbu        $v0, 1($s2)
.L80066DA4:
/* 679A4 80066DA4 26940001 */  addiu      $s4, $s4, 1
/* 679A8 80066DA8 0282102B */  sltu       $v0, $s4, $v0
/* 679AC 80066DAC 1040000C */  beqz       $v0, .L80066DE0
/* 679B0 80066DB0 26B50004 */   addiu     $s5, $s5, 4
/* 679B4 80066DB4 92420007 */  lbu        $v0, 7($s2)
/* 679B8 80066DB8 2C42000C */  sltiu      $v0, $v0, 0xc
/* 679BC 80066DBC 10400009 */  beqz       $v0, .L80066DE4
/* 679C0 80066DC0 8FBF0050 */   lw        $ra, 0x50($sp)
/* 679C4 80066DC4 92420007 */  lbu        $v0, 7($s2)
/* 679C8 80066DC8 8E430028 */  lw         $v1, 0x28($s2)
/* 679CC 80066DCC 00021040 */  sll        $v0, $v0, 1
/* 679D0 80066DD0 00621821 */  addu       $v1, $v1, $v0
/* 679D4 80066DD4 94640000 */  lhu        $a0, ($v1)
/* 679D8 80066DD8 5480FF5D */  bnel       $a0, $zero, .L80066B50
/* 679DC 80066DDC 8EB10000 */   lw        $s1, ($s5)
.L80066DE0:
/* 679E0 80066DE0 8FBF0050 */  lw         $ra, 0x50($sp)
.L80066DE4:
/* 679E4 80066DE4 8FB7004C */  lw         $s7, 0x4c($sp)
/* 679E8 80066DE8 8FB60048 */  lw         $s6, 0x48($sp)
/* 679EC 80066DEC 8FB50044 */  lw         $s5, 0x44($sp)
/* 679F0 80066DF0 8FB40040 */  lw         $s4, 0x40($sp)
/* 679F4 80066DF4 8FB3003C */  lw         $s3, 0x3c($sp)
/* 679F8 80066DF8 8FB20038 */  lw         $s2, 0x38($sp)
/* 679FC 80066DFC 8FB10034 */  lw         $s1, 0x34($sp)
/* 67A00 80066E00 8FB00030 */  lw         $s0, 0x30($sp)
/* 67A04 80066E04 D7B60060 */  ldc1       $f22, 0x60($sp)
/* 67A08 80066E08 D7B40058 */  ldc1       $f20, 0x58($sp)
/* 67A0C 80066E0C 03E00008 */  jr         $ra
/* 67A10 80066E10 27BD0068 */   addiu     $sp, $sp, 0x68

glabel get_gear_drop
/* 67A14 80066E14 27BDFF88 */  addiu      $sp, $sp, -0x78
/* 67A18 80066E18 AFB40060 */  sw         $s4, 0x60($sp)
/* 67A1C 80066E1C 0080A021 */  addu       $s4, $a0, $zero
/* 67A20 80066E20 AFB20058 */  sw         $s2, 0x58($sp)
/* 67A24 80066E24 00A09021 */  addu       $s2, $a1, $zero
/* 67A28 80066E28 AFB10054 */  sw         $s1, 0x54($sp)
/* 67A2C 80066E2C 00C08821 */  addu       $s1, $a2, $zero
/* 67A30 80066E30 AFBF0074 */  sw         $ra, 0x74($sp)
/* 67A34 80066E34 AFBE0070 */  sw         $fp, 0x70($sp)
/* 67A38 80066E38 AFB7006C */  sw         $s7, 0x6c($sp)
/* 67A3C 80066E3C AFB60068 */  sw         $s6, 0x68($sp)
/* 67A40 80066E40 AFB50064 */  sw         $s5, 0x64($sp)
/* 67A44 80066E44 AFB3005C */  sw         $s3, 0x5c($sp)
/* 67A48 80066E48 12400096 */  beqz       $s2, .L800670A4
/* 67A4C 80066E4C AFB00050 */   sw        $s0, 0x50($sp)
/* 67A50 80066E50 9222001C */  lbu        $v0, 0x1c($s1)
/* 67A54 80066E54 10400025 */  beqz       $v0, .L80066EEC
/* 67A58 80066E58 8650005E */   lh        $s0, 0x5e($s2)
/* 67A5C 80066E5C 2402FFFF */  addiu      $v0, $zero, -1
/* 67A60 80066E60 12020022 */  beq        $s0, $v0, .L80066EEC
/* 67A64 80066E64 24040001 */   addiu     $a0, $zero, 1
/* 67A68 80066E68 0C002D03 */  jal        RollD
/* 67A6C 80066E6C 24050064 */   addiu     $a1, $zero, 0x64
/* 67A70 80066E70 9223001C */  lbu        $v1, 0x1c($s1)
/* 67A74 80066E74 0062182B */  sltu       $v1, $v1, $v0
/* 67A78 80066E78 5460001D */  bnel       $v1, $zero, .L80066EF0
/* 67A7C 80066E7C 9222001D */   lbu       $v0, 0x1d($s1)
/* 67A80 80066E80 3210FFFF */  andi       $s0, $s0, 0xffff
/* 67A84 80066E84 8E874FB4 */  lw         $a3, 0x4fb4($s4)
/* 67A88 80066E88 02002821 */  addu       $a1, $s0, $zero
/* 67A8C 80066E8C 8CE30000 */  lw         $v1, ($a3)
/* 67A90 80066E90 24060001 */  addiu      $a2, $zero, 1
/* 67A94 80066E94 84640030 */  lh         $a0, 0x30($v1)
/* 67A98 80066E98 8C620034 */  lw         $v0, 0x34($v1)
/* 67A9C 80066E9C 0040F809 */  jalr       $v0
/* 67AA0 80066EA0 00E42021 */   addu      $a0, $a3, $a0
/* 67AA4 80066EA4 02002021 */  addu       $a0, $s0, $zero
/* 67AA8 80066EA8 00002821 */  addu       $a1, $zero, $zero
/* 67AAC 80066EAC 0C01D77A */  jal        GetIDIndex
/* 67AB0 80066EB0 00003021 */   addu      $a2, $zero, $zero
/* 67AB4 80066EB4 00403021 */  addu       $a2, $v0, $zero
/* 67AB8 80066EB8 3C04800F */  lui        $a0, %hi(armour_pointer)
/* 67ABC 80066EBC 00061040 */  sll        $v0, $a2, 1
/* 67AC0 80066EC0 00461021 */  addu       $v0, $v0, $a2
/* 67AC4 80066EC4 00021080 */  sll        $v0, $v0, 2
/* 67AC8 80066EC8 00461021 */  addu       $v0, $v0, $a2
/* 67ACC 80066ECC 8C83F7B0 */  lw         $v1, %lo(armour_pointer)($a0)
/* 67AD0 80066ED0 00021080 */  sll        $v0, $v0, 2
/* 67AD4 80066ED4 8C640004 */  lw         $a0, 4($v1)
/* 67AD8 80066ED8 8E830024 */  lw         $v1, 0x24($s4)
/* 67ADC 80066EDC 00441021 */  addu       $v0, $v0, $a0
/* 67AE0 80066EE0 90450022 */  lbu        $a1, 0x22($v0)
/* 67AE4 80066EE4 00651821 */  addu       $v1, $v1, $a1
/* 67AE8 80066EE8 AE830024 */  sw         $v1, 0x24($s4)
.L80066EEC:
/* 67AEC 80066EEC 9222001D */  lbu        $v0, 0x1d($s1)
.L80066EF0:
/* 67AF0 80066EF0 10400025 */  beqz       $v0, .L80066F88
/* 67AF4 80066EF4 86500060 */   lh        $s0, 0x60($s2)
/* 67AF8 80066EF8 2402FFFF */  addiu      $v0, $zero, -1
/* 67AFC 80066EFC 12020022 */  beq        $s0, $v0, .L80066F88
/* 67B00 80066F00 24040001 */   addiu     $a0, $zero, 1
/* 67B04 80066F04 0C002D03 */  jal        RollD
/* 67B08 80066F08 24050064 */   addiu     $a1, $zero, 0x64
/* 67B0C 80066F0C 9223001D */  lbu        $v1, 0x1d($s1)
/* 67B10 80066F10 0062182B */  sltu       $v1, $v1, $v0
/* 67B14 80066F14 1460001D */  bnez       $v1, .L80066F8C
/* 67B18 80066F18 0000A821 */   addu      $s5, $zero, $zero
/* 67B1C 80066F1C 3210FFFF */  andi       $s0, $s0, 0xffff
/* 67B20 80066F20 8E874FB4 */  lw         $a3, 0x4fb4($s4)
/* 67B24 80066F24 02002821 */  addu       $a1, $s0, $zero
/* 67B28 80066F28 8CE30000 */  lw         $v1, ($a3)
/* 67B2C 80066F2C 24060001 */  addiu      $a2, $zero, 1
/* 67B30 80066F30 84640030 */  lh         $a0, 0x30($v1)
/* 67B34 80066F34 8C620034 */  lw         $v0, 0x34($v1)
/* 67B38 80066F38 0040F809 */  jalr       $v0
/* 67B3C 80066F3C 00E42021 */   addu      $a0, $a3, $a0
/* 67B40 80066F40 02002021 */  addu       $a0, $s0, $zero
/* 67B44 80066F44 00002821 */  addu       $a1, $zero, $zero
/* 67B48 80066F48 0C01D77A */  jal        GetIDIndex
/* 67B4C 80066F4C 00003021 */   addu      $a2, $zero, $zero
/* 67B50 80066F50 00403021 */  addu       $a2, $v0, $zero
/* 67B54 80066F54 3C04800F */  lui        $a0, %hi(armour_pointer)
/* 67B58 80066F58 00061040 */  sll        $v0, $a2, 1
/* 67B5C 80066F5C 00461021 */  addu       $v0, $v0, $a2
/* 67B60 80066F60 00021080 */  sll        $v0, $v0, 2
/* 67B64 80066F64 00461021 */  addu       $v0, $v0, $a2
/* 67B68 80066F68 8C83F7B0 */  lw         $v1, %lo(armour_pointer)($a0)
/* 67B6C 80066F6C 00021080 */  sll        $v0, $v0, 2
/* 67B70 80066F70 8C640004 */  lw         $a0, 4($v1)
/* 67B74 80066F74 8E830024 */  lw         $v1, 0x24($s4)
/* 67B78 80066F78 00441021 */  addu       $v0, $v0, $a0
/* 67B7C 80066F7C 90450022 */  lbu        $a1, 0x22($v0)
/* 67B80 80066F80 00651821 */  addu       $v1, $v1, $a1
/* 67B84 80066F84 AE830024 */  sw         $v1, 0x24($s4)
.L80066F88:
/* 67B88 80066F88 0000A821 */  addu       $s5, $zero, $zero
.L80066F8C:
/* 67B8C 80066F8C 3C1E800E */  lui        $fp, 0x800e
/* 67B90 80066F90 27B60010 */  addiu      $s6, $sp, 0x10
/* 67B94 80066F94 2631001E */  addiu      $s1, $s1, 0x1e
/* 67B98 80066F98 26530040 */  addiu      $s3, $s2, 0x40
/* 67B9C 80066F9C 2417FFFF */  addiu      $s7, $zero, -1
.L80066FA0:
/* 67BA0 80066FA0 92220000 */  lbu        $v0, ($s1)
/* 67BA4 80066FA4 1040003A */  beqz       $v0, .L80067090
/* 67BA8 80066FA8 86700000 */   lh        $s0, ($s3)
/* 67BAC 80066FAC 52170039 */  beql       $s0, $s7, .L80067094
/* 67BB0 80066FB0 26310001 */   addiu     $s1, $s1, 1
/* 67BB4 80066FB4 12000036 */  beqz       $s0, .L80067090
/* 67BB8 80066FB8 3212FFFF */   andi      $s2, $s0, 0xffff
/* 67BBC 80066FBC 02402021 */  addu       $a0, $s2, $zero
/* 67BC0 80066FC0 00002821 */  addu       $a1, $zero, $zero
/* 67BC4 80066FC4 0C01D77A */  jal        GetIDIndex
/* 67BC8 80066FC8 00003021 */   addu      $a2, $zero, $zero
/* 67BCC 80066FCC 3C03800F */  lui        $v1, %hi(weapon_pointer)
/* 67BD0 80066FD0 8C6416F0 */  lw         $a0, %lo(weapon_pointer)($v1)
/* 67BD4 80066FD4 8C850018 */  lw         $a1, 0x18($a0)
/* 67BD8 80066FD8 00403021 */  addu       $a2, $v0, $zero
/* 67BDC 80066FDC 27C7F828 */  addiu      $a3, $fp, -0x7d8
/* 67BE0 80066FE0 88E20000 */  lwl        $v0, ($a3)
/* 67BE4 80066FE4 98E20003 */  lwr        $v0, 3($a3)
/* 67BE8 80066FE8 88E30004 */  lwl        $v1, 4($a3)
/* 67BEC 80066FEC 98E30007 */  lwr        $v1, 7($a3)
/* 67BF0 80066FF0 80E40008 */  lb         $a0, 8($a3)
/* 67BF4 80066FF4 ABA20010 */  swl        $v0, 0x10($sp)
/* 67BF8 80066FF8 BBA20013 */  swr        $v0, 0x13($sp)
/* 67BFC 80066FFC ABA30014 */  swl        $v1, 0x14($sp)
/* 67C00 80067000 BBA30017 */  swr        $v1, 0x17($sp)
/* 67C04 80067004 A3A40018 */  sb         $a0, 0x18($sp)
/* 67C08 80067008 80E20009 */  lb         $v0, 9($a3)
/* 67C0C 8006700C 80E3000A */  lb         $v1, 0xa($a3)
/* 67C10 80067010 A3A20019 */  sb         $v0, 0x19($sp)
/* 67C14 80067014 A3A3001A */  sb         $v1, 0x1a($sp)
/* 67C18 80067018 00061040 */  sll        $v0, $a2, 1
/* 67C1C 8006701C 00461021 */  addu       $v0, $v0, $a2
/* 67C20 80067020 00021080 */  sll        $v0, $v0, 2
/* 67C24 80067024 00461021 */  addu       $v0, $v0, $a2
/* 67C28 80067028 00021080 */  sll        $v0, $v0, 2
/* 67C2C 8006702C 00A28021 */  addu       $s0, $a1, $v0
/* 67C30 80067030 92030018 */  lbu        $v1, 0x18($s0)
/* 67C34 80067034 02C31821 */  addu       $v1, $s6, $v1
/* 67C38 80067038 90620000 */  lbu        $v0, ($v1)
/* 67C3C 8006703C 50400015 */  beql       $v0, $zero, .L80067094
/* 67C40 80067040 26310001 */   addiu     $s1, $s1, 1
/* 67C44 80067044 24040001 */  addiu      $a0, $zero, 1
/* 67C48 80067048 0C002D03 */  jal        RollD
/* 67C4C 8006704C 24050064 */   addiu     $a1, $zero, 0x64
/* 67C50 80067050 92230000 */  lbu        $v1, ($s1)
/* 67C54 80067054 0062182B */  sltu       $v1, $v1, $v0
/* 67C58 80067058 5460000E */  bnel       $v1, $zero, .L80067094
/* 67C5C 8006705C 26310001 */   addiu     $s1, $s1, 1
/* 67C60 80067060 8E874FB4 */  lw         $a3, 0x4fb4($s4)
/* 67C64 80067064 02402821 */  addu       $a1, $s2, $zero
/* 67C68 80067068 8CE30000 */  lw         $v1, ($a3)
/* 67C6C 8006706C 24060001 */  addiu      $a2, $zero, 1
/* 67C70 80067070 84640030 */  lh         $a0, 0x30($v1)
/* 67C74 80067074 8C620034 */  lw         $v0, 0x34($v1)
/* 67C78 80067078 0040F809 */  jalr       $v0
/* 67C7C 8006707C 00E42021 */   addu      $a0, $a3, $a0
/* 67C80 80067080 92030021 */  lbu        $v1, 0x21($s0)
/* 67C84 80067084 8E820024 */  lw         $v0, 0x24($s4)
/* 67C88 80067088 00431021 */  addu       $v0, $v0, $v1
/* 67C8C 8006708C AE820024 */  sw         $v0, 0x24($s4)
.L80067090:
/* 67C90 80067090 26310001 */  addiu      $s1, $s1, 1
.L80067094:
/* 67C94 80067094 26B50001 */  addiu      $s5, $s5, 1
/* 67C98 80067098 2EA20003 */  sltiu      $v0, $s5, 3
/* 67C9C 8006709C 1440FFC0 */  bnez       $v0, .L80066FA0
/* 67CA0 800670A0 26730002 */   addiu     $s3, $s3, 2
.L800670A4:
/* 67CA4 800670A4 8FBF0074 */  lw         $ra, 0x74($sp)
/* 67CA8 800670A8 8FBE0070 */  lw         $fp, 0x70($sp)
/* 67CAC 800670AC 8FB7006C */  lw         $s7, 0x6c($sp)
/* 67CB0 800670B0 8FB60068 */  lw         $s6, 0x68($sp)
/* 67CB4 800670B4 8FB50064 */  lw         $s5, 0x64($sp)
/* 67CB8 800670B8 8FB40060 */  lw         $s4, 0x60($sp)
/* 67CBC 800670BC 8FB3005C */  lw         $s3, 0x5c($sp)
/* 67CC0 800670C0 8FB20058 */  lw         $s2, 0x58($sp)
/* 67CC4 800670C4 8FB10054 */  lw         $s1, 0x54($sp)
/* 67CC8 800670C8 8FB00050 */  lw         $s0, 0x50($sp)
/* 67CCC 800670CC 03E00008 */  jr         $ra
/* 67CD0 800670D0 27BD0078 */   addiu     $sp, $sp, 0x78

glabel get_exp_mod
/* 67CD4 800670D4 27BDFFD8 */  addiu      $sp, $sp, -0x28
/* 67CD8 800670D8 AFB20018 */  sw         $s2, 0x18($sp)
/* 67CDC 800670DC 00A09021 */  addu       $s2, $a1, $zero
/* 67CE0 800670E0 AFB10014 */  sw         $s1, 0x14($sp)
/* 67CE4 800670E4 00C08821 */  addu       $s1, $a2, $zero
/* 67CE8 800670E8 26420030 */  addiu      $v0, $s2, 0x30
/* 67CEC 800670EC AFB00010 */  sw         $s0, 0x10($sp)
/* 67CF0 800670F0 00518021 */  addu       $s0, $v0, $s1
/* 67CF4 800670F4 AFBF0024 */  sw         $ra, 0x24($sp)
/* 67CF8 800670F8 AFB40020 */  sw         $s4, 0x20($sp)
/* 67CFC 800670FC AFB3001C */  sw         $s3, 0x1c($sp)
/* 67D00 80067100 92030000 */  lbu        $v1, ($s0)
/* 67D04 80067104 10600059 */  beqz       $v1, .L8006726C
/* 67D08 80067108 00809821 */   addu      $s3, $a0, $zero
/* 67D0C 8006710C 24040001 */  addiu      $a0, $zero, 1
/* 67D10 80067110 0C002D03 */  jal        RollD
/* 67D14 80067114 24050064 */   addiu     $a1, $zero, 0x64
/* 67D18 80067118 92030000 */  lbu        $v1, ($s0)
/* 67D1C 8006711C 0062182B */  sltu       $v1, $v1, $v0
/* 67D20 80067120 14600053 */  bnez       $v1, .L80067270
/* 67D24 80067124 8FBF0024 */   lw        $ra, 0x24($sp)
/* 67D28 80067128 2E220002 */  sltiu      $v0, $s1, 2
/* 67D2C 8006712C 10400007 */  beqz       $v0, .L8006714C
/* 67D30 80067130 24140001 */   addiu     $s4, $zero, 1
/* 67D34 80067134 02511021 */  addu       $v0, $s2, $s1
/* 67D38 80067138 00401821 */  addu       $v1, $v0, $zero
/* 67D3C 8006713C 90440036 */  lbu        $a0, 0x36($v0)
/* 67D40 80067140 0C002CF7 */  jal        rand_range
/* 67D44 80067144 90650038 */   lbu       $a1, 0x38($v1)
/* 67D48 80067148 0040A021 */  addu       $s4, $v0, $zero
.L8006714C:
/* 67D4C 8006714C 00111040 */  sll        $v0, $s1, 1
/* 67D50 80067150 02421021 */  addu       $v0, $s2, $v0
/* 67D54 80067154 328600FF */  andi       $a2, $s4, 0xff
/* 67D58 80067158 94500024 */  lhu        $s0, 0x24($v0)
/* 67D5C 8006715C 8E674FB4 */  lw         $a3, 0x4fb4($s3)
/* 67D60 80067160 00108400 */  sll        $s0, $s0, 0x10
/* 67D64 80067164 00108C03 */  sra        $s1, $s0, 0x10
/* 67D68 80067168 8CE30000 */  lw         $v1, ($a3)
/* 67D6C 8006716C 3225FFFF */  andi       $a1, $s1, 0xffff
/* 67D70 80067170 84640030 */  lh         $a0, 0x30($v1)
/* 67D74 80067174 8C620034 */  lw         $v0, 0x34($v1)
/* 67D78 80067178 0040F809 */  jalr       $v0
/* 67D7C 8006717C 00E42021 */   addu      $a0, $a3, $a0
/* 67D80 80067180 00108603 */  sra        $s0, $s0, 0x18
/* 67D84 80067184 2603FFFF */  addiu      $v1, $s0, -1
/* 67D88 80067188 2C620018 */  sltiu      $v0, $v1, 0x18
/* 67D8C 8006718C 10400037 */  beqz       $v0, .L8006726C
/* 67D90 80067190 3C02800E */   lui       $v0, %hi(D_800DF838)
/* 67D94 80067194 2442F838 */  addiu      $v0, $v0, %lo(D_800DF838)
/* 67D98 80067198 00031880 */  sll        $v1, $v1, 2
/* 67D9C 8006719C 00621821 */  addu       $v1, $v1, $v0
/* 67DA0 800671A0 8C640000 */  lw         $a0, ($v1)
/* 67DA4 800671A4 00800008 */  jr         $a0
/* 67DA8 800671A8 00000000 */   nop
/* 67DAC 800671AC 3224FFFF */  andi       $a0, $s1, 0xffff
/* 67DB0 800671B0 00002821 */  addu       $a1, $zero, $zero
/* 67DB4 800671B4 0C01D77A */  jal        GetIDIndex
/* 67DB8 800671B8 00003021 */   addu      $a2, $zero, $zero
/* 67DBC 800671BC 00402821 */  addu       $a1, $v0, $zero
/* 67DC0 800671C0 3C04800F */  lui        $a0, %hi(armour_pointer)
/* 67DC4 800671C4 00051040 */  sll        $v0, $a1, 1
/* 67DC8 800671C8 00451021 */  addu       $v0, $v0, $a1
/* 67DCC 800671CC 00021080 */  sll        $v0, $v0, 2
/* 67DD0 800671D0 8C83F7B0 */  lw         $v1, %lo(armour_pointer)($a0)
/* 67DD4 800671D4 00451021 */  addu       $v0, $v0, $a1
/* 67DD8 800671D8 8C640004 */  lw         $a0, 4($v1)
/* 67DDC 800671DC 00021080 */  sll        $v0, $v0, 2
/* 67DE0 800671E0 00441021 */  addu       $v0, $v0, $a0
/* 67DE4 800671E4 08019C96 */  j          .L80067258
/* 67DE8 800671E8 90430022 */   lbu       $v1, 0x22($v0)
/* 67DEC 800671EC 3224FFFF */  andi       $a0, $s1, 0xffff
/* 67DF0 800671F0 00002821 */  addu       $a1, $zero, $zero
/* 67DF4 800671F4 0C01D77A */  jal        GetIDIndex
/* 67DF8 800671F8 00003021 */   addu      $a2, $zero, $zero
/* 67DFC 800671FC 00402821 */  addu       $a1, $v0, $zero
/* 67E00 80067200 3C04800F */  lui        $a0, %hi(weapon_pointer)
/* 67E04 80067204 00051040 */  sll        $v0, $a1, 1
/* 67E08 80067208 00451021 */  addu       $v0, $v0, $a1
/* 67E0C 8006720C 00021080 */  sll        $v0, $v0, 2
/* 67E10 80067210 8C8316F0 */  lw         $v1, %lo(weapon_pointer)($a0)
/* 67E14 80067214 00451021 */  addu       $v0, $v0, $a1
/* 67E18 80067218 8C640018 */  lw         $a0, 0x18($v1)
/* 67E1C 8006721C 00021080 */  sll        $v0, $v0, 2
/* 67E20 80067220 00441021 */  addu       $v0, $v0, $a0
/* 67E24 80067224 08019C96 */  j          .L80067258
/* 67E28 80067228 90430021 */   lbu       $v1, 0x21($v0)
/* 67E2C 8006722C 0C01D7C6 */  jal        search_item_array
/* 67E30 80067230 3224FFFF */   andi      $a0, $s1, 0xffff
/* 67E34 80067234 304500FF */  andi       $a1, $v0, 0xff
/* 67E38 80067238 3C03800F */  lui        $v1, %hi(item_pointer)
/* 67E3C 8006723C 00051040 */  sll        $v0, $a1, 1
/* 67E40 80067240 8C6414F0 */  lw         $a0, %lo(item_pointer)($v1)
/* 67E44 80067244 00451021 */  addu       $v0, $v0, $a1
/* 67E48 80067248 8C850018 */  lw         $a1, 0x18($a0)
/* 67E4C 8006724C 00021100 */  sll        $v0, $v0, 4
/* 67E50 80067250 00451021 */  addu       $v0, $v0, $a1
/* 67E54 80067254 94430018 */  lhu        $v1, 0x18($v0)
.L80067258:
/* 67E58 80067258 02830018 */  mult       $s4, $v1
/* 67E5C 8006725C 8E620024 */  lw         $v0, 0x24($s3)
/* 67E60 80067260 00001812 */  mflo       $v1
/* 67E64 80067264 00431021 */  addu       $v0, $v0, $v1
/* 67E68 80067268 AE620024 */  sw         $v0, 0x24($s3)
.L8006726C:
/* 67E6C 8006726C 8FBF0024 */  lw         $ra, 0x24($sp)
.L80067270:
/* 67E70 80067270 8FB40020 */  lw         $s4, 0x20($sp)
/* 67E74 80067274 8FB3001C */  lw         $s3, 0x1c($sp)
/* 67E78 80067278 8FB20018 */  lw         $s2, 0x18($sp)
/* 67E7C 8006727C 8FB10014 */  lw         $s1, 0x14($sp)
/* 67E80 80067280 8FB00010 */  lw         $s0, 0x10($sp)
/* 67E84 80067284 03E00008 */  jr         $ra
/* 67E88 80067288 27BD0028 */   addiu     $sp, $sp, 0x28

glabel calc_loot
/* 67E8C 8006728C 27BDFFD8 */  addiu      $sp, $sp, -0x28
/* 67E90 80067290 AFB3001C */  sw         $s3, 0x1c($sp)
/* 67E94 80067294 00809821 */  addu       $s3, $a0, $zero
/* 67E98 80067298 30A500FF */  andi       $a1, $a1, 0xff
/* 67E9C 8006729C 3C04800F */  lui        $a0, %hi(loot_pointer)
/* 67EA0 800672A0 000510C0 */  sll        $v0, $a1, 3
/* 67EA4 800672A4 00451023 */  subu       $v0, $v0, $a1
/* 67EA8 800672A8 00021080 */  sll        $v0, $v0, 2
/* 67EAC 800672AC 8C83F810 */  lw         $v1, %lo(loot_pointer)($a0)
/* 67EB0 800672B0 00451021 */  addu       $v0, $v0, $a1
/* 67EB4 800672B4 AFBF0020 */  sw         $ra, 0x20($sp)
/* 67EB8 800672B8 AFB20018 */  sw         $s2, 0x18($sp)
/* 67EBC 800672BC AFB10014 */  sw         $s1, 0x14($sp)
/* 67EC0 800672C0 AFB00010 */  sw         $s0, 0x10($sp)
/* 67EC4 800672C4 8C640004 */  lw         $a0, 4($v1)
/* 67EC8 800672C8 00021040 */  sll        $v0, $v0, 1
/* 67ECC 800672CC 00829021 */  addu       $s2, $a0, $v0
/* 67ED0 800672D0 96440018 */  lhu        $a0, 0x18($s2)
/* 67ED4 800672D4 9645001A */  lhu        $a1, 0x1a($s2)
/* 67ED8 800672D8 0C002CF7 */  jal        rand_range
/* 67EDC 800672DC 00C08021 */   addu      $s0, $a2, $zero
/* 67EE0 800672E0 02602021 */  addu       $a0, $s3, $zero
/* 67EE4 800672E4 02002821 */  addu       $a1, $s0, $zero
/* 67EE8 800672E8 8E630020 */  lw         $v1, 0x20($s3)
/* 67EEC 800672EC 02403021 */  addu       $a2, $s2, $zero
/* 67EF0 800672F0 00621821 */  addu       $v1, $v1, $v0
/* 67EF4 800672F4 0C019B85 */  jal        get_gear_drop
/* 67EF8 800672F8 AE630020 */   sw        $v1, 0x20($s3)
/* 67EFC 800672FC 92420021 */  lbu        $v0, 0x21($s2)
/* 67F00 80067300 10400024 */  beqz       $v0, .L80067394
/* 67F04 80067304 24040001 */   addiu     $a0, $zero, 1
/* 67F08 80067308 0C002D03 */  jal        RollD
/* 67F0C 8006730C 24050064 */   addiu     $a1, $zero, 0x64
/* 67F10 80067310 92430021 */  lbu        $v1, 0x21($s2)
/* 67F14 80067314 0062182B */  sltu       $v1, $v1, $v0
/* 67F18 80067318 1460001F */  bnez       $v1, .L80067398
/* 67F1C 8006731C 00008021 */   addu      $s0, $zero, $zero
/* 67F20 80067320 2404001E */  addiu      $a0, $zero, 0x1e
/* 67F24 80067324 0C002CF7 */  jal        rand_range
/* 67F28 80067328 24050020 */   addiu     $a1, $zero, 0x20
/* 67F2C 8006732C 92440022 */  lbu        $a0, 0x22($s2)
/* 67F30 80067330 92450023 */  lbu        $a1, 0x23($s2)
/* 67F34 80067334 0C002CF7 */  jal        rand_range
/* 67F38 80067338 305100FF */   andi      $s1, $v0, 0xff
/* 67F3C 8006733C 304600FF */  andi       $a2, $v0, 0xff
/* 67F40 80067340 3C02800F */  lui        $v0, %hi(itemID_array)
/* 67F44 80067344 24421500 */  addiu      $v0, $v0, %lo(itemID_array)
/* 67F48 80067348 00118040 */  sll        $s0, $s1, 1
/* 67F4C 8006734C 8E674FB4 */  lw         $a3, 0x4fb4($s3)
/* 67F50 80067350 02021021 */  addu       $v0, $s0, $v0
/* 67F54 80067354 8CE30000 */  lw         $v1, ($a3)
/* 67F58 80067358 94450000 */  lhu        $a1, ($v0)
/* 67F5C 8006735C 84640030 */  lh         $a0, 0x30($v1)
/* 67F60 80067360 8C620034 */  lw         $v0, 0x34($v1)
/* 67F64 80067364 0040F809 */  jalr       $v0
/* 67F68 80067368 00E42021 */   addu      $a0, $a3, $a0
/* 67F6C 8006736C 3C03800F */  lui        $v1, %hi(item_pointer)
/* 67F70 80067370 02118021 */  addu       $s0, $s0, $s1
/* 67F74 80067374 8C6214F0 */  lw         $v0, %lo(item_pointer)($v1)
/* 67F78 80067378 00108100 */  sll        $s0, $s0, 4
/* 67F7C 8006737C 8C430018 */  lw         $v1, 0x18($v0)
/* 67F80 80067380 8E620024 */  lw         $v0, 0x24($s3)
/* 67F84 80067384 02038021 */  addu       $s0, $s0, $v1
/* 67F88 80067388 96040018 */  lhu        $a0, 0x18($s0)
/* 67F8C 8006738C 00441021 */  addu       $v0, $v0, $a0
/* 67F90 80067390 AE620024 */  sw         $v0, 0x24($s3)
.L80067394:
/* 67F94 80067394 00008021 */  addu       $s0, $zero, $zero
.L80067398:
/* 67F98 80067398 02602021 */  addu       $a0, $s3, $zero
.L8006739C:
/* 67F9C 8006739C 02402821 */  addu       $a1, $s2, $zero
/* 67FA0 800673A0 0C019C35 */  jal        get_exp_mod
/* 67FA4 800673A4 02003021 */   addu      $a2, $s0, $zero
/* 67FA8 800673A8 26100001 */  addiu      $s0, $s0, 1
/* 67FAC 800673AC 2E020006 */  sltiu      $v0, $s0, 6
/* 67FB0 800673B0 1440FFFA */  bnez       $v0, .L8006739C
/* 67FB4 800673B4 02602021 */   addu      $a0, $s3, $zero
/* 67FB8 800673B8 8FBF0020 */  lw         $ra, 0x20($sp)
/* 67FBC 800673BC 8FB3001C */  lw         $s3, 0x1c($sp)
/* 67FC0 800673C0 8FB20018 */  lw         $s2, 0x18($sp)
/* 67FC4 800673C4 8FB10014 */  lw         $s1, 0x14($sp)
/* 67FC8 800673C8 8FB00010 */  lw         $s0, 0x10($sp)
/* 67FCC 800673CC 03E00008 */  jr         $ra
/* 67FD0 800673D0 27BD0028 */   addiu     $sp, $sp, 0x28

glabel add_globalLoot
/* 67FD4 800673D4 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 67FD8 800673D8 AFB00010 */  sw         $s0, 0x10($sp)
/* 67FDC 800673DC 00808021 */  addu       $s0, $a0, $zero
/* 67FE0 800673E0 30A4FFFF */  andi       $a0, $a1, 0xffff
/* 67FE4 800673E4 00041A02 */  srl        $v1, $a0, 8
/* 67FE8 800673E8 24020008 */  addiu      $v0, $zero, 8
/* 67FEC 800673EC 1462000A */  bne        $v1, $v0, .L80067418
/* 67FF0 800673F0 AFBF0014 */   sw        $ra, 0x14($sp)
/* 67FF4 800673F4 00002821 */  addu       $a1, $zero, $zero
/* 67FF8 800673F8 0C01D77A */  jal        GetIDIndex
/* 67FFC 800673FC 00003021 */   addu      $a2, $zero, $zero
/* 68000 80067400 02002021 */  addu       $a0, $s0, $zero
/* 68004 80067404 00402821 */  addu       $a1, $v0, $zero
/* 68008 80067408 0C019CA3 */  jal        calc_loot
/* 6800C 8006740C 00003021 */   addu      $a2, $zero, $zero
/* 68010 80067410 08019D0F */  j          .L8006743C
/* 68014 80067414 8FBF0014 */   lw        $ra, 0x14($sp)
.L80067418:
/* 68018 80067418 8E074FB4 */  lw         $a3, 0x4fb4($s0)
/* 6801C 8006741C 00802821 */  addu       $a1, $a0, $zero
/* 68020 80067420 8CE30000 */  lw         $v1, ($a3)
/* 68024 80067424 24060001 */  addiu      $a2, $zero, 1
/* 68028 80067428 84640030 */  lh         $a0, 0x30($v1)
/* 6802C 8006742C 8C620034 */  lw         $v0, 0x34($v1)
/* 68030 80067430 0040F809 */  jalr       $v0
/* 68034 80067434 00E42021 */   addu      $a0, $a3, $a0
/* 68038 80067438 8FBF0014 */  lw         $ra, 0x14($sp)
.L8006743C:
/* 6803C 8006743C 8FB00010 */  lw         $s0, 0x10($sp)
/* 68040 80067440 03E00008 */  jr         $ra
/* 68044 80067444 27BD0018 */   addiu     $sp, $sp, 0x18

glabel calc_combat_loot
/* 68048 80067448 27BDFFD0 */  addiu      $sp, $sp, -0x30
/* 6804C 8006744C AFB20018 */  sw         $s2, 0x18($sp)
/* 68050 80067450 00809021 */  addu       $s2, $a0, $zero
/* 68054 80067454 24040608 */  addiu      $a0, $zero, 0x608
/* 68058 80067458 AFB00010 */  sw         $s0, 0x10($sp)
/* 6805C 8006745C 3C10800E */  lui        $s0, %hi(gGlobals)
/* 68060 80067460 260268A8 */  addiu      $v0, $s0, %lo(gGlobals)
/* 68064 80067464 AFBF0028 */  sw         $ra, 0x28($sp)
/* 68068 80067468 AFB50024 */  sw         $s5, 0x24($sp)
/* 6806C 8006746C AFB40020 */  sw         $s4, 0x20($sp)
/* 68070 80067470 AFB3001C */  sw         $s3, 0x1c($sp)
/* 68074 80067474 AFB10014 */  sw         $s1, 0x14($sp)
/* 68078 80067478 0C026259 */  jal        passToMalloc
/* 6807C 8006747C 8C5315F8 */   lw        $s3, 0x15f8($v0)
/* 68080 80067480 0C01F09C */  jal        build_inventory_struct
/* 68084 80067484 00402021 */   addu      $a0, $v0, $zero
/* 68088 80067488 00008821 */  addu       $s1, $zero, $zero
/* 6808C 8006748C 0200A821 */  addu       $s5, $s0, $zero
/* 68090 80067490 3C14800F */  lui        $s4, 0x800f
/* 68094 80067494 AE424FB4 */  sw         $v0, 0x4fb4($s2)
/* 68098 80067498 AE400020 */  sw         $zero, 0x20($s2)
/* 6809C 8006749C AE400024 */  sw         $zero, 0x24($s2)
/* 680A0 800674A0 8E420028 */  lw         $v0, 0x28($s2)
.L800674A4:
/* 680A4 800674A4 00111840 */  sll        $v1, $s1, 1
/* 680A8 800674A8 00431021 */  addu       $v0, $v0, $v1
/* 680AC 800674AC 94440000 */  lhu        $a0, ($v0)
/* 680B0 800674B0 10800016 */  beqz       $a0, .L8006750C
/* 680B4 800674B4 00002821 */   addu      $a1, $zero, $zero
/* 680B8 800674B8 0C01D77A */  jal        GetIDIndex
/* 680BC 800674BC 00003021 */   addu      $a2, $zero, $zero
/* 680C0 800674C0 8E8313A0 */  lw         $v1, 0x13a0($s4)
/* 680C4 800674C4 8C640010 */  lw         $a0, 0x10($v1)
/* 680C8 800674C8 000211C0 */  sll        $v0, $v0, 7
/* 680CC 800674CC 00828021 */  addu       $s0, $a0, $v0
/* 680D0 800674D0 9603007C */  lhu        $v1, 0x7c($s0)
/* 680D4 800674D4 8E420024 */  lw         $v0, 0x24($s2)
/* 680D8 800674D8 00431021 */  addu       $v0, $v0, $v1
/* 680DC 800674DC AE420024 */  sw         $v0, 0x24($s2)
/* 680E0 800674E0 9203007E */  lbu        $v1, 0x7e($s0)
/* 680E4 800674E4 10600009 */  beqz       $v1, .L8006750C
/* 680E8 800674E8 00002821 */   addu      $a1, $zero, $zero
/* 680EC 800674EC 9204007E */  lbu        $a0, 0x7e($s0)
/* 680F0 800674F0 00003021 */  addu       $a2, $zero, $zero
/* 680F4 800674F4 0C01D77A */  jal        GetIDIndex
/* 680F8 800674F8 248407FF */   addiu     $a0, $a0, 0x7ff
/* 680FC 800674FC 02402021 */  addu       $a0, $s2, $zero
/* 68100 80067500 00402821 */  addu       $a1, $v0, $zero
/* 68104 80067504 0C019CA3 */  jal        calc_loot
/* 68108 80067508 02003021 */   addu      $a2, $s0, $zero
.L8006750C:
/* 6810C 8006750C 26220001 */  addiu      $v0, $s1, 1
/* 68110 80067510 305100FF */  andi       $s1, $v0, 0xff
/* 68114 80067514 2E23000C */  sltiu      $v1, $s1, 0xc
/* 68118 80067518 5460FFE2 */  bnel       $v1, $zero, .L800674A4
/* 6811C 8006751C 8E420028 */   lw        $v0, 0x28($s2)
/* 68120 80067520 26A268A8 */  addiu      $v0, $s5, 0x68a8
/* 68124 80067524 944513E4 */  lhu        $a1, 0x13e4($v0)
/* 68128 80067528 10A00004 */  beqz       $a1, .L8006753C
/* 6812C 8006752C 00008821 */   addu      $s1, $zero, $zero
/* 68130 80067530 0C019CF5 */  jal        add_globalLoot
/* 68134 80067534 02402021 */   addu      $a0, $s2, $zero
/* 68138 80067538 00008821 */  addu       $s1, $zero, $zero
.L8006753C:
/* 6813C 8006753C 00111080 */  sll        $v0, $s1, 2
.L80067540:
/* 68140 80067540 02621021 */  addu       $v0, $s3, $v0
/* 68144 80067544 8C500000 */  lw         $s0, ($v0)
/* 68148 80067548 12000009 */  beqz       $s0, .L80067570
/* 6814C 8006754C 26220001 */   addiu     $v0, $s1, 1
/* 68150 80067550 0C01DF1D */  jal        isDead
/* 68154 80067554 02002021 */   addu      $a0, $s0, $zero
/* 68158 80067558 14400005 */  bnez       $v0, .L80067570
/* 6815C 8006755C 26220001 */   addiu     $v0, $s1, 1
/* 68160 80067560 8E450024 */  lw         $a1, 0x24($s2)
/* 68164 80067564 0C01EA4F */  jal        giveExp
/* 68168 80067568 02002021 */   addu      $a0, $s0, $zero
/* 6816C 8006756C 26220001 */  addiu      $v0, $s1, 1
.L80067570:
/* 68170 80067570 305100FF */  andi       $s1, $v0, 0xff
/* 68174 80067574 2E230004 */  sltiu      $v1, $s1, 4
/* 68178 80067578 1460FFF1 */  bnez       $v1, .L80067540
/* 6817C 8006757C 00111080 */   sll       $v0, $s1, 2
/* 68180 80067580 8E420020 */  lw         $v0, 0x20($s2)
/* 68184 80067584 8FBF0028 */  lw         $ra, 0x28($sp)
/* 68188 80067588 8FB50024 */  lw         $s5, 0x24($sp)
/* 6818C 8006758C 8FB40020 */  lw         $s4, 0x20($sp)
/* 68190 80067590 8FB3001C */  lw         $s3, 0x1c($sp)
/* 68194 80067594 8FB10014 */  lw         $s1, 0x14($sp)
/* 68198 80067598 8FB00010 */  lw         $s0, 0x10($sp)
/* 6819C 8006759C 00021040 */  sll        $v0, $v0, 1
/* 681A0 800675A0 AE420020 */  sw         $v0, 0x20($s2)
/* 681A4 800675A4 8FB20018 */  lw         $s2, 0x18($sp)
/* 681A8 800675A8 03E00008 */  jr         $ra
/* 681AC 800675AC 27BD0030 */   addiu     $sp, $sp, 0x30

glabel func_800675B0
/* 681B0 800675B0 27BDFFC8 */  addiu      $sp, $sp, -0x38
/* 681B4 800675B4 AFB20018 */  sw         $s2, 0x18($sp)
/* 681B8 800675B8 00809021 */  addu       $s2, $a0, $zero
/* 681BC 800675BC 26440030 */  addiu      $a0, $s2, 0x30
/* 681C0 800675C0 AFBF0034 */  sw         $ra, 0x34($sp)
/* 681C4 800675C4 AFBE0030 */  sw         $fp, 0x30($sp)
/* 681C8 800675C8 AFB7002C */  sw         $s7, 0x2c($sp)
/* 681CC 800675CC AFB60028 */  sw         $s6, 0x28($sp)
/* 681D0 800675D0 AFB50024 */  sw         $s5, 0x24($sp)
/* 681D4 800675D4 AFB40020 */  sw         $s4, 0x20($sp)
/* 681D8 800675D8 AFB3001C */  sw         $s3, 0x1c($sp)
/* 681DC 800675DC AFB10014 */  sw         $s1, 0x14($sp)
/* 681E0 800675E0 0C01CCC8 */  jal        combat_turn_free
/* 681E4 800675E4 AFB00010 */   sw        $s0, 0x10($sp)
/* 681E8 800675E8 00002021 */  addu       $a0, $zero, $zero
/* 681EC 800675EC 3C02800E */  lui        $v0, %hi(partyPointer)
/* 681F0 800675F0 92430001 */  lbu        $v1, 1($s2)
/* 681F4 800675F4 10600031 */  beqz       $v1, .L800676BC
/* 681F8 800675F8 8C577EA0 */   lw        $s7, %lo(partyPointer)($v0)
/* 681FC 800675FC 265552D0 */  addiu      $s5, $s2, 0x52d0
/* 68200 80067600 241E0004 */  addiu      $fp, $zero, 4
/* 68204 80067604 00041880 */  sll        $v1, $a0, 2
.L80067608:
/* 68208 80067608 02A31021 */  addu       $v0, $s5, $v1
/* 6820C 8006760C 8C500000 */  lw         $s0, ($v0)
/* 68210 80067610 0060A021 */  addu       $s4, $v1, $zero
/* 68214 80067614 12000024 */  beqz       $s0, .L800676A8
/* 68218 80067618 24960001 */   addiu     $s6, $a0, 1
/* 6821C 8006761C 00008821 */  addu       $s1, $zero, $zero
/* 68220 80067620 3C13800E */  lui        $s3, 0x800e
.L80067624:
/* 68224 80067624 2E220004 */  sltiu      $v0, $s1, 4
/* 68228 80067628 1040000A */  beqz       $v0, .L80067654
/* 6822C 8006762C 00111080 */   sll       $v0, $s1, 2
/* 68230 80067630 02E21021 */  addu       $v0, $s7, $v0
/* 68234 80067634 8C420000 */  lw         $v0, ($v0)
/* 68238 80067638 5040FFFA */  beql       $v0, $zero, .L80067624
/* 6823C 8006763C 26310001 */   addiu     $s1, $s1, 1
/* 68240 80067640 8E040040 */  lw         $a0, 0x40($s0)
/* 68244 80067644 5482FFF7 */  bnel       $a0, $v0, .L80067624
/* 68248 80067648 26310001 */   addiu     $s1, $s1, 1
/* 6824C 8006764C 0C01EB11 */  jal        func_8007AC44
/* 68250 80067650 00000000 */   nop
.L80067654:
/* 68254 80067654 163E000C */  bne        $s1, $fp, .L80067688
/* 68258 80067658 00000000 */   nop
/* 6825C 8006765C 0C01EADA */  jal        clear_charsheet_potions
/* 68260 80067660 8E040040 */   lw        $a0, 0x40($s0)
/* 68264 80067664 0C01EAB4 */  jal        remove_effects
/* 68268 80067668 8E040040 */   lw        $a0, 0x40($s0)
/* 6826C 8006766C 0C01DE3D */  jal        CharSheet_free
/* 68270 80067670 8E040040 */   lw        $a0, 0x40($s0)
/* 68274 80067674 2665F780 */  addiu      $a1, $s3, -0x880
/* 68278 80067678 8E040040 */  lw         $a0, 0x40($s0)
/* 6827C 8006767C 0C02600C */  jal        Free
/* 68280 80067680 2406067E */   addiu     $a2, $zero, 0x67e
/* 68284 80067684 AE000040 */  sw         $zero, 0x40($s0)
.L80067688:
/* 68288 80067688 0C019FC9 */  jal        combatEntity_free
/* 6828C 8006768C 02002021 */   addu      $a0, $s0, $zero
/* 68290 80067690 02002021 */  addu       $a0, $s0, $zero
/* 68294 80067694 2665F780 */  addiu      $a1, $s3, -0x880
/* 68298 80067698 0C02600C */  jal        Free
/* 6829C 8006769C 24060684 */   addiu     $a2, $zero, 0x684
/* 682A0 800676A0 02B41021 */  addu       $v0, $s5, $s4
/* 682A4 800676A4 AC400000 */  sw         $zero, ($v0)
.L800676A8:
/* 682A8 800676A8 92420001 */  lbu        $v0, 1($s2)
/* 682AC 800676AC 02C02021 */  addu       $a0, $s6, $zero
/* 682B0 800676B0 0082102B */  sltu       $v0, $a0, $v0
/* 682B4 800676B4 1440FFD4 */  bnez       $v0, .L80067608
/* 682B8 800676B8 00041880 */   sll       $v1, $a0, 2
.L800676BC:
/* 682BC 800676BC 0C01C325 */  jal        NOOP_80070c94
/* 682C0 800676C0 2644003C */   addiu     $a0, $s2, 0x3c
/* 682C4 800676C4 0C01C88A */  jal        NOOP_80072228
/* 682C8 800676C8 26444E64 */   addiu     $a0, $s2, 0x4e64
/* 682CC 800676CC 0C01C88A */  jal        NOOP_80072228
/* 682D0 800676D0 26444F0C */   addiu     $a0, $s2, 0x4f0c
/* 682D4 800676D4 8E464FB4 */  lw         $a2, 0x4fb4($s2)
/* 682D8 800676D8 10C00007 */  beqz       $a2, .L800676F8
/* 682DC 800676DC 24050003 */   addiu     $a1, $zero, 3
/* 682E0 800676E0 8CC20000 */  lw         $v0, ($a2)
/* 682E4 800676E4 84440008 */  lh         $a0, 8($v0)
/* 682E8 800676E8 8C43000C */  lw         $v1, 0xc($v0)
/* 682EC 800676EC 0060F809 */  jalr       $v1
/* 682F0 800676F0 00C42021 */   addu      $a0, $a2, $a0
/* 682F4 800676F4 AE404FB4 */  sw         $zero, 0x4fb4($s2)
.L800676F8:
/* 682F8 800676F8 8E444FC0 */  lw         $a0, 0x4fc0($s2)
/* 682FC 800676FC 10800005 */  beqz       $a0, .L80067714
/* 68300 80067700 8FBF0034 */   lw        $ra, 0x34($sp)
/* 68304 80067704 0C0232F9 */  jal        free_romstring
/* 68308 80067708 00000000 */   nop
/* 6830C 8006770C AE404FC0 */  sw         $zero, 0x4fc0($s2)
/* 68310 80067710 8FBF0034 */  lw         $ra, 0x34($sp)
.L80067714:
/* 68314 80067714 8FBE0030 */  lw         $fp, 0x30($sp)
/* 68318 80067718 8FB7002C */  lw         $s7, 0x2c($sp)
/* 6831C 8006771C 8FB60028 */  lw         $s6, 0x28($sp)
/* 68320 80067720 8FB50024 */  lw         $s5, 0x24($sp)
/* 68324 80067724 8FB40020 */  lw         $s4, 0x20($sp)
/* 68328 80067728 8FB3001C */  lw         $s3, 0x1c($sp)
/* 6832C 8006772C 8FB20018 */  lw         $s2, 0x18($sp)
/* 68330 80067730 8FB10014 */  lw         $s1, 0x14($sp)
/* 68334 80067734 8FB00010 */  lw         $s0, 0x10($sp)
/* 68338 80067738 03E00008 */  jr         $ra
/* 6833C 8006773C 27BD0038 */   addiu     $sp, $sp, 0x38

glabel func_80067740
/* 68340 80067740 27BDFFE0 */  addiu      $sp, $sp, -0x20
/* 68344 80067744 AFB00010 */  sw         $s0, 0x10($sp)
/* 68348 80067748 00808021 */  addu       $s0, $a0, $zero
/* 6834C 8006774C AFB10014 */  sw         $s1, 0x14($sp)
/* 68350 80067750 26114E64 */  addiu      $s1, $s0, 0x4e64
/* 68354 80067754 02202021 */  addu       $a0, $s1, $zero
/* 68358 80067758 AFBF0018 */  sw         $ra, 0x18($sp)
/* 6835C 8006775C 0C01C883 */  jal        func_8007220C
/* 68360 80067760 00002821 */   addu      $a1, $zero, $zero
/* 68364 80067764 8E05002C */  lw         $a1, 0x2c($s0)
/* 68368 80067768 0C01C915 */  jal        func_80072454
/* 6836C 8006776C 02202021 */   addu      $a0, $s1, $zero
/* 68370 80067770 26114F0C */  addiu      $s1, $s0, 0x4f0c
/* 68374 80067774 02202021 */  addu       $a0, $s1, $zero
/* 68378 80067778 0C01C883 */  jal        func_8007220C
/* 6837C 8006777C 24050001 */   addiu     $a1, $zero, 1
/* 68380 80067780 8E05002C */  lw         $a1, 0x2c($s0)
/* 68384 80067784 0C01C915 */  jal        func_80072454
/* 68388 80067788 02202021 */   addu      $a0, $s1, $zero
/* 6838C 8006778C 8FBF0018 */  lw         $ra, 0x18($sp)
/* 68390 80067790 8FB10014 */  lw         $s1, 0x14($sp)
/* 68394 80067794 8FB00010 */  lw         $s0, 0x10($sp)
/* 68398 80067798 03E00008 */  jr         $ra
/* 6839C 8006779C 27BD0020 */   addiu     $sp, $sp, 0x20

glabel copy_string_to_combat_textbox
/* 683A0 800677A0 27BDFFE0 */  addiu      $sp, $sp, -0x20
/* 683A4 800677A4 AFB00010 */  sw         $s0, 0x10($sp)
/* 683A8 800677A8 00808021 */  addu       $s0, $a0, $zero
/* 683AC 800677AC 26044FC4 */  addiu      $a0, $s0, 0x4fc4
/* 683B0 800677B0 AFB10014 */  sw         $s1, 0x14($sp)
/* 683B4 800677B4 00A08821 */  addu       $s1, $a1, $zero
/* 683B8 800677B8 AFB20018 */  sw         $s2, 0x18($sp)
/* 683BC 800677BC AFBF001C */  sw         $ra, 0x1c($sp)
/* 683C0 800677C0 0C02626C */  jal        copy_string
/* 683C4 800677C4 00C09021 */   addu      $s2, $a2, $zero
/* 683C8 800677C8 8E0352C4 */  lw         $v1, 0x52c4($s0)
/* 683CC 800677CC 02202021 */  addu       $a0, $s1, $zero
/* 683D0 800677D0 00721825 */  or         $v1, $v1, $s2
/* 683D4 800677D4 0C024460 */  jal        combat_widget_print_func
/* 683D8 800677D8 AE0352C4 */   sw        $v1, 0x52c4($s0)
/* 683DC 800677DC 8FBF001C */  lw         $ra, 0x1c($sp)
/* 683E0 800677E0 8FB20018 */  lw         $s2, 0x18($sp)
/* 683E4 800677E4 8FB10014 */  lw         $s1, 0x14($sp)
/* 683E8 800677E8 8FB00010 */  lw         $s0, 0x10($sp)
/* 683EC 800677EC 03E00008 */  jr         $ra
/* 683F0 800677F0 27BD0020 */   addiu     $sp, $sp, 0x20

glabel print_combat_textbox
/* 683F4 800677F4 27BDFFE0 */  addiu      $sp, $sp, -0x20
/* 683F8 800677F8 AFB00010 */  sw         $s0, 0x10($sp)
/* 683FC 800677FC 00808021 */  addu       $s0, $a0, $zero
/* 68400 80067800 AFB10014 */  sw         $s1, 0x14($sp)
/* 68404 80067804 00C08821 */  addu       $s1, $a2, $zero
/* 68408 80067808 AFBF0018 */  sw         $ra, 0x18($sp)
/* 6840C 8006780C 0C02626C */  jal        copy_string
/* 68410 80067810 260450C4 */   addiu     $a0, $s0, 0x50c4
/* 68414 80067814 8E0352C4 */  lw         $v1, 0x52c4($s0)
/* 68418 80067818 8FBF0018 */  lw         $ra, 0x18($sp)
/* 6841C 8006781C 00711825 */  or         $v1, $v1, $s1
/* 68420 80067820 8FB10014 */  lw         $s1, 0x14($sp)
/* 68424 80067824 AE0352C4 */  sw         $v1, 0x52c4($s0)
/* 68428 80067828 8FB00010 */  lw         $s0, 0x10($sp)
/* 6842C 8006782C 03E00008 */  jr         $ra
/* 68430 80067830 27BD0020 */   addiu     $sp, $sp, 0x20

glabel copy_to_combat_textbox_2
/* 68434 80067834 27BDFFE0 */  addiu      $sp, $sp, -0x20
/* 68438 80067838 AFB00010 */  sw         $s0, 0x10($sp)
/* 6843C 8006783C 00808021 */  addu       $s0, $a0, $zero
/* 68440 80067840 AFB10014 */  sw         $s1, 0x14($sp)
/* 68444 80067844 00C08821 */  addu       $s1, $a2, $zero
/* 68448 80067848 AFBF0018 */  sw         $ra, 0x18($sp)
/* 6844C 8006784C 0C02626C */  jal        copy_string
/* 68450 80067850 260451C4 */   addiu     $a0, $s0, 0x51c4
/* 68454 80067854 8E0352C4 */  lw         $v1, 0x52c4($s0)
/* 68458 80067858 8FBF0018 */  lw         $ra, 0x18($sp)
/* 6845C 8006785C 00711825 */  or         $v1, $v1, $s1
/* 68460 80067860 8FB10014 */  lw         $s1, 0x14($sp)
/* 68464 80067864 AE0352C4 */  sw         $v1, 0x52c4($s0)
/* 68468 80067868 8FB00010 */  lw         $s0, 0x10($sp)
/* 6846C 8006786C 03E00008 */  jr         $ra
/* 68470 80067870 27BD0020 */   addiu     $sp, $sp, 0x20

glabel passto_combat_widget_print_func
/* 68474 80067874 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 68478 80067878 AFBF0010 */  sw         $ra, 0x10($sp)
/* 6847C 8006787C 0C024460 */  jal        combat_widget_print_func
/* 68480 80067880 24844FC4 */   addiu     $a0, $a0, 0x4fc4
/* 68484 80067884 8FBF0010 */  lw         $ra, 0x10($sp)
/* 68488 80067888 03E00008 */  jr         $ra
/* 6848C 8006788C 27BD0018 */   addiu     $sp, $sp, 0x18

glabel copy_to_textbox_1
/* 68490 80067890 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 68494 80067894 AFB00010 */  sw         $s0, 0x10($sp)
/* 68498 80067898 00808021 */  addu       $s0, $a0, $zero
/* 6849C 8006789C AFBF0014 */  sw         $ra, 0x14($sp)
/* 684A0 800678A0 8E0252C4 */  lw         $v0, 0x52c4($s0)
/* 684A4 800678A4 30420004 */  andi       $v0, $v0, 4
/* 684A8 800678A8 10400007 */  beqz       $v0, .L800678C8
/* 684AC 800678AC 260450C4 */   addiu     $a0, $s0, 0x50c4
/* 684B0 800678B0 0C02626C */  jal        copy_string
/* 684B4 800678B4 260551C4 */   addiu     $a1, $s0, 0x51c4
/* 684B8 800678B8 8E0352C4 */  lw         $v1, 0x52c4($s0)
/* 684BC 800678BC 2402FFFB */  addiu      $v0, $zero, -5
/* 684C0 800678C0 00621824 */  and        $v1, $v1, $v0
/* 684C4 800678C4 AE0352C4 */  sw         $v1, 0x52c4($s0)
.L800678C8:
/* 684C8 800678C8 02002021 */  addu       $a0, $s0, $zero
/* 684CC 800678CC 248550C4 */  addiu      $a1, $a0, 0x50c4
/* 684D0 800678D0 0C019DE8 */  jal        copy_string_to_combat_textbox
/* 684D4 800678D4 00003021 */   addu      $a2, $zero, $zero
/* 684D8 800678D8 8FBF0014 */  lw         $ra, 0x14($sp)
/* 684DC 800678DC 8FB00010 */  lw         $s0, 0x10($sp)
/* 684E0 800678E0 03E00008 */  jr         $ra
/* 684E4 800678E4 27BD0018 */   addiu     $sp, $sp, 0x18

glabel func_800678E8
/* 684E8 800678E8 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 684EC 800678EC 248551C4 */  addiu      $a1, $a0, 0x51c4
/* 684F0 800678F0 AFBF0010 */  sw         $ra, 0x10($sp)
/* 684F4 800678F4 0C019DE8 */  jal        copy_string_to_combat_textbox
/* 684F8 800678F8 00003021 */   addu      $a2, $zero, $zero
/* 684FC 800678FC 8FBF0010 */  lw         $ra, 0x10($sp)
/* 68500 80067900 03E00008 */  jr         $ra
/* 68504 80067904 27BD0018 */   addiu     $sp, $sp, 0x18

glabel check_battlefeild_fleeing_refpoints
/* 68508 80067908 27BDFF98 */  addiu      $sp, $sp, -0x68
/* 6850C 8006790C AFB10054 */  sw         $s1, 0x54($sp)
/* 68510 80067910 00808821 */  addu       $s1, $a0, $zero
/* 68514 80067914 AFB00050 */  sw         $s0, 0x50($sp)
/* 68518 80067918 00008021 */  addu       $s0, $zero, $zero
/* 6851C 8006791C AFB40060 */  sw         $s4, 0x60($sp)
/* 68520 80067920 3C14800F */  lui        $s4, 0x800f
/* 68524 80067924 3C02800E */  lui        $v0, %hi(gGlobals)
/* 68528 80067928 AFB20058 */  sw         $s2, 0x58($sp)
/* 6852C 8006792C 245268A8 */  addiu      $s2, $v0, %lo(gGlobals)
/* 68530 80067930 AFB3005C */  sw         $s3, 0x5c($sp)
/* 68534 80067934 24130001 */  addiu      $s3, $zero, 1
/* 68538 80067938 AFBF0064 */  sw         $ra, 0x64($sp)
/* 6853C 8006793C AE205440 */  sw         $zero, 0x5440($s1)
/* 68540 80067940 8E82F760 */  lw         $v0, -0x8a0($s4)
.L80067944:
/* 68544 80067944 8C434FC0 */  lw         $v1, 0x4fc0($v0)
/* 68548 80067948 27A40010 */  addiu      $a0, $sp, 0x10
/* 6854C 8006794C 8C6500D8 */  lw         $a1, 0xd8($v1)
/* 68550 80067950 0C0333AC */  jal        sprintf
/* 68554 80067954 02003021 */   addu      $a2, $s0, $zero
/* 68558 80067958 27A50010 */  addiu      $a1, $sp, 0x10
/* 6855C 8006795C 8E440200 */  lw         $a0, 0x200($s2)
/* 68560 80067960 0C003A86 */  jal        FindReferncePointName
/* 68564 80067964 00003021 */   addu      $a2, $zero, $zero
/* 68568 80067968 10400003 */  beqz       $v0, .L80067978
/* 6856C 8006796C 26100001 */   addiu     $s0, $s0, 1
/* 68570 80067970 08019E61 */  j          .L80067984
/* 68574 80067974 AE335440 */   sw        $s3, 0x5440($s1)
.L80067978:
/* 68578 80067978 2E020008 */  sltiu      $v0, $s0, 8
/* 6857C 8006797C 1440FFF1 */  bnez       $v0, .L80067944
/* 68580 80067980 8E82F760 */   lw        $v0, -0x8a0($s4)
.L80067984:
/* 68584 80067984 8FBF0064 */  lw         $ra, 0x64($sp)
/* 68588 80067988 8FB40060 */  lw         $s4, 0x60($sp)
/* 6858C 8006798C 8FB3005C */  lw         $s3, 0x5c($sp)
/* 68590 80067990 8FB20058 */  lw         $s2, 0x58($sp)
/* 68594 80067994 8FB10054 */  lw         $s1, 0x54($sp)
/* 68598 80067998 8FB00050 */  lw         $s0, 0x50($sp)
/* 6859C 8006799C 03E00008 */  jr         $ra
/* 685A0 800679A0 27BD0068 */   addiu     $sp, $sp, 0x68

glabel unk8_greaterthan_3
/* 685A4 800679A4 8C825448 */  lw         $v0, 0x5448($a0)
/* 685A8 800679A8 2C420004 */  sltiu      $v0, $v0, 4
/* 685AC 800679AC 03E00008 */  jr         $ra
/* 685B0 800679B0 38420001 */   xori      $v0, $v0, 1
/* 685B4 800679B4 00000000 */  nop
/* 685B8 800679B8 00000000 */  nop
/* 685BC 800679BC 00000000 */  nop
