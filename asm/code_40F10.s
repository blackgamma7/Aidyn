.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text, "ax"

glabel Draw_spells_header
/* 40F10 80040310 27BDFFD8 */  addiu      $sp, $sp, -0x28
/* 40F14 80040314 AFB1001C */  sw         $s1, 0x1c($sp)
/* 40F18 80040318 00808821 */  addu       $s1, $a0, $zero
/* 40F1C 8004031C AFB00018 */  sw         $s0, 0x18($sp)
/* 40F20 80040320 00A08021 */  addu       $s0, $a1, $zero
/* 40F24 80040324 AFBF0020 */  sw         $ra, 0x20($sp)
/* 40F28 80040328 0C00DF44 */  jal        func_80037D10
/* 40F2C 8004032C 24050012 */   addiu     $a1, $zero, 0x12
/* 40F30 80040330 3C03800E */  lui        $v1, %hi(D_800DC8A0)
/* 40F34 80040334 2463C8A0 */  addiu      $v1, $v1, %lo(D_800DC8A0)
/* 40F38 80040338 3C02800F */  lui        $v0, %hi(partypicker)
/* 40F3C 8004033C AE230078 */  sw         $v1, 0x78($s1)
/* 40F40 80040340 AE30008C */  sw         $s0, 0x8c($s1)
/* 40F44 80040344 9043D550 */  lbu        $v1, %lo(partypicker)($v0)
/* 40F48 80040348 16000013 */  bnez       $s0, .L80040398
/* 40F4C 8004034C A2230088 */   sb        $v1, 0x88($s1)
/* 40F50 80040350 0C026259 */  jal        passToMalloc
/* 40F54 80040354 2404007C */   addiu     $a0, $zero, 0x7c
/* 40F58 80040358 240400ED */  addiu      $a0, $zero, 0xed
/* 40F5C 8004035C 0C0290E2 */  jal        get_borg_8
/* 40F60 80040360 00408021 */   addu      $s0, $v0, $zero
/* 40F64 80040364 02002021 */  addu       $a0, $s0, $zero
/* 40F68 80040368 0C02E518 */  jal        borg8_widget
/* 40F6C 8004036C 00402821 */   addu      $a1, $v0, $zero
/* 40F70 80040370 00402021 */  addu       $a0, $v0, $zero
/* 40F74 80040374 2405009E */  addiu      $a1, $zero, 0x9e
/* 40F78 80040378 24060051 */  addiu      $a2, $zero, 0x51
/* 40F7C 8004037C 0C02DD3F */  jal        set_widget_coords
/* 40F80 80040380 AE22007C */   sw        $v0, 0x7c($s1)
/* 40F84 80040384 8E25007C */  lw         $a1, 0x7c($s1)
/* 40F88 80040388 0C02DEDC */  jal        link_widgets
/* 40F8C 8004038C 02202021 */   addu      $a0, $s1, $zero
/* 40F90 80040390 080100E8 */  j          .L800403A0
/* 40F94 80040394 02202021 */   addu      $a0, $s1, $zero
.L80040398:
/* 40F98 80040398 AE20007C */  sw         $zero, 0x7c($s1)
/* 40F9C 8004039C 02202021 */  addu       $a0, $s1, $zero
.L800403A0:
/* 40FA0 800403A0 24050082 */  addiu      $a1, $zero, 0x82
/* 40FA4 800403A4 24060050 */  addiu      $a2, $zero, 0x50
/* 40FA8 800403A8 240200FF */  addiu      $v0, $zero, 0xff
/* 40FAC 800403AC 24070050 */  addiu      $a3, $zero, 0x50
/* 40FB0 800403B0 0C02DD4A */  jal        set_widget_color
/* 40FB4 800403B4 AFA20010 */   sw        $v0, 0x10($sp)
/* 40FB8 800403B8 02202021 */  addu       $a0, $s1, $zero
/* 40FBC 800403BC 0C010100 */  jal        func_80040400
/* 40FC0 800403C0 AE200080 */   sw        $zero, 0x80($s1)
/* 40FC4 800403C4 02201021 */  addu       $v0, $s1, $zero
/* 40FC8 800403C8 8FBF0020 */  lw         $ra, 0x20($sp)
/* 40FCC 800403CC 8FB1001C */  lw         $s1, 0x1c($sp)
/* 40FD0 800403D0 8FB00018 */  lw         $s0, 0x18($sp)
/* 40FD4 800403D4 03E00008 */  jr         $ra
/* 40FD8 800403D8 27BD0028 */   addiu     $sp, $sp, 0x28

glabel func_800403DC
/* 40FDC 800403DC 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 40FE0 800403E0 3C02800E */  lui        $v0, %hi(D_800DC8A0)
/* 40FE4 800403E4 2442C8A0 */  addiu      $v0, $v0, %lo(D_800DC8A0)
/* 40FE8 800403E8 AFBF0010 */  sw         $ra, 0x10($sp)
/* 40FEC 800403EC 0C02E66C */  jal        widget_menu_free
/* 40FF0 800403F0 AC820078 */   sw        $v0, 0x78($a0)
/* 40FF4 800403F4 8FBF0010 */  lw         $ra, 0x10($sp)
/* 40FF8 800403F8 03E00008 */  jr         $ra
/* 40FFC 800403FC 27BD0018 */   addiu     $sp, $sp, 0x18

glabel func_80040400
/* 41000 80040400 3C02800F */  lui        $v0, %hi(partypicker)
/* 41004 80040404 9043D550 */  lbu        $v1, %lo(partypicker)($v0)
/* 41008 80040408 27BDFFB0 */  addiu      $sp, $sp, -0x50
/* 4100C 8004040C AFB40038 */  sw         $s4, 0x38($sp)
/* 41010 80040410 0080A021 */  addu       $s4, $a0, $zero
/* 41014 80040414 AFBF0048 */  sw         $ra, 0x48($sp)
/* 41018 80040418 AFB70044 */  sw         $s7, 0x44($sp)
/* 4101C 8004041C AFB60040 */  sw         $s6, 0x40($sp)
/* 41020 80040420 AFB5003C */  sw         $s5, 0x3c($sp)
/* 41024 80040424 AFB30034 */  sw         $s3, 0x34($sp)
/* 41028 80040428 AFB20030 */  sw         $s2, 0x30($sp)
/* 4102C 8004042C AFB1002C */  sw         $s1, 0x2c($sp)
/* 41030 80040430 AFB00028 */  sw         $s0, 0x28($sp)
/* 41034 80040434 8E84008C */  lw         $a0, 0x8c($s4)
/* 41038 80040438 0000B021 */  addu       $s6, $zero, $zero
/* 4103C 8004043C 10800004 */  beqz       $a0, .L80040450
/* 41040 80040440 A2830088 */   sb        $v1, 0x88($s4)
/* 41044 80040444 3C02800E */  lui        $v0, %hi(shop_spells)
/* 41048 80040448 0801011B */  j          .L8004046C
/* 4104C 8004044C 8C557D88 */   lw        $s5, %lo(shop_spells)($v0)
.L80040450:
/* 41050 80040450 3C04800E */  lui        $a0, %hi(partyPointer)
/* 41054 80040454 92820088 */  lbu        $v0, 0x88($s4)
/* 41058 80040458 8C837EA0 */  lw         $v1, %lo(partyPointer)($a0)
/* 4105C 8004045C 00021080 */  sll        $v0, $v0, 2
/* 41060 80040460 00621821 */  addu       $v1, $v1, $v0
/* 41064 80040464 8C640000 */  lw         $a0, ($v1)
/* 41068 80040468 8C95002C */  lw         $s5, 0x2c($a0)
.L8004046C:
/* 4106C 8004046C 56A00001 */  bnel       $s5, $zero, .L80040474
/* 41070 80040470 92B60004 */   lbu       $s6, 4($s5)
.L80040474:
/* 41074 80040474 8E820080 */  lw         $v0, 0x80($s4)
/* 41078 80040478 1040001B */  beqz       $v0, .L800404E8
/* 4107C 8004047C 0000B821 */   addu      $s7, $zero, $zero
/* 41080 80040480 00402821 */  addu       $a1, $v0, $zero
/* 41084 80040484 8E830078 */  lw         $v1, 0x78($s4)
/* 41088 80040488 8C530040 */  lw         $s3, 0x40($v0)
/* 4108C 8004048C 84640038 */  lh         $a0, 0x38($v1)
/* 41090 80040490 9677001E */  lhu        $s7, 0x1e($s3)
/* 41094 80040494 86710010 */  lh         $s1, 0x10($s3)
/* 41098 80040498 8C62003C */  lw         $v0, 0x3c($v1)
/* 4109C 8004049C 86700012 */  lh         $s0, 0x12($s3)
/* 410A0 800404A0 0040F809 */  jalr       $v0
/* 410A4 800404A4 02842021 */   addu      $a0, $s4, $a0
/* 410A8 800404A8 3C04800E */  lui        $a0, %hi(queueStructA)
/* 410AC 800404AC 24847ECC */  addiu      $a0, $a0, %lo(queueStructA)
/* 410B0 800404B0 26850080 */  addiu      $a1, $s4, 0x80
/* 410B4 800404B4 24060006 */  addiu      $a2, $zero, 6
/* 410B8 800404B8 0C035867 */  jal        AllocFreeQueueItem
/* 410BC 800404BC 00003821 */   addu      $a3, $zero, $zero
/* 410C0 800404C0 0C026259 */  jal        passToMalloc
/* 410C4 800404C4 2404007C */   addiu     $a0, $zero, 0x7c
/* 410C8 800404C8 00402021 */  addu       $a0, $v0, $zero
/* 410CC 800404CC 0C00BE10 */  jal        widgetfastscrollmenu_func
/* 410D0 800404D0 02C02821 */   addu      $a1, $s6, $zero
/* 410D4 800404D4 8C530040 */  lw         $s3, 0x40($v0)
/* 410D8 800404D8 AE820080 */  sw         $v0, 0x80($s4)
/* 410DC 800404DC A6710010 */  sh         $s1, 0x10($s3)
/* 410E0 800404E0 08010141 */  j          .L80040504
/* 410E4 800404E4 A6700012 */   sh        $s0, 0x12($s3)
.L800404E8:
/* 410E8 800404E8 0C026259 */  jal        passToMalloc
/* 410EC 800404EC 2404007C */   addiu     $a0, $zero, 0x7c
/* 410F0 800404F0 00402021 */  addu       $a0, $v0, $zero
/* 410F4 800404F4 0C00BE10 */  jal        widgetfastscrollmenu_func
/* 410F8 800404F8 02C02821 */   addu      $a1, $s6, $zero
/* 410FC 800404FC 8C530040 */  lw         $s3, 0x40($v0)
/* 41100 80040500 AE820080 */  sw         $v0, 0x80($s4)
.L80040504:
/* 41104 80040504 24050044 */  addiu      $a1, $zero, 0x44
/* 41108 80040508 2406002A */  addiu      $a2, $zero, 0x2a
/* 4110C 8004050C 24070022 */  addiu      $a3, $zero, 0x22
/* 41110 80040510 00009021 */  addu       $s2, $zero, $zero
/* 41114 80040514 240800FF */  addiu      $t0, $zero, 0xff
/* 41118 80040518 24020097 */  addiu      $v0, $zero, 0x97
/* 4111C 8004051C 8E840080 */  lw         $a0, 0x80($s4)
/* 41120 80040520 2403008D */  addiu      $v1, $zero, 0x8d
/* 41124 80040524 AFA20014 */  sw         $v0, 0x14($sp)
/* 41128 80040528 240200BF */  addiu      $v0, $zero, 0xbf
/* 4112C 8004052C AFA2001C */  sw         $v0, 0x1c($sp)
/* 41130 80040530 24020014 */  addiu      $v0, $zero, 0x14
/* 41134 80040534 AFA80010 */  sw         $t0, 0x10($sp)
/* 41138 80040538 AFA30018 */  sw         $v1, 0x18($sp)
/* 4113C 8004053C AFA80020 */  sw         $t0, 0x20($sp)
/* 41140 80040540 0C00C0A0 */  jal        func_80030280
/* 41144 80040544 AFA20024 */   sw        $v0, 0x24($sp)
/* 41148 80040548 8E830078 */  lw         $v1, 0x78($s4)
/* 4114C 8004054C 8E850080 */  lw         $a1, 0x80($s4)
/* 41150 80040550 84640030 */  lh         $a0, 0x30($v1)
/* 41154 80040554 8C620034 */  lw         $v0, 0x34($v1)
/* 41158 80040558 0040F809 */  jalr       $v0
/* 4115C 8004055C 02842021 */   addu      $a0, $s4, $a0
/* 41160 80040560 0C00E00B */  jal        make_upDown_arrows
/* 41164 80040564 02802021 */   addu      $a0, $s4, $zero
/* 41168 80040568 52C00018 */  beql       $s6, $zero, .L800405CC
/* 4116C 8004056C 96620020 */   lhu       $v0, 0x20($s3)
/* 41170 80040570 8EA30000 */  lw         $v1, ($s5)
.L80040574:
/* 41174 80040574 00121080 */  sll        $v0, $s2, 2
/* 41178 80040578 00431021 */  addu       $v0, $v0, $v1
/* 4117C 8004057C 8C510000 */  lw         $s1, ($v0)
/* 41180 80040580 5220000E */  beql       $s1, $zero, .L800405BC
/* 41184 80040584 26520001 */   addiu     $s2, $s2, 1
/* 41188 80040588 0C026259 */  jal        passToMalloc
/* 4118C 8004058C 24040098 */   addiu     $a0, $zero, 0x98
/* 41190 80040590 00402021 */  addu       $a0, $v0, $zero
/* 41194 80040594 0C00FFA4 */  jal        menu_with_spells
/* 41198 80040598 02202821 */   addu      $a1, $s1, $zero
/* 4119C 8004059C 00408021 */  addu       $s0, $v0, $zero
/* 411A0 800405A0 8E840080 */  lw         $a0, 0x80($s4)
/* 411A4 800405A4 0C00C040 */  jal        func_80030100
/* 411A8 800405A8 02002821 */   addu      $a1, $s0, $zero
/* 411AC 800405AC 96230000 */  lhu        $v1, ($s1)
/* 411B0 800405B0 A212005C */  sb         $s2, 0x5c($s0)
/* 411B4 800405B4 A603005E */  sh         $v1, 0x5e($s0)
/* 411B8 800405B8 26520001 */  addiu      $s2, $s2, 1
.L800405BC:
/* 411BC 800405BC 0256102A */  slt        $v0, $s2, $s6
/* 411C0 800405C0 5440FFEC */  bnel       $v0, $zero, .L80040574
/* 411C4 800405C4 8EA30000 */   lw        $v1, ($s5)
/* 411C8 800405C8 96620020 */  lhu        $v0, 0x20($s3)
.L800405CC:
/* 411CC 800405CC 10400011 */  beqz       $v0, .L80040614
/* 411D0 800405D0 8FBF0048 */   lw        $ra, 0x48($sp)
/* 411D4 800405D4 12E00007 */  beqz       $s7, .L800405F4
/* 411D8 800405D8 2442FFFF */   addiu     $v0, $v0, -1
/* 411DC 800405DC 0057102A */  slt        $v0, $v0, $s7
/* 411E0 800405E0 50400004 */  beql       $v0, $zero, .L800405F4
/* 411E4 800405E4 A677001E */   sh        $s7, 0x1e($s3)
/* 411E8 800405E8 A660001E */  sh         $zero, 0x1e($s3)
/* 411EC 800405EC A6600012 */  sh         $zero, 0x12($s3)
/* 411F0 800405F0 A6600016 */  sh         $zero, 0x16($s3)
.L800405F4:
/* 411F4 800405F4 8E830078 */  lw         $v1, 0x78($s4)
/* 411F8 800405F8 84640028 */  lh         $a0, 0x28($v1)
/* 411FC 800405FC 8C62002C */  lw         $v0, 0x2c($v1)
/* 41200 80040600 0040F809 */  jalr       $v0
/* 41204 80040604 02842021 */   addu      $a0, $s4, $a0
/* 41208 80040608 0C00BFCC */  jal        func_8002FF30
/* 4120C 8004060C 8E840080 */   lw        $a0, 0x80($s4)
/* 41210 80040610 8FBF0048 */  lw         $ra, 0x48($sp)
.L80040614:
/* 41214 80040614 8FB70044 */  lw         $s7, 0x44($sp)
/* 41218 80040618 8FB60040 */  lw         $s6, 0x40($sp)
/* 4121C 8004061C 8FB5003C */  lw         $s5, 0x3c($sp)
/* 41220 80040620 8FB40038 */  lw         $s4, 0x38($sp)
/* 41224 80040624 8FB30034 */  lw         $s3, 0x34($sp)
/* 41228 80040628 8FB20030 */  lw         $s2, 0x30($sp)
/* 4122C 8004062C 8FB1002C */  lw         $s1, 0x2c($sp)
/* 41230 80040630 8FB00028 */  lw         $s0, 0x28($sp)
/* 41234 80040634 03E00008 */  jr         $ra
/* 41238 80040638 27BD0050 */   addiu     $sp, $sp, 0x50

glabel ret0_8004063c
/* 4123C 8004063C 03E00008 */  jr         $ra
/* 41240 80040640 00001021 */   addu      $v0, $zero, $zero

glabel func_80040644
/* 41244 80040644 27BDFFE0 */  addiu      $sp, $sp, -0x20
/* 41248 80040648 00063400 */  sll        $a2, $a2, 0x10
/* 4124C 8004064C 00073C00 */  sll        $a3, $a3, 0x10
/* 41250 80040650 00063403 */  sra        $a2, $a2, 0x10
/* 41254 80040654 87A20032 */  lh         $v0, 0x32($sp)
/* 41258 80040658 87A30036 */  lh         $v1, 0x36($sp)
/* 4125C 8004065C 00073C03 */  sra        $a3, $a3, 0x10
/* 41260 80040660 AFBF0018 */  sw         $ra, 0x18($sp)
/* 41264 80040664 AFA20010 */  sw         $v0, 0x10($sp)
/* 41268 80040668 0C02DE14 */  jal        widget_func_8
/* 4126C 8004066C AFA30014 */   sw        $v1, 0x14($sp)
/* 41270 80040670 8FBF0018 */  lw         $ra, 0x18($sp)
/* 41274 80040674 03E00008 */  jr         $ra
/* 41278 80040678 27BD0020 */   addiu     $sp, $sp, 0x20

glabel func_8004067C
/* 4127C 8004067C 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 41280 80040680 AFB00010 */  sw         $s0, 0x10($sp)
/* 41284 80040684 AFBF0014 */  sw         $ra, 0x14($sp)
/* 41288 80040688 0C00DFB2 */  jal        func_80037EC8
/* 4128C 8004068C 00808021 */   addu      $s0, $a0, $zero
/* 41290 80040690 0C02DE51 */  jal        func_800B7944
/* 41294 80040694 02002021 */   addu      $a0, $s0, $zero
/* 41298 80040698 8FBF0014 */  lw         $ra, 0x14($sp)
/* 4129C 8004069C 8FB00010 */  lw         $s0, 0x10($sp)
/* 412A0 800406A0 03E00008 */  jr         $ra
/* 412A4 800406A4 27BD0018 */   addiu     $sp, $sp, 0x18

glabel func_800406A8
/* 412A8 800406A8 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 412AC 800406AC AFBF0010 */  sw         $ra, 0x10($sp)
/* 412B0 800406B0 8C850080 */  lw         $a1, 0x80($a0)
/* 412B4 800406B4 8CA30078 */  lw         $v1, 0x78($a1)
/* 412B8 800406B8 84640078 */  lh         $a0, 0x78($v1)
/* 412BC 800406BC 8C62007C */  lw         $v0, 0x7c($v1)
/* 412C0 800406C0 0040F809 */  jalr       $v0
/* 412C4 800406C4 00A42021 */   addu      $a0, $a1, $a0
/* 412C8 800406C8 8FBF0010 */  lw         $ra, 0x10($sp)
/* 412CC 800406CC 03E00008 */  jr         $ra
/* 412D0 800406D0 27BD0018 */   addiu     $sp, $sp, 0x18

glabel func_800406D4
/* 412D4 800406D4 27BDFFD0 */  addiu      $sp, $sp, -0x30
/* 412D8 800406D8 AFB20020 */  sw         $s2, 0x20($sp)
/* 412DC 800406DC 00809021 */  addu       $s2, $a0, $zero
/* 412E0 800406E0 AFBF002C */  sw         $ra, 0x2c($sp)
/* 412E4 800406E4 AFB40028 */  sw         $s4, 0x28($sp)
/* 412E8 800406E8 AFB30024 */  sw         $s3, 0x24($sp)
/* 412EC 800406EC AFB1001C */  sw         $s1, 0x1c($sp)
/* 412F0 800406F0 AFB00018 */  sw         $s0, 0x18($sp)
/* 412F4 800406F4 8E420080 */  lw         $v0, 0x80($s2)
/* 412F8 800406F8 8C450078 */  lw         $a1, 0x78($v0)
/* 412FC 800406FC 3C10800E */  lui        $s0, %hi(gGlobals)
/* 41300 80040700 84A40078 */  lh         $a0, 0x78($a1)
/* 41304 80040704 261368A8 */  addiu      $s3, $s0, %lo(gGlobals)
/* 41308 80040708 00442021 */  addu       $a0, $v0, $a0
/* 4130C 8004070C 92420088 */  lbu        $v0, 0x88($s2)
/* 41310 80040710 8E6315F8 */  lw         $v1, 0x15f8($s3)
/* 41314 80040714 00021080 */  sll        $v0, $v0, 2
/* 41318 80040718 00621821 */  addu       $v1, $v1, $v0
/* 4131C 8004071C 8CA2007C */  lw         $v0, 0x7c($a1)
/* 41320 80040720 0040F809 */  jalr       $v0
/* 41324 80040724 8C710000 */   lw        $s1, ($v1)
/* 41328 80040728 00401821 */  addu       $v1, $v0, $zero
/* 4132C 8004072C 0200A021 */  addu       $s4, $s0, $zero
/* 41330 80040730 1060001F */  beqz       $v1, .L800407B0
/* 41334 80040734 00001021 */   addu      $v0, $zero, $zero
/* 41338 80040738 8E42008C */  lw         $v0, 0x8c($s2)
/* 4133C 8004073C 50400007 */  beql       $v0, $zero, .L8004075C
/* 41340 80040740 8E24002C */   lw        $a0, 0x2c($s1)
/* 41344 80040744 8E6414E0 */  lw         $a0, 0x14e0($s3)
/* 41348 80040748 9465005E */  lhu        $a1, 0x5e($v1)
/* 4134C 8004074C 0C021108 */  jal        knows_spell
/* 41350 80040750 27A60010 */   addiu     $a2, $sp, 0x10
/* 41354 80040754 080101DB */  j          .L8004076C
/* 41358 80040758 8E6314E0 */   lw        $v1, 0x14e0($s3)
.L8004075C:
/* 4135C 8004075C 9465005E */  lhu        $a1, 0x5e($v1)
/* 41360 80040760 0C021108 */  jal        knows_spell
/* 41364 80040764 27A60010 */   addiu     $a2, $sp, 0x10
/* 41368 80040768 8E23002C */  lw         $v1, 0x2c($s1)
.L8004076C:
/* 4136C 8004076C 93A20010 */  lbu        $v0, 0x10($sp)
/* 41370 80040770 8C640000 */  lw         $a0, ($v1)
/* 41374 80040774 00021080 */  sll        $v0, $v0, 2
/* 41378 80040778 00441021 */  addu       $v0, $v0, $a0
/* 4137C 8004077C 8C500000 */  lw         $s0, ($v0)
/* 41380 80040780 1200000B */  beqz       $s0, .L800407B0
/* 41384 80040784 00001021 */   addu      $v0, $zero, $zero
/* 41388 80040788 0C026259 */  jal        passToMalloc
/* 4138C 8004078C 24040080 */   addiu     $a0, $zero, 0x80
/* 41390 80040790 00402021 */  addu       $a0, $v0, $zero
/* 41394 80040794 0C00E957 */  jal        itemdetail_spells
/* 41398 80040798 02002821 */   addu      $a1, $s0, $zero
/* 4139C 8004079C 268368A8 */  addiu      $v1, $s4, 0x68a8
/* 413A0 800407A0 8C641604 */  lw         $a0, 0x1604($v1)
/* 413A4 800407A4 0C02DC7C */  jal        widgetHandler
/* 413A8 800407A8 00402821 */   addu      $a1, $v0, $zero
/* 413AC 800407AC 00001021 */  addu       $v0, $zero, $zero
.L800407B0:
/* 413B0 800407B0 8FBF002C */  lw         $ra, 0x2c($sp)
/* 413B4 800407B4 8FB40028 */  lw         $s4, 0x28($sp)
/* 413B8 800407B8 8FB30024 */  lw         $s3, 0x24($sp)
/* 413BC 800407BC 8FB20020 */  lw         $s2, 0x20($sp)
/* 413C0 800407C0 8FB1001C */  lw         $s1, 0x1c($sp)
/* 413C4 800407C4 8FB00018 */  lw         $s0, 0x18($sp)
/* 413C8 800407C8 03E00008 */  jr         $ra
/* 413CC 800407CC 27BD0030 */   addiu     $sp, $sp, 0x30

glabel func_800407D0
/* 413D0 800407D0 27BDFFE0 */  addiu      $sp, $sp, -0x20
/* 413D4 800407D4 3C02800E */  lui        $v0, %hi(partyPointer)
/* 413D8 800407D8 AFBF001C */  sw         $ra, 0x1c($sp)
/* 413DC 800407DC AFB00018 */  sw         $s0, 0x18($sp)
/* 413E0 800407E0 90830088 */  lbu        $v1, 0x88($a0)
/* 413E4 800407E4 8C447EA0 */  lw         $a0, %lo(partyPointer)($v0)
/* 413E8 800407E8 00031880 */  sll        $v1, $v1, 2
/* 413EC 800407EC 00832021 */  addu       $a0, $a0, $v1
/* 413F0 800407F0 8C900000 */  lw         $s0, ($a0)
/* 413F4 800407F4 30A5FFFF */  andi       $a1, $a1, 0xffff
/* 413F8 800407F8 8E04002C */  lw         $a0, 0x2c($s0)
/* 413FC 800407FC 0C021108 */  jal        knows_spell
/* 41400 80040800 27A60010 */   addiu     $a2, $sp, 0x10
/* 41404 80040804 54400003 */  bnel       $v0, $zero, .L80040814
/* 41408 80040808 8E02002C */   lw        $v0, 0x2c($s0)
/* 4140C 8004080C 0801020B */  j          .L8004082C
/* 41410 80040810 240200C8 */   addiu     $v0, $zero, 0xc8
.L80040814:
/* 41414 80040814 93A30010 */  lbu        $v1, 0x10($sp)
/* 41418 80040818 8C440000 */  lw         $a0, ($v0)
/* 4141C 8004081C 00031880 */  sll        $v1, $v1, 2
/* 41420 80040820 00641821 */  addu       $v1, $v1, $a0
/* 41424 80040824 0C020FDA */  jal        func_80083F68
/* 41428 80040828 8C640000 */   lw        $a0, ($v1)
.L8004082C:
/* 4142C 8004082C 8FBF001C */  lw         $ra, 0x1c($sp)
/* 41430 80040830 8FB00018 */  lw         $s0, 0x18($sp)
/* 41434 80040834 03E00008 */  jr         $ra
/* 41438 80040838 27BD0020 */   addiu     $sp, $sp, 0x20

glabel func_8004083C
/* 4143C 8004083C 27BDFFD0 */  addiu      $sp, $sp, -0x30
/* 41440 80040840 AFB20020 */  sw         $s2, 0x20($sp)
/* 41444 80040844 30B2FFFF */  andi       $s2, $a1, 0xffff
/* 41448 80040848 3C03800E */  lui        $v1, %hi(gGlobals)
/* 4144C 8004084C AFB1001C */  sw         $s1, 0x1c($sp)
/* 41450 80040850 247168A8 */  addiu      $s1, $v1, %lo(gGlobals)
/* 41454 80040854 AFBF0024 */  sw         $ra, 0x24($sp)
/* 41458 80040858 AFB00018 */  sw         $s0, 0x18($sp)
/* 4145C 8004085C F7B40028 */  sdc1       $f20, 0x28($sp)
/* 41460 80040860 90820088 */  lbu        $v0, 0x88($a0)
/* 41464 80040864 24040005 */  addiu      $a0, $zero, 5
/* 41468 80040868 3C01800E */  lui        $at, %hi(D_800DC850)
/* 4146C 8004086C C434C850 */  lwc1       $f20, %lo(D_800DC850)($at)
/* 41470 80040870 8E2315F8 */  lw         $v1, 0x15f8($s1)
/* 41474 80040874 00021080 */  sll        $v0, $v0, 2
/* 41478 80040878 00621821 */  addu       $v1, $v1, $v0
/* 4147C 8004087C 922214C4 */  lbu        $v0, 0x14c4($s1)
/* 41480 80040880 14440003 */  bne        $v0, $a0, .L80040890
/* 41484 80040884 8C700000 */   lw        $s0, ($v1)
/* 41488 80040888 3C01800E */  lui        $at, %hi(D_800DC854)
/* 4148C 8004088C C434C854 */  lwc1       $f20, %lo(D_800DC854)($at)
.L80040890:
/* 41490 80040890 8E04002C */  lw         $a0, 0x2c($s0)
/* 41494 80040894 02402821 */  addu       $a1, $s2, $zero
/* 41498 80040898 0C021108 */  jal        knows_spell
/* 4149C 8004089C 27A60010 */   addiu     $a2, $sp, 0x10
/* 414A0 800408A0 10400025 */  beqz       $v0, .L80040938
/* 414A4 800408A4 93A20010 */   lbu       $v0, 0x10($sp)
/* 414A8 800408A8 8E03002C */  lw         $v1, 0x2c($s0)
/* 414AC 800408AC 8C640000 */  lw         $a0, ($v1)
/* 414B0 800408B0 00021080 */  sll        $v0, $v0, 2
/* 414B4 800408B4 00441021 */  addu       $v0, $v0, $a0
/* 414B8 800408B8 8C510000 */  lw         $s1, ($v0)
/* 414BC 800408BC 0C020FD0 */  jal        func_80083F40
/* 414C0 800408C0 02202021 */   addu      $a0, $s1, $zero
/* 414C4 800408C4 44821000 */  mtc1       $v0, $f2
/* 414C8 800408C8 468010A1 */  cvt.d.w    $f2, $f2
/* 414CC 800408CC 04430005 */  bgezl      $v0, .L800408E4
/* 414D0 800408D0 46201020 */   cvt.s.d   $f0, $f2
/* 414D4 800408D4 3C01800E */  lui        $at, %hi(D_800DC858)
/* 414D8 800408D8 D420C858 */  ldc1       $f0, %lo(D_800DC858)($at)
/* 414DC 800408DC 46201080 */  add.d      $f2, $f2, $f0
/* 414E0 800408E0 46201020 */  cvt.s.d    $f0, $f2
.L800408E4:
/* 414E4 800408E4 46140002 */  mul.s      $f0, $f0, $f20
/* 414E8 800408E8 3C01800E */  lui        $at, %hi(D_800DC860)
/* 414EC 800408EC C422C860 */  lwc1       $f2, %lo(D_800DC860)($at)
/* 414F0 800408F0 4600103E */  c.le.s     $f2, $f0
/* 414F4 800408F4 00000000 */  nop
/* 414F8 800408F8 45030005 */  bc1tl      .L80040910
/* 414FC 800408FC 46020001 */   sub.s     $f0, $f0, $f2
/* 41500 80040900 4600008D */  trunc.w.s  $f2, $f0
/* 41504 80040904 44101000 */  mfc1       $s0, $f2
/* 41508 80040908 08010248 */  j          .L80040920
/* 4150C 8004090C 00000000 */   nop
.L80040910:
/* 41510 80040910 4600008D */  trunc.w.s  $f2, $f0
/* 41514 80040914 44101000 */  mfc1       $s0, $f2
/* 41518 80040918 3C028000 */  lui        $v0, 0x8000
/* 4151C 8004091C 02028025 */  or         $s0, $s0, $v0
.L80040920:
/* 41520 80040920 0C02101D */  jal        func_80084074
/* 41524 80040924 02202021 */   addu      $a0, $s1, $zero
/* 41528 80040928 54400029 */  bnel       $v0, $zero, .L800409D0
/* 4152C 8004092C 2410FFFF */   addiu     $s0, $zero, -1
/* 41530 80040930 08010275 */  j          .L800409D4
/* 41534 80040934 02001021 */   addu      $v0, $s0, $zero
.L80040938:
/* 41538 80040938 02402821 */  addu       $a1, $s2, $zero
/* 4153C 8004093C 8E2414E0 */  lw         $a0, 0x14e0($s1)
/* 41540 80040940 0C021108 */  jal        knows_spell
/* 41544 80040944 27A60010 */   addiu     $a2, $sp, 0x10
/* 41548 80040948 8E2314E0 */  lw         $v1, 0x14e0($s1)
/* 4154C 8004094C 93A20010 */  lbu        $v0, 0x10($sp)
/* 41550 80040950 8C640000 */  lw         $a0, ($v1)
/* 41554 80040954 00021080 */  sll        $v0, $v0, 2
/* 41558 80040958 00441021 */  addu       $v0, $v0, $a0
/* 4155C 8004095C 8C510000 */  lw         $s1, ($v0)
/* 41560 80040960 92320014 */  lbu        $s2, 0x14($s1)
/* 41564 80040964 02202021 */  addu       $a0, $s1, $zero
/* 41568 80040968 0C020FD0 */  jal        func_80083F40
/* 4156C 8004096C A2200014 */   sb        $zero, 0x14($s1)
/* 41570 80040970 44821000 */  mtc1       $v0, $f2
/* 41574 80040974 468010A1 */  cvt.d.w    $f2, $f2
/* 41578 80040978 04430005 */  bgezl      $v0, .L80040990
/* 4157C 8004097C 46201020 */   cvt.s.d   $f0, $f2
/* 41580 80040980 3C01800E */  lui        $at, %hi(D_800DC868)
/* 41584 80040984 D420C868 */  ldc1       $f0, %lo(D_800DC868)($at)
/* 41588 80040988 46201080 */  add.d      $f2, $f2, $f0
/* 4158C 8004098C 46201020 */  cvt.s.d    $f0, $f2
.L80040990:
/* 41590 80040990 46140002 */  mul.s      $f0, $f0, $f20
/* 41594 80040994 3C01800E */  lui        $at, %hi(D_800DC870)
/* 41598 80040998 C422C870 */  lwc1       $f2, %lo(D_800DC870)($at)
/* 4159C 8004099C 4600103E */  c.le.s     $f2, $f0
/* 415A0 800409A0 00000000 */  nop
/* 415A4 800409A4 45030005 */  bc1tl      .L800409BC
/* 415A8 800409A8 46020001 */   sub.s     $f0, $f0, $f2
/* 415AC 800409AC 4600008D */  trunc.w.s  $f2, $f0
/* 415B0 800409B0 44101000 */  mfc1       $s0, $f2
/* 415B4 800409B4 08010274 */  j          .L800409D0
/* 415B8 800409B8 A2320014 */   sb        $s2, 0x14($s1)
.L800409BC:
/* 415BC 800409BC 4600008D */  trunc.w.s  $f2, $f0
/* 415C0 800409C0 44101000 */  mfc1       $s0, $f2
/* 415C4 800409C4 3C028000 */  lui        $v0, 0x8000
/* 415C8 800409C8 02028025 */  or         $s0, $s0, $v0
/* 415CC 800409CC A2320014 */  sb         $s2, 0x14($s1)
.L800409D0:
/* 415D0 800409D0 02001021 */  addu       $v0, $s0, $zero
.L800409D4:
/* 415D4 800409D4 8FBF0024 */  lw         $ra, 0x24($sp)
/* 415D8 800409D8 8FB20020 */  lw         $s2, 0x20($sp)
/* 415DC 800409DC 8FB1001C */  lw         $s1, 0x1c($sp)
/* 415E0 800409E0 8FB00018 */  lw         $s0, 0x18($sp)
/* 415E4 800409E4 D7B40028 */  ldc1       $f20, 0x28($sp)
/* 415E8 800409E8 03E00008 */  jr         $ra
/* 415EC 800409EC 27BD0030 */   addiu     $sp, $sp, 0x30

glabel shopkeepNotOriana
/* 415F0 800409F0 3C04800E */  lui        $a0, %hi(current_shopkeep)
/* 415F4 800409F4 3C02800F */  lui        $v0, %hi(entityList+0x90)
/* 415F8 800409F8 90431440 */  lbu        $v1, %lo(entityList+0x90)($v0)
/* 415FC 800409FC 94826986 */  lhu        $v0, %lo(current_shopkeep)($a0)
/* 41600 80040A00 24630200 */  addiu      $v1, $v1, 0x200
/* 41604 80040A04 00431026 */  xor        $v0, $v0, $v1
/* 41608 80040A08 03E00008 */  jr         $ra
/* 4160C 80040A0C 0002102B */   sltu      $v0, $zero, $v0

glabel spell_learning_func
/* 41610 80040A10 27BDFF30 */  addiu      $sp, $sp, -0xd0
/* 41614 80040A14 AFBE00C8 */  sw         $fp, 0xc8($sp)
/* 41618 80040A18 0000F021 */  addu       $fp, $zero, $zero
/* 4161C 80040A1C AFB700C4 */  sw         $s7, 0xc4($sp)
/* 41620 80040A20 0080B821 */  addu       $s7, $a0, $zero
/* 41624 80040A24 AFB200B0 */  sw         $s2, 0xb0($sp)
/* 41628 80040A28 30B2FFFF */  andi       $s2, $a1, 0xffff
/* 4162C 80040A2C AFB000A8 */  sw         $s0, 0xa8($sp)
/* 41630 80040A30 3C10800E */  lui        $s0, %hi(gGlobals)
/* 41634 80040A34 AFB400B8 */  sw         $s4, 0xb8($sp)
/* 41638 80040A38 261468A8 */  addiu      $s4, $s0, %lo(gGlobals)
/* 4163C 80040A3C AFBF00CC */  sw         $ra, 0xcc($sp)
/* 41640 80040A40 AFB600C0 */  sw         $s6, 0xc0($sp)
/* 41644 80040A44 AFB500BC */  sw         $s5, 0xbc($sp)
/* 41648 80040A48 AFB300B4 */  sw         $s3, 0xb4($sp)
/* 4164C 80040A4C AFB100AC */  sw         $s1, 0xac($sp)
/* 41650 80040A50 92E20088 */  lbu        $v0, 0x88($s7)
/* 41654 80040A54 8E8315F8 */  lw         $v1, 0x15f8($s4)
/* 41658 80040A58 00021080 */  sll        $v0, $v0, 2
/* 4165C 80040A5C 00621821 */  addu       $v1, $v1, $v0
/* 41660 80040A60 8C730000 */  lw         $s3, ($v1)
/* 41664 80040A64 02402821 */  addu       $a1, $s2, $zero
/* 41668 80040A68 8E71002C */  lw         $s1, 0x2c($s3)
/* 4166C 80040A6C 27A60020 */  addiu      $a2, $sp, 0x20
/* 41670 80040A70 A3A00020 */  sb         $zero, 0x20($sp)
/* 41674 80040A74 928214C4 */  lbu        $v0, 0x14c4($s4)
/* 41678 80040A78 02202021 */  addu       $a0, $s1, $zero
/* 4167C 80040A7C 38420005 */  xori       $v0, $v0, 5
/* 41680 80040A80 0C021108 */  jal        knows_spell
/* 41684 80040A84 2C550001 */   sltiu     $s5, $v0, 1
/* 41688 80040A88 10400023 */  beqz       $v0, .L80040B18
/* 4168C 80040A8C 0200B021 */   addu      $s6, $s0, $zero
/* 41690 80040A90 93A20020 */  lbu        $v0, 0x20($sp)
/* 41694 80040A94 8E230000 */  lw         $v1, ($s1)
/* 41698 80040A98 00021080 */  sll        $v0, $v0, 2
/* 4169C 80040A9C 00431021 */  addu       $v0, $v0, $v1
/* 416A0 80040AA0 8C500000 */  lw         $s0, ($v0)
/* 416A4 80040AA4 0C02101D */  jal        func_80084074
/* 416A8 80040AA8 02002021 */   addu      $a0, $s0, $zero
/* 416AC 80040AAC 10400016 */  beqz       $v0, .L80040B08
/* 416B0 80040AB0 24050096 */   addiu     $a1, $zero, 0x96
/* 416B4 80040AB4 27A60028 */  addiu      $a2, $sp, 0x28
/* 416B8 80040AB8 240200E1 */  addiu      $v0, $zero, 0xe1
/* 416BC 80040ABC 240300FF */  addiu      $v1, $zero, 0xff
/* 416C0 80040AC0 A3A20028 */  sb         $v0, 0x28($sp)
/* 416C4 80040AC4 A3A20029 */  sb         $v0, 0x29($sp)
/* 416C8 80040AC8 A3A2002A */  sb         $v0, 0x2a($sp)
/* 416CC 80040ACC 24020032 */  addiu      $v0, $zero, 0x32
/* 416D0 80040AD0 A3A3002B */  sb         $v1, 0x2b($sp)
/* 416D4 80040AD4 24030096 */  addiu      $v1, $zero, 0x96
/* 416D8 80040AD8 A3A20068 */  sb         $v0, 0x68($sp)
/* 416DC 80040ADC A3A20069 */  sb         $v0, 0x69($sp)
/* 416E0 80040AE0 A3A2006A */  sb         $v0, 0x6a($sp)
/* 416E4 80040AE4 A3A3006B */  sb         $v1, 0x6b($sp)
/* 416E8 80040AE8 8E87204C */  lw         $a3, 0x204c($s4)
/* 416EC 80040AEC 24020001 */  addiu      $v0, $zero, 1
/* 416F0 80040AF0 AFA20010 */  sw         $v0, 0x10($sp)
/* 416F4 80040AF4 8CE408A0 */  lw         $a0, 0x8a0($a3)
/* 416F8 80040AF8 0C0131E1 */  jal        some_textbox_func
/* 416FC 80040AFC 27A70068 */   addiu     $a3, $sp, 0x68
/* 41700 80040B00 08010318 */  j          .L80040C60
/* 41704 80040B04 8FBF00CC */   lw        $ra, 0xcc($sp)
.L80040B08:
/* 41708 80040B08 92020014 */  lbu        $v0, 0x14($s0)
/* 4170C 80040B0C 24420001 */  addiu      $v0, $v0, 1
/* 41710 80040B10 080102CB */  j          .L80040B2C
/* 41714 80040B14 A2020014 */   sb        $v0, 0x14($s0)
.L80040B18:
/* 41718 80040B18 241E0001 */  addiu      $fp, $zero, 1
/* 4171C 80040B1C 02202021 */  addu       $a0, $s1, $zero
/* 41720 80040B20 02402821 */  addu       $a1, $s2, $zero
/* 41724 80040B24 0C0210AC */  jal        learn_spell
/* 41728 80040B28 24060001 */   addiu     $a2, $zero, 1
.L80040B2C:
/* 4172C 80040B2C 3C04800F */  lui        $a0, %hi(exp_magic_price)
/* 41730 80040B30 8E650014 */  lw         $a1, 0x14($s3)
/* 41734 80040B34 8C83D5A4 */  lw         $v1, %lo(exp_magic_price)($a0)
/* 41738 80040B38 8CA20008 */  lw         $v0, 8($a1)
/* 4173C 80040B3C 00431023 */  subu       $v0, $v0, $v1
/* 41740 80040B40 16A00008 */  bnez       $s5, .L80040B64
/* 41744 80040B44 ACA20008 */   sw        $v0, 8($a1)
/* 41748 80040B48 26C268A8 */  addiu      $v0, $s6, 0x68a8
/* 4174C 80040B4C 3C04800F */  lui        $a0, %hi(gold_magic_price)
/* 41750 80040B50 8C4515F8 */  lw         $a1, 0x15f8($v0)
/* 41754 80040B54 8C83D5A0 */  lw         $v1, %lo(gold_magic_price)($a0)
/* 41758 80040B58 8CA20014 */  lw         $v0, 0x14($a1)
/* 4175C 80040B5C 00431023 */  subu       $v0, $v0, $v1
/* 41760 80040B60 ACA20014 */  sw         $v0, 0x14($a1)
.L80040B64:
/* 41764 80040B64 26C268A8 */  addiu      $v0, $s6, 0x68a8
/* 41768 80040B68 8C4314CC */  lw         $v1, 0x14cc($v0)
/* 4176C 80040B6C 8C710040 */  lw         $s1, 0x40($v1)
/* 41770 80040B70 8E220004 */  lw         $v0, 4($s1)
/* 41774 80040B74 92E50088 */  lbu        $a1, 0x88($s7)
/* 41778 80040B78 0C00E2F7 */  jal        func_80038BDC
/* 4177C 80040B7C 8C440088 */   lw        $a0, 0x88($v0)
/* 41780 80040B80 8E220004 */  lw         $v0, 4($s1)
/* 41784 80040B84 8C44008C */  lw         $a0, 0x8c($v0)
/* 41788 80040B88 10800008 */  beqz       $a0, .L80040BAC
/* 4178C 80040B8C 00000000 */   nop
/* 41790 80040B90 0C00E6DF */  jal        func_80039B7C
/* 41794 80040B94 00000000 */   nop
/* 41798 80040B98 8E230004 */  lw         $v1, 4($s1)
/* 4179C 80040B9C 0C00E5B2 */  jal        func_800396C8
/* 417A0 80040BA0 8C64008C */   lw        $a0, 0x8c($v1)
/* 417A4 80040BA4 080102EE */  j          .L80040BB8
/* 417A8 80040BA8 8E220004 */   lw        $v0, 4($s1)
.L80040BAC:
/* 417AC 80040BAC 0C00E388 */  jal        show_EXP_costs
/* 417B0 80040BB0 8C440088 */   lw        $a0, 0x88($v0)
/* 417B4 80040BB4 8E220004 */  lw         $v0, 4($s1)
.L80040BB8:
/* 417B8 80040BB8 8C430080 */  lw         $v1, 0x80($v0)
/* 417BC 80040BBC 0C02EEBC */  jal        func_800BBAF0
/* 417C0 80040BC0 8C640080 */   lw        $a0, 0x80($v1)
/* 417C4 80040BC4 26D068A8 */  addiu      $s0, $s6, 0x68a8
/* 417C8 80040BC8 00402021 */  addu       $a0, $v0, $zero
/* 417CC 80040BCC 8E0315F8 */  lw         $v1, 0x15f8($s0)
/* 417D0 80040BD0 3C05800E */  lui        $a1, %hi(D_800DC874)
/* 417D4 80040BD4 8C660014 */  lw         $a2, 0x14($v1)
/* 417D8 80040BD8 0C0333AC */  jal        sprintf
/* 417DC 80040BDC 24A5C874 */   addiu     $a1, $a1, %lo(D_800DC874)
/* 417E0 80040BE0 8E230004 */  lw         $v1, 4($s1)
/* 417E4 80040BE4 8C640080 */  lw         $a0, 0x80($v1)
/* 417E8 80040BE8 0C010DA7 */  jal        func_8004369C
/* 417EC 80040BEC 02602821 */   addu      $a1, $s3, $zero
/* 417F0 80040BF0 13C0001B */  beqz       $fp, .L80040C60
/* 417F4 80040BF4 8FBF00CC */   lw        $ra, 0xcc($sp)
/* 417F8 80040BF8 0C009168 */  jal        get_event_flag
/* 417FC 80040BFC 24040E1B */   addiu     $a0, $zero, 0xe1b
/* 41800 80040C00 14400017 */  bnez       $v0, .L80040C60
/* 41804 80040C04 8FBF00CC */   lw        $ra, 0xcc($sp)
/* 41808 80040C08 24040E1B */  addiu      $a0, $zero, 0xe1b
/* 4180C 80040C0C 0C00918D */  jal        setEventFlag
/* 41810 80040C10 24050001 */   addiu     $a1, $zero, 1
/* 41814 80040C14 0C026259 */  jal        passToMalloc
/* 41818 80040C18 2404007C */   addiu     $a0, $zero, 0x7c
/* 4181C 80040C1C 00402021 */  addu       $a0, $v0, $zero
/* 41820 80040C20 24060017 */  addiu      $a2, $zero, 0x17
/* 41824 80040C24 24020082 */  addiu      $v0, $zero, 0x82
/* 41828 80040C28 24030050 */  addiu      $v1, $zero, 0x50
/* 4182C 80040C2C AFA20010 */  sw         $v0, 0x10($sp)
/* 41830 80040C30 AFA30014 */  sw         $v1, 0x14($sp)
/* 41834 80040C34 AFA30018 */  sw         $v1, 0x18($sp)
/* 41838 80040C38 8E07204C */  lw         $a3, 0x204c($s0)
/* 4183C 80040C3C 240200FF */  addiu      $v0, $zero, 0xff
/* 41840 80040C40 AFA2001C */  sw         $v0, 0x1c($sp)
/* 41844 80040C44 8CE507C4 */  lw         $a1, 0x7c4($a3)
/* 41848 80040C48 0C00F0F8 */  jal        first_item_spell_prompt
/* 4184C 80040C4C 24070046 */   addiu     $a3, $zero, 0x46
/* 41850 80040C50 8E041604 */  lw         $a0, 0x1604($s0)
/* 41854 80040C54 0C02DC7C */  jal        widgetHandler
/* 41858 80040C58 00402821 */   addu      $a1, $v0, $zero
/* 4185C 80040C5C 8FBF00CC */  lw         $ra, 0xcc($sp)
.L80040C60:
/* 41860 80040C60 8FBE00C8 */  lw         $fp, 0xc8($sp)
/* 41864 80040C64 8FB700C4 */  lw         $s7, 0xc4($sp)
/* 41868 80040C68 8FB600C0 */  lw         $s6, 0xc0($sp)
/* 4186C 80040C6C 8FB500BC */  lw         $s5, 0xbc($sp)
/* 41870 80040C70 8FB400B8 */  lw         $s4, 0xb8($sp)
/* 41874 80040C74 8FB300B4 */  lw         $s3, 0xb4($sp)
/* 41878 80040C78 8FB200B0 */  lw         $s2, 0xb0($sp)
/* 4187C 80040C7C 8FB100AC */  lw         $s1, 0xac($sp)
/* 41880 80040C80 8FB000A8 */  lw         $s0, 0xa8($sp)
/* 41884 80040C84 03E00008 */  jr         $ra
/* 41888 80040C88 27BD00D0 */   addiu     $sp, $sp, 0xd0

glabel train_magic_menu
/* 4188C 80040C8C 27BDFB98 */  addiu      $sp, $sp, -0x468
/* 41890 80040C90 AFB20440 */  sw         $s2, 0x440($sp)
/* 41894 80040C94 3C12800F */  lui        $s2, 0x800f
/* 41898 80040C98 AFB00438 */  sw         $s0, 0x438($sp)
/* 4189C 80040C9C 3C10800F */  lui        $s0, 0x800f
/* 418A0 80040CA0 AFB70454 */  sw         $s7, 0x454($sp)
/* 418A4 80040CA4 30B7FFFF */  andi       $s7, $a1, 0xffff
/* 418A8 80040CA8 AFB1043C */  sw         $s1, 0x43c($sp)
/* 418AC 80040CAC 3C11800E */  lui        $s1, %hi(gGlobals)
/* 418B0 80040CB0 AFB40448 */  sw         $s4, 0x448($sp)
/* 418B4 80040CB4 263468A8 */  addiu      $s4, $s1, %lo(gGlobals)
/* 418B8 80040CB8 AFBF045C */  sw         $ra, 0x45c($sp)
/* 418BC 80040CBC AFBE0458 */  sw         $fp, 0x458($sp)
/* 418C0 80040CC0 AFB60450 */  sw         $s6, 0x450($sp)
/* 418C4 80040CC4 AFB5044C */  sw         $s5, 0x44c($sp)
/* 418C8 80040CC8 AFB30444 */  sw         $s3, 0x444($sp)
/* 418CC 80040CCC F7B40460 */  sdc1       $f20, 0x460($sp)
/* 418D0 80040CD0 90830088 */  lbu        $v1, 0x88($a0)
/* 418D4 80040CD4 8E8215F8 */  lw         $v0, 0x15f8($s4)
/* 418D8 80040CD8 30D6FFFF */  andi       $s6, $a2, 0xffff
/* 418DC 80040CDC AE40D5A0 */  sw         $zero, -0x2a60($s2)
/* 418E0 80040CE0 AE00D5A4 */  sw         $zero, -0x2a5c($s0)
/* 418E4 80040CE4 00031880 */  sll        $v1, $v1, 2
/* 418E8 80040CE8 00431021 */  addu       $v0, $v0, $v1
/* 418EC 80040CEC 0C01027C */  jal        shopkeepNotOriana
/* 418F0 80040CF0 8C530000 */   lw        $s3, ($v0)
/* 418F4 80040CF4 8E64001C */  lw         $a0, 0x1c($s3)
/* 418F8 80040CF8 2405000B */  addiu      $a1, $zero, 0xb
/* 418FC 80040CFC 0C020F4B */  jal        capskillBaseMax
/* 41900 80040D00 AFA20430 */   sw        $v0, 0x430($sp)
/* 41904 80040D04 0040A821 */  addu       $s5, $v0, $zero
/* 41908 80040D08 2402FFFF */  addiu      $v0, $zero, -1
/* 4190C 80040D0C 16A20018 */  bne        $s5, $v0, .L80040D70
/* 41910 80040D10 02008821 */   addu      $s1, $s0, $zero
/* 41914 80040D14 24050096 */  addiu      $a1, $zero, 0x96
/* 41918 80040D18 27A40028 */  addiu      $a0, $sp, 0x28
/* 4191C 80040D1C 00803021 */  addu       $a2, $a0, $zero
/* 41920 80040D20 240200E1 */  addiu      $v0, $zero, 0xe1
/* 41924 80040D24 240300FF */  addiu      $v1, $zero, 0xff
/* 41928 80040D28 A3A20028 */  sb         $v0, 0x28($sp)
/* 4192C 80040D2C A0820001 */  sb         $v0, 1($a0)
/* 41930 80040D30 A0820002 */  sb         $v0, 2($a0)
/* 41934 80040D34 24020032 */  addiu      $v0, $zero, 0x32
/* 41938 80040D38 A0830003 */  sb         $v1, 3($a0)
/* 4193C 80040D3C 24030096 */  addiu      $v1, $zero, 0x96
/* 41940 80040D40 A3A20068 */  sb         $v0, 0x68($sp)
/* 41944 80040D44 A3A20069 */  sb         $v0, 0x69($sp)
/* 41948 80040D48 A3A2006A */  sb         $v0, 0x6a($sp)
/* 4194C 80040D4C A3A3006B */  sb         $v1, 0x6b($sp)
/* 41950 80040D50 8E87204C */  lw         $a3, 0x204c($s4)
/* 41954 80040D54 24020001 */  addiu      $v0, $zero, 1
/* 41958 80040D58 AFA20010 */  sw         $v0, 0x10($sp)
/* 4195C 80040D5C 8CE407C8 */  lw         $a0, 0x7c8($a3)
/* 41960 80040D60 0C0131E1 */  jal        some_textbox_func
/* 41964 80040D64 27A70068 */   addiu     $a3, $sp, 0x68
/* 41968 80040D68 080104C7 */  j          .L8004131C
/* 4196C 80040D6C 8FBF045C */   lw        $ra, 0x45c($sp)
.L80040D70:
/* 41970 80040D70 928214C4 */  lbu        $v0, 0x14c4($s4)
/* 41974 80040D74 3C01800E */  lui        $at, %hi(D_800DC878)
/* 41978 80040D78 C434C878 */  lwc1       $f20, %lo(D_800DC878)($at)
/* 4197C 80040D7C 38420005 */  xori       $v0, $v0, 5
/* 41980 80040D80 2C5E0001 */  sltiu      $fp, $v0, 1
/* 41984 80040D84 13C00003 */  beqz       $fp, .L80040D94
/* 41988 80040D88 8E64002C */   lw        $a0, 0x2c($s3)
/* 4198C 80040D8C 3C01800E */  lui        $at, %hi(D_800DC87C)
/* 41990 80040D90 C434C87C */  lwc1       $f20, %lo(D_800DC87C)($at)
.L80040D94:
/* 41994 80040D94 02E02821 */  addu       $a1, $s7, $zero
/* 41998 80040D98 27B000A8 */  addiu      $s0, $sp, 0xa8
/* 4199C 80040D9C 0C021108 */  jal        knows_spell
/* 419A0 80040DA0 02003021 */   addu      $a2, $s0, $zero
/* 419A4 80040DA4 10400058 */  beqz       $v0, .L80040F08
/* 419A8 80040DA8 93A300A8 */   lbu       $v1, 0xa8($sp)
/* 419AC 80040DAC 8E62002C */  lw         $v0, 0x2c($s3)
/* 419B0 80040DB0 8C440000 */  lw         $a0, ($v0)
/* 419B4 80040DB4 00031880 */  sll        $v1, $v1, 2
/* 419B8 80040DB8 00641821 */  addu       $v1, $v1, $a0
/* 419BC 80040DBC 8C700000 */  lw         $s0, ($v1)
/* 419C0 80040DC0 92020014 */  lbu        $v0, 0x14($s0)
/* 419C4 80040DC4 0056102B */  sltu       $v0, $v0, $s6
/* 419C8 80040DC8 14400016 */  bnez       $v0, .L80040E24
/* 419CC 80040DCC 24050096 */   addiu     $a1, $zero, 0x96
/* 419D0 80040DD0 27A600B0 */  addiu      $a2, $sp, 0xb0
/* 419D4 80040DD4 240200E1 */  addiu      $v0, $zero, 0xe1
/* 419D8 80040DD8 240300FF */  addiu      $v1, $zero, 0xff
/* 419DC 80040DDC A3A200B0 */  sb         $v0, 0xb0($sp)
/* 419E0 80040DE0 A3A200B1 */  sb         $v0, 0xb1($sp)
/* 419E4 80040DE4 A3A200B2 */  sb         $v0, 0xb2($sp)
/* 419E8 80040DE8 24020032 */  addiu      $v0, $zero, 0x32
/* 419EC 80040DEC A3A300B3 */  sb         $v1, 0xb3($sp)
/* 419F0 80040DF0 24030096 */  addiu      $v1, $zero, 0x96
/* 419F4 80040DF4 A3A200F0 */  sb         $v0, 0xf0($sp)
/* 419F8 80040DF8 A3A200F1 */  sb         $v0, 0xf1($sp)
/* 419FC 80040DFC A3A200F2 */  sb         $v0, 0xf2($sp)
/* 41A00 80040E00 A3A300F3 */  sb         $v1, 0xf3($sp)
/* 41A04 80040E04 8E87204C */  lw         $a3, 0x204c($s4)
/* 41A08 80040E08 24020001 */  addiu      $v0, $zero, 1
/* 41A0C 80040E0C AFA20010 */  sw         $v0, 0x10($sp)
/* 41A10 80040E10 8CE407CC */  lw         $a0, 0x7cc($a3)
/* 41A14 80040E14 0C0131E1 */  jal        some_textbox_func
/* 41A18 80040E18 27A700F0 */   addiu     $a3, $sp, 0xf0
/* 41A1C 80040E1C 080104C7 */  j          .L8004131C
/* 41A20 80040E20 8FBF045C */   lw        $ra, 0x45c($sp)
.L80040E24:
/* 41A24 80040E24 0C02101D */  jal        func_80084074
/* 41A28 80040E28 02002021 */   addu      $a0, $s0, $zero
/* 41A2C 80040E2C 10400016 */  beqz       $v0, .L80040E88
/* 41A30 80040E30 24050096 */   addiu     $a1, $zero, 0x96
/* 41A34 80040E34 27A60130 */  addiu      $a2, $sp, 0x130
/* 41A38 80040E38 240200E1 */  addiu      $v0, $zero, 0xe1
/* 41A3C 80040E3C 240300FF */  addiu      $v1, $zero, 0xff
/* 41A40 80040E40 A3A20130 */  sb         $v0, 0x130($sp)
/* 41A44 80040E44 A3A20131 */  sb         $v0, 0x131($sp)
/* 41A48 80040E48 A3A20132 */  sb         $v0, 0x132($sp)
/* 41A4C 80040E4C 24020032 */  addiu      $v0, $zero, 0x32
/* 41A50 80040E50 A3A30133 */  sb         $v1, 0x133($sp)
/* 41A54 80040E54 24030096 */  addiu      $v1, $zero, 0x96
/* 41A58 80040E58 A3A20170 */  sb         $v0, 0x170($sp)
/* 41A5C 80040E5C A3A20171 */  sb         $v0, 0x171($sp)
/* 41A60 80040E60 A3A20172 */  sb         $v0, 0x172($sp)
/* 41A64 80040E64 A3A30173 */  sb         $v1, 0x173($sp)
/* 41A68 80040E68 8E87204C */  lw         $a3, 0x204c($s4)
/* 41A6C 80040E6C 24020001 */  addiu      $v0, $zero, 1
/* 41A70 80040E70 AFA20010 */  sw         $v0, 0x10($sp)
/* 41A74 80040E74 8CE408A0 */  lw         $a0, 0x8a0($a3)
/* 41A78 80040E78 0C0131E1 */  jal        some_textbox_func
/* 41A7C 80040E7C 27A70170 */   addiu     $a3, $sp, 0x170
/* 41A80 80040E80 080104C7 */  j          .L8004131C
/* 41A84 80040E84 8FBF045C */   lw        $ra, 0x45c($sp)
.L80040E88:
/* 41A88 80040E88 0C020FDA */  jal        func_80083F68
/* 41A8C 80040E8C 02002021 */   addu      $a0, $s0, $zero
/* 41A90 80040E90 AE42D5A0 */  sw         $v0, -0x2a60($s2)
/* 41A94 80040E94 0C020FD0 */  jal        func_80083F40
/* 41A98 80040E98 02002021 */   addu      $a0, $s0, $zero
/* 41A9C 80040E9C 44821000 */  mtc1       $v0, $f2
/* 41AA0 80040EA0 468010A1 */  cvt.d.w    $f2, $f2
/* 41AA4 80040EA4 04430005 */  bgezl      $v0, .L80040EBC
/* 41AA8 80040EA8 46201020 */   cvt.s.d   $f0, $f2
/* 41AAC 80040EAC 3C01800E */  lui        $at, %hi(D_800DC880)
/* 41AB0 80040EB0 D420C880 */  ldc1       $f0, %lo(D_800DC880)($at)
/* 41AB4 80040EB4 46201080 */  add.d      $f2, $f2, $f0
/* 41AB8 80040EB8 46201020 */  cvt.s.d    $f0, $f2
.L80040EBC:
/* 41ABC 80040EBC 46140002 */  mul.s      $f0, $f0, $f20
/* 41AC0 80040EC0 3C01800E */  lui        $at, %hi(D_800DC888)
/* 41AC4 80040EC4 C422C888 */  lwc1       $f2, %lo(D_800DC888)($at)
/* 41AC8 80040EC8 4600103E */  c.le.s     $f2, $f0
/* 41ACC 80040ECC 00000000 */  nop
/* 41AD0 80040ED0 45030005 */  bc1tl      .L80040EE8
/* 41AD4 80040ED4 46020001 */   sub.s     $f0, $f0, $f2
/* 41AD8 80040ED8 4600008D */  trunc.w.s  $f2, $f0
/* 41ADC 80040EDC 44031000 */  mfc1       $v1, $f2
/* 41AE0 80040EE0 080103BF */  j          .L80040EFC
/* 41AE4 80040EE4 3C02800F */   lui       $v0, 0x800f
.L80040EE8:
/* 41AE8 80040EE8 4600008D */  trunc.w.s  $f2, $f0
/* 41AEC 80040EEC 44031000 */  mfc1       $v1, $f2
/* 41AF0 80040EF0 3C028000 */  lui        $v0, 0x8000
/* 41AF4 80040EF4 00621825 */  or         $v1, $v1, $v0
/* 41AF8 80040EF8 3C02800F */  lui        $v0, %hi(exp_magic_price)
.L80040EFC:
/* 41AFC 80040EFC 2442D5A4 */  addiu      $v0, $v0, %lo(exp_magic_price)
/* 41B00 80040F00 08010422 */  j          .L80041088
/* 41B04 80040F04 AC430000 */   sw        $v1, ($v0)
.L80040F08:
/* 41B08 80040F08 02E02821 */  addu       $a1, $s7, $zero
/* 41B0C 80040F0C 8E8414E0 */  lw         $a0, 0x14e0($s4)
/* 41B10 80040F10 0C021108 */  jal        knows_spell
/* 41B14 80040F14 02003021 */   addu      $a2, $s0, $zero
/* 41B18 80040F18 8E8414E0 */  lw         $a0, 0x14e0($s4)
/* 41B1C 80040F1C 93A300A8 */  lbu        $v1, 0xa8($sp)
/* 41B20 80040F20 8C820000 */  lw         $v0, ($a0)
/* 41B24 80040F24 00031880 */  sll        $v1, $v1, 2
/* 41B28 80040F28 00621821 */  addu       $v1, $v1, $v0
/* 41B2C 80040F2C 8C700000 */  lw         $s0, ($v1)
/* 41B30 80040F30 9202001A */  lbu        $v0, 0x1a($s0)
/* 41B34 80040F34 02A2102A */  slt        $v0, $s5, $v0
/* 41B38 80040F38 10400016 */  beqz       $v0, .L80040F94
/* 41B3C 80040F3C 24050096 */   addiu     $a1, $zero, 0x96
/* 41B40 80040F40 27A601B0 */  addiu      $a2, $sp, 0x1b0
/* 41B44 80040F44 240200E1 */  addiu      $v0, $zero, 0xe1
/* 41B48 80040F48 240300FF */  addiu      $v1, $zero, 0xff
/* 41B4C 80040F4C A3A201B0 */  sb         $v0, 0x1b0($sp)
/* 41B50 80040F50 A3A201B1 */  sb         $v0, 0x1b1($sp)
/* 41B54 80040F54 A3A201B2 */  sb         $v0, 0x1b2($sp)
/* 41B58 80040F58 24020032 */  addiu      $v0, $zero, 0x32
/* 41B5C 80040F5C A3A301B3 */  sb         $v1, 0x1b3($sp)
/* 41B60 80040F60 24030096 */  addiu      $v1, $zero, 0x96
/* 41B64 80040F64 A3A201F0 */  sb         $v0, 0x1f0($sp)
/* 41B68 80040F68 A3A201F1 */  sb         $v0, 0x1f1($sp)
/* 41B6C 80040F6C A3A201F2 */  sb         $v0, 0x1f2($sp)
/* 41B70 80040F70 A3A301F3 */  sb         $v1, 0x1f3($sp)
/* 41B74 80040F74 8E87204C */  lw         $a3, 0x204c($s4)
/* 41B78 80040F78 24020001 */  addiu      $v0, $zero, 1
/* 41B7C 80040F7C AFA20010 */  sw         $v0, 0x10($sp)
/* 41B80 80040F80 8CE407D0 */  lw         $a0, 0x7d0($a3)
/* 41B84 80040F84 0C0131E1 */  jal        some_textbox_func
/* 41B88 80040F88 27A701F0 */   addiu     $a3, $sp, 0x1f0
/* 41B8C 80040F8C 080104C7 */  j          .L8004131C
/* 41B90 80040F90 8FBF045C */   lw        $ra, 0x45c($sp)
.L80040F94:
/* 41B94 80040F94 8E620014 */  lw         $v0, 0x14($s3)
/* 41B98 80040F98 90440001 */  lbu        $a0, 1($v0)
/* 41B9C 80040F9C 1080001B */  beqz       $a0, .L8004100C
/* 41BA0 80040FA0 24020004 */   addiu     $v0, $zero, 4
/* 41BA4 80040FA4 92030015 */  lbu        $v1, 0x15($s0)
/* 41BA8 80040FA8 10620019 */  beq        $v1, $v0, .L80041010
/* 41BAC 80040FAC 240200C8 */   addiu     $v0, $zero, 0xc8
/* 41BB0 80040FB0 10830017 */  beq        $a0, $v1, .L80041010
/* 41BB4 80040FB4 24050096 */   addiu     $a1, $zero, 0x96
/* 41BB8 80040FB8 27A60230 */  addiu      $a2, $sp, 0x230
/* 41BBC 80040FBC 240200E1 */  addiu      $v0, $zero, 0xe1
/* 41BC0 80040FC0 240300FF */  addiu      $v1, $zero, 0xff
/* 41BC4 80040FC4 A3A20230 */  sb         $v0, 0x230($sp)
/* 41BC8 80040FC8 A3A20231 */  sb         $v0, 0x231($sp)
/* 41BCC 80040FCC A3A20232 */  sb         $v0, 0x232($sp)
/* 41BD0 80040FD0 24020032 */  addiu      $v0, $zero, 0x32
/* 41BD4 80040FD4 A3A30233 */  sb         $v1, 0x233($sp)
/* 41BD8 80040FD8 24030096 */  addiu      $v1, $zero, 0x96
/* 41BDC 80040FDC A3A20270 */  sb         $v0, 0x270($sp)
/* 41BE0 80040FE0 A3A20271 */  sb         $v0, 0x271($sp)
/* 41BE4 80040FE4 A3A20272 */  sb         $v0, 0x272($sp)
/* 41BE8 80040FE8 A3A30273 */  sb         $v1, 0x273($sp)
/* 41BEC 80040FEC 8E87204C */  lw         $a3, 0x204c($s4)
/* 41BF0 80040FF0 24020001 */  addiu      $v0, $zero, 1
/* 41BF4 80040FF4 AFA20010 */  sw         $v0, 0x10($sp)
/* 41BF8 80040FF8 8CE407D4 */  lw         $a0, 0x7d4($a3)
/* 41BFC 80040FFC 0C0131E1 */  jal        some_textbox_func
/* 41C00 80041000 27A70270 */   addiu     $a3, $sp, 0x270
/* 41C04 80041004 080104C7 */  j          .L8004131C
/* 41C08 80041008 8FBF045C */   lw        $ra, 0x45c($sp)
.L8004100C:
/* 41C0C 8004100C 240200C8 */  addiu      $v0, $zero, 0xc8
.L80041010:
/* 41C10 80041010 AE42D5A0 */  sw         $v0, -0x2a60($s2)
/* 41C14 80041014 92140014 */  lbu        $s4, 0x14($s0)
/* 41C18 80041018 02002021 */  addu       $a0, $s0, $zero
/* 41C1C 8004101C 0C020FD0 */  jal        func_80083F40
/* 41C20 80041020 A2000014 */   sb        $zero, 0x14($s0)
/* 41C24 80041024 44821000 */  mtc1       $v0, $f2
/* 41C28 80041028 468010A1 */  cvt.d.w    $f2, $f2
/* 41C2C 8004102C 04410004 */  bgez       $v0, .L80041040
/* 41C30 80041030 2635D5A4 */   addiu     $s5, $s1, -0x2a5c
/* 41C34 80041034 3C01800E */  lui        $at, %hi(D_800DC890)
/* 41C38 80041038 D420C890 */  ldc1       $f0, %lo(D_800DC890)($at)
/* 41C3C 8004103C 46201080 */  add.d      $f2, $f2, $f0
.L80041040:
/* 41C40 80041040 46201020 */  cvt.s.d    $f0, $f2
/* 41C44 80041044 46140002 */  mul.s      $f0, $f0, $f20
/* 41C48 80041048 3C01800E */  lui        $at, %hi(D_800DC898)
/* 41C4C 8004104C C422C898 */  lwc1       $f2, %lo(D_800DC898)($at)
/* 41C50 80041050 4600103E */  c.le.s     $f2, $f0
/* 41C54 80041054 00000000 */  nop
/* 41C58 80041058 45030005 */  bc1tl      .L80041070
/* 41C5C 8004105C 46020001 */   sub.s     $f0, $f0, $f2
/* 41C60 80041060 4600008D */  trunc.w.s  $f2, $f0
/* 41C64 80041064 44031000 */  mfc1       $v1, $f2
/* 41C68 80041068 08010421 */  j          .L80041084
/* 41C6C 8004106C AEA30000 */   sw        $v1, ($s5)
.L80041070:
/* 41C70 80041070 4600008D */  trunc.w.s  $f2, $f0
/* 41C74 80041074 44031000 */  mfc1       $v1, $f2
/* 41C78 80041078 3C028000 */  lui        $v0, 0x8000
/* 41C7C 8004107C 00621825 */  or         $v1, $v1, $v0
/* 41C80 80041080 AEA30000 */  sw         $v1, ($s5)
.L80041084:
/* 41C84 80041084 A2140014 */  sb         $s4, 0x14($s0)
.L80041088:
/* 41C88 80041088 8FA30430 */  lw         $v1, 0x430($sp)
/* 41C8C 8004108C 50600001 */  beql       $v1, $zero, .L80041094
/* 41C90 80041090 AE40D5A0 */   sw        $zero, -0x2a60($s2)
.L80041094:
/* 41C94 80041094 17C00031 */  bnez       $fp, .L8004115C
/* 41C98 80041098 8E630014 */   lw        $v1, 0x14($s3)
/* 41C9C 8004109C 8E26D5A4 */  lw         $a2, -0x2a5c($s1)
/* 41CA0 800410A0 8C620008 */  lw         $v0, 8($v1)
/* 41CA4 800410A4 0046102B */  sltu       $v0, $v0, $a2
/* 41CA8 800410A8 14400009 */  bnez       $v0, .L800410D0
/* 41CAC 800410AC 8FA20430 */   lw        $v0, 0x430($sp)
/* 41CB0 800410B0 3C03800E */  lui        $v1, %hi(gGlobals)
/* 41CB4 800410B4 246268A8 */  addiu      $v0, $v1, %lo(gGlobals)
/* 41CB8 800410B8 8C4315F8 */  lw         $v1, 0x15f8($v0)
/* 41CBC 800410BC 8E44D5A0 */  lw         $a0, -0x2a60($s2)
/* 41CC0 800410C0 8C620014 */  lw         $v0, 0x14($v1)
/* 41CC4 800410C4 0044102B */  sltu       $v0, $v0, $a0
/* 41CC8 800410C8 10400044 */  beqz       $v0, .L800411DC
/* 41CCC 800410CC 8FA20430 */   lw        $v0, 0x430($sp)
.L800410D0:
/* 41CD0 800410D0 1040000A */  beqz       $v0, .L800410FC
/* 41CD4 800410D4 3C02800F */   lui       $v0, %hi(gGlobalsText)
/* 41CD8 800410D8 24438920 */  addiu      $v1, $v0, %lo(gGlobalsText)
/* 41CDC 800410DC 00602021 */  addu       $a0, $v1, $zero
/* 41CE0 800410E0 8C68FFD4 */  lw         $t0, -0x2c($v1)
/* 41CE4 800410E4 8E47D5A0 */  lw         $a3, -0x2a60($s2)
/* 41CE8 800410E8 8D0507D8 */  lw         $a1, 0x7d8($t0)
/* 41CEC 800410EC 0C0333AC */  jal        sprintf
/* 41CF0 800410F0 00408021 */   addu      $s0, $v0, $zero
/* 41CF4 800410F4 08010446 */  j          .L80041118
/* 41CF8 800410F8 26048920 */   addiu     $a0, $s0, -0x76e0
.L800410FC:
/* 41CFC 800410FC 24438920 */  addiu      $v1, $v0, -0x76e0
/* 41D00 80041100 00602021 */  addu       $a0, $v1, $zero
/* 41D04 80041104 8C67FFD4 */  lw         $a3, -0x2c($v1)
/* 41D08 80041108 8CE507DC */  lw         $a1, 0x7dc($a3)
/* 41D0C 8004110C 0C0333AC */  jal        sprintf
/* 41D10 80041110 00408021 */   addu      $s0, $v0, $zero
/* 41D14 80041114 26048920 */  addiu      $a0, $s0, -0x76e0
.L80041118:
/* 41D18 80041118 24050096 */  addiu      $a1, $zero, 0x96
/* 41D1C 8004111C 27A602B0 */  addiu      $a2, $sp, 0x2b0
/* 41D20 80041120 27A702F0 */  addiu      $a3, $sp, 0x2f0
/* 41D24 80041124 240200E1 */  addiu      $v0, $zero, 0xe1
/* 41D28 80041128 240300FF */  addiu      $v1, $zero, 0xff
/* 41D2C 8004112C A3A202B0 */  sb         $v0, 0x2b0($sp)
/* 41D30 80041130 A3A202B1 */  sb         $v0, 0x2b1($sp)
/* 41D34 80041134 A3A202B2 */  sb         $v0, 0x2b2($sp)
/* 41D38 80041138 24020032 */  addiu      $v0, $zero, 0x32
/* 41D3C 8004113C A3A302B3 */  sb         $v1, 0x2b3($sp)
/* 41D40 80041140 24030096 */  addiu      $v1, $zero, 0x96
/* 41D44 80041144 A3A202F0 */  sb         $v0, 0x2f0($sp)
/* 41D48 80041148 A3A202F1 */  sb         $v0, 0x2f1($sp)
/* 41D4C 8004114C A3A202F2 */  sb         $v0, 0x2f2($sp)
/* 41D50 80041150 24020001 */  addiu      $v0, $zero, 1
/* 41D54 80041154 08010472 */  j          .L800411C8
/* 41D58 80041158 A3A302F3 */   sb        $v1, 0x2f3($sp)
.L8004115C:
/* 41D5C 8004115C 8E26D5A4 */  lw         $a2, -0x2a5c($s1)
/* 41D60 80041160 8C620008 */  lw         $v0, 8($v1)
/* 41D64 80041164 0046102B */  sltu       $v0, $v0, $a2
/* 41D68 80041168 1040001B */  beqz       $v0, .L800411D8
/* 41D6C 8004116C 3C10800F */   lui       $s0, %hi(gGlobalsText)
/* 41D70 80041170 26108920 */  addiu      $s0, $s0, %lo(gGlobalsText)
/* 41D74 80041174 8E02FFD4 */  lw         $v0, -0x2c($s0)
/* 41D78 80041178 8C4507DC */  lw         $a1, 0x7dc($v0)
/* 41D7C 8004117C 0C0333AC */  jal        sprintf
/* 41D80 80041180 02002021 */   addu      $a0, $s0, $zero
/* 41D84 80041184 02002021 */  addu       $a0, $s0, $zero
/* 41D88 80041188 24050096 */  addiu      $a1, $zero, 0x96
/* 41D8C 8004118C 27A60330 */  addiu      $a2, $sp, 0x330
/* 41D90 80041190 27A70370 */  addiu      $a3, $sp, 0x370
/* 41D94 80041194 240200E1 */  addiu      $v0, $zero, 0xe1
/* 41D98 80041198 240300FF */  addiu      $v1, $zero, 0xff
/* 41D9C 8004119C A3A20330 */  sb         $v0, 0x330($sp)
/* 41DA0 800411A0 A3A20331 */  sb         $v0, 0x331($sp)
/* 41DA4 800411A4 A3A20332 */  sb         $v0, 0x332($sp)
/* 41DA8 800411A8 24020032 */  addiu      $v0, $zero, 0x32
/* 41DAC 800411AC A3A30333 */  sb         $v1, 0x333($sp)
/* 41DB0 800411B0 24030096 */  addiu      $v1, $zero, 0x96
/* 41DB4 800411B4 A3A20370 */  sb         $v0, 0x370($sp)
/* 41DB8 800411B8 A3A20371 */  sb         $v0, 0x371($sp)
/* 41DBC 800411BC A3A20372 */  sb         $v0, 0x372($sp)
/* 41DC0 800411C0 24020001 */  addiu      $v0, $zero, 1
/* 41DC4 800411C4 A3A30373 */  sb         $v1, 0x373($sp)
.L800411C8:
/* 41DC8 800411C8 0C0131E1 */  jal        some_textbox_func
/* 41DCC 800411CC AFA20010 */   sw        $v0, 0x10($sp)
/* 41DD0 800411D0 080104C7 */  j          .L8004131C
/* 41DD4 800411D4 8FBF045C */   lw        $ra, 0x45c($sp)
.L800411D8:
/* 41DD8 800411D8 AE40D5A0 */  sw         $zero, -0x2a60($s2)
.L800411DC:
/* 41DDC 800411DC 8E47D5A0 */  lw         $a3, -0x2a60($s2)
/* 41DE0 800411E0 10E0000A */  beqz       $a3, .L8004120C
/* 41DE4 800411E4 3C02800F */   lui       $v0, %hi(gGlobalsText)
/* 41DE8 800411E8 24438920 */  addiu      $v1, $v0, %lo(gGlobalsText)
/* 41DEC 800411EC 00602021 */  addu       $a0, $v1, $zero
/* 41DF0 800411F0 8C68FFD4 */  lw         $t0, -0x2c($v1)
/* 41DF4 800411F4 8E26D5A4 */  lw         $a2, -0x2a5c($s1)
/* 41DF8 800411F8 8D0507E0 */  lw         $a1, 0x7e0($t0)
/* 41DFC 800411FC 0C0333AC */  jal        sprintf
/* 41E00 80041200 00408021 */   addu      $s0, $v0, $zero
/* 41E04 80041204 0801048B */  j          .L8004122C
/* 41E08 80041208 240400B0 */   addiu     $a0, $zero, 0xb0
.L8004120C:
/* 41E0C 8004120C 24438920 */  addiu      $v1, $v0, -0x76e0
/* 41E10 80041210 00602021 */  addu       $a0, $v1, $zero
/* 41E14 80041214 8C67FFD4 */  lw         $a3, -0x2c($v1)
/* 41E18 80041218 8E26D5A4 */  lw         $a2, -0x2a5c($s1)
/* 41E1C 8004121C 8CE507E4 */  lw         $a1, 0x7e4($a3)
/* 41E20 80041220 0C0333AC */  jal        sprintf
/* 41E24 80041224 00408021 */   addu      $s0, $v0, $zero
/* 41E28 80041228 240400B0 */  addiu      $a0, $zero, 0xb0
.L8004122C:
/* 41E2C 8004122C 240500FF */  addiu      $a1, $zero, 0xff
/* 41E30 80041230 240200C8 */  addiu      $v0, $zero, 0xc8
/* 41E34 80041234 240300B4 */  addiu      $v1, $zero, 0xb4
/* 41E38 80041238 A3A203F0 */  sb         $v0, 0x3f0($sp)
/* 41E3C 8004123C 24020064 */  addiu      $v0, $zero, 0x64
/* 41E40 80041240 A3A503B0 */  sb         $a1, 0x3b0($sp)
/* 41E44 80041244 A3A503B1 */  sb         $a1, 0x3b1($sp)
/* 41E48 80041248 A3A503B2 */  sb         $a1, 0x3b2($sp)
/* 41E4C 8004124C A3A503B3 */  sb         $a1, 0x3b3($sp)
/* 41E50 80041250 A3A303F1 */  sb         $v1, 0x3f1($sp)
/* 41E54 80041254 A3A203F2 */  sb         $v0, 0x3f2($sp)
/* 41E58 80041258 0C026259 */  jal        passToMalloc
/* 41E5C 8004125C A3A503F3 */   sb        $a1, 0x3f3($sp)
/* 41E60 80041260 00402021 */  addu       $a0, $v0, $zero
/* 41E64 80041264 24050002 */  addiu      $a1, $zero, 2
/* 41E68 80041268 26108920 */  addiu      $s0, $s0, -0x76e0
/* 41E6C 8004126C 02003021 */  addu       $a2, $s0, $zero
/* 41E70 80041270 24070096 */  addiu      $a3, $zero, 0x96
/* 41E74 80041274 27A203B0 */  addiu      $v0, $sp, 0x3b0
/* 41E78 80041278 27A303F0 */  addiu      $v1, $sp, 0x3f0
/* 41E7C 8004127C AFA20010 */  sw         $v0, 0x10($sp)
/* 41E80 80041280 AFA30014 */  sw         $v1, 0x14($sp)
/* 41E84 80041284 AFA00018 */  sw         $zero, 0x18($sp)
/* 41E88 80041288 AFA0001C */  sw         $zero, 0x1c($sp)
/* 41E8C 8004128C 0C013461 */  jal        func_8004D184
/* 41E90 80041290 AFA00020 */   sw        $zero, 0x20($sp)
/* 41E94 80041294 2404007C */  addiu      $a0, $zero, 0x7c
/* 41E98 80041298 0C026259 */  jal        passToMalloc
/* 41E9C 8004129C 00408821 */   addu      $s1, $v0, $zero
/* 41EA0 800412A0 2610DF88 */  addiu      $s0, $s0, -0x2078
/* 41EA4 800412A4 8E03204C */  lw         $v1, 0x204c($s0)
/* 41EA8 800412A8 00402021 */  addu       $a0, $v0, $zero
/* 41EAC 800412AC 8C65007C */  lw         $a1, 0x7c($v1)
/* 41EB0 800412B0 0C02DFC8 */  jal        widgetcliptext_init
/* 41EB4 800412B4 24060190 */   addiu     $a2, $zero, 0x190
/* 41EB8 800412B8 02202021 */  addu       $a0, $s1, $zero
/* 41EBC 800412BC 3C038004 */  lui        $v1, %hi(func_8003F4A0)
/* 41EC0 800412C0 2463F4A0 */  addiu      $v1, $v1, %lo(func_8003F4A0)
/* 41EC4 800412C4 AC430018 */  sw         $v1, 0x18($v0)
/* 41EC8 800412C8 A457005E */  sh         $s7, 0x5e($v0)
/* 41ECC 800412CC 93A300A8 */  lbu        $v1, 0xa8($sp)
/* 41ED0 800412D0 00402821 */  addu       $a1, $v0, $zero
/* 41ED4 800412D4 0C013626 */  jal        func_8004D898
/* 41ED8 800412D8 A043005C */   sb        $v1, 0x5c($v0)
/* 41EDC 800412DC 0C026259 */  jal        passToMalloc
/* 41EE0 800412E0 2404007C */   addiu     $a0, $zero, 0x7c
/* 41EE4 800412E4 8E03204C */  lw         $v1, 0x204c($s0)
/* 41EE8 800412E8 00402021 */  addu       $a0, $v0, $zero
/* 41EEC 800412EC 8C650080 */  lw         $a1, 0x80($v1)
/* 41EF0 800412F0 0C02DFC8 */  jal        widgetcliptext_init
/* 41EF4 800412F4 24060190 */   addiu     $a2, $zero, 0x190
/* 41EF8 800412F8 02202021 */  addu       $a0, $s1, $zero
/* 41EFC 800412FC 0C013626 */  jal        func_8004D898
/* 41F00 80041300 00402821 */   addu      $a1, $v0, $zero
/* 41F04 80041304 0C013786 */  jal        func_8004DE18
/* 41F08 80041308 02202021 */   addu      $a0, $s1, $zero
/* 41F0C 8004130C 8E041604 */  lw         $a0, 0x1604($s0)
/* 41F10 80041310 0C02DC7C */  jal        widgetHandler
/* 41F14 80041314 02202821 */   addu      $a1, $s1, $zero
/* 41F18 80041318 8FBF045C */  lw         $ra, 0x45c($sp)
.L8004131C:
/* 41F1C 8004131C 8FBE0458 */  lw         $fp, 0x458($sp)
/* 41F20 80041320 8FB70454 */  lw         $s7, 0x454($sp)
/* 41F24 80041324 8FB60450 */  lw         $s6, 0x450($sp)
/* 41F28 80041328 8FB5044C */  lw         $s5, 0x44c($sp)
/* 41F2C 8004132C 8FB40448 */  lw         $s4, 0x448($sp)
/* 41F30 80041330 8FB30444 */  lw         $s3, 0x444($sp)
/* 41F34 80041334 8FB20440 */  lw         $s2, 0x440($sp)
/* 41F38 80041338 8FB1043C */  lw         $s1, 0x43c($sp)
/* 41F3C 8004133C 8FB00438 */  lw         $s0, 0x438($sp)
/* 41F40 80041340 D7B40460 */  ldc1       $f20, 0x460($sp)
/* 41F44 80041344 03E00008 */  jr         $ra
/* 41F48 80041348 27BD0468 */   addiu     $sp, $sp, 0x468

glabel func_8004134C
/* 41F4C 8004134C 90820000 */  lbu        $v0, ($a0)
/* 41F50 80041350 30A500FF */  andi       $a1, $a1, 0xff
/* 41F54 80041354 10400007 */  beqz       $v0, .L80041374
/* 41F58 80041358 30C600FF */   andi      $a2, $a2, 0xff
.L8004135C:
/* 41F5C 8004135C 50450001 */  beql       $v0, $a1, .L80041364
/* 41F60 80041360 A0860000 */   sb        $a2, ($a0)
.L80041364:
/* 41F64 80041364 24840001 */  addiu      $a0, $a0, 1
/* 41F68 80041368 90820000 */  lbu        $v0, ($a0)
/* 41F6C 8004136C 1440FFFB */  bnez       $v0, .L8004135C
/* 41F70 80041370 00000000 */   nop
.L80041374:
/* 41F74 80041374 03E00008 */  jr         $ra
/* 41F78 80041378 00000000 */   nop

glabel ret12_8004137c
/* 41F7C 8004137C 03E00008 */  jr         $ra
/* 41F80 80041380 2402000C */   addiu     $v0, $zero, 0xc
/* 41F84 80041384 00000000 */  nop
/* 41F88 80041388 00000000 */  nop
/* 41F8C 8004138C 00000000 */  nop
