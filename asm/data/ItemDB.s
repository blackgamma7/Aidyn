.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text, "ax"

glabel func_800762D0
/* 76ED0 800762D0 27BDFFC0 */  addiu      $sp, $sp, -0x40
/* 76ED4 800762D4 AFB30024 */  sw         $s3, 0x24($sp)
/* 76ED8 800762D8 00809821 */  addu       $s3, $a0, $zero
/* 76EDC 800762DC AFB1001C */  sw         $s1, 0x1c($sp)
/* 76EE0 800762E0 3C11B1FE */  lui        $s1, %hi(itemDB)
/* 76EE4 800762E4 2624B5E0 */  addiu      $a0, $s1, %lo(itemDB)
/* 76EE8 800762E8 02602821 */  addu       $a1, $s3, $zero
/* 76EEC 800762EC AFB00018 */  sw         $s0, 0x18($sp)
/* 76EF0 800762F0 27B00010 */  addiu      $s0, $sp, 0x10
/* 76EF4 800762F4 02003021 */  addu       $a2, $s0, $zero
/* 76EF8 800762F8 AFBF0038 */  sw         $ra, 0x38($sp)
/* 76EFC 800762FC AFB70034 */  sw         $s7, 0x34($sp)
/* 76F00 80076300 AFB60030 */  sw         $s6, 0x30($sp)
/* 76F04 80076304 AFB5002C */  sw         $s5, 0x2c($sp)
/* 76F08 80076308 AFB40028 */  sw         $s4, 0x28($sp)
/* 76F0C 8007630C AFB20020 */  sw         $s2, 0x20($sp)
/* 76F10 80076310 0C01D30C */  jal        load_db_array_size
/* 76F14 80076314 AFA00010 */   sw        $zero, 0x10($sp)
/* 76F18 80076318 3C05800E */  lui        $a1, %hi(D_800E0200)
/* 76F1C 8007631C 24A50200 */  addiu      $a1, $a1, %lo(D_800E0200)
/* 76F20 80076320 24060034 */  addiu      $a2, $zero, 0x34
/* 76F24 80076324 0000A021 */  addu       $s4, $zero, $zero
/* 76F28 80076328 00009021 */  addu       $s2, $zero, $zero
/* 76F2C 8007632C 0220B821 */  addu       $s7, $s1, $zero
/* 76F30 80076330 92620000 */  lbu        $v0, ($s3)
/* 76F34 80076334 0200B021 */  addu       $s6, $s0, $zero
/* 76F38 80076338 00022040 */  sll        $a0, $v0, 1
/* 76F3C 8007633C 00822021 */  addu       $a0, $a0, $v0
/* 76F40 80076340 0C025F9C */  jal        Malloc
/* 76F44 80076344 00042100 */   sll       $a0, $a0, 4
/* 76F48 80076348 2675000C */  addiu      $s5, $s3, 0xc
/* 76F4C 8007634C 26710001 */  addiu      $s1, $s3, 1
/* 76F50 80076350 AE620018 */  sw         $v0, 0x18($s3)
.L80076354:
/* 76F54 80076354 26E4B5E0 */  addiu      $a0, $s7, -0x4a20
/* 76F58 80076358 26500001 */  addiu      $s0, $s2, 1
/* 76F5C 8007635C 02702821 */  addu       $a1, $s3, $s0
/* 76F60 80076360 0C01D30C */  jal        load_db_array_size
/* 76F64 80076364 02C03021 */   addu      $a2, $s6, $zero
/* 76F68 80076368 02B21021 */  addu       $v0, $s5, $s2
/* 76F6C 8007636C 02322821 */  addu       $a1, $s1, $s2
/* 76F70 80076370 321200FF */  andi       $s2, $s0, 0xff
/* 76F74 80076374 A0540000 */  sb         $s4, ($v0)
/* 76F78 80076378 90A30000 */  lbu        $v1, ($a1)
/* 76F7C 8007637C 90A40000 */  lbu        $a0, ($a1)
/* 76F80 80076380 02831821 */  addu       $v1, $s4, $v1
/* 76F84 80076384 307400FF */  andi       $s4, $v1, 0xff
/* 76F88 80076388 00041040 */  sll        $v0, $a0, 1
/* 76F8C 8007638C 00441021 */  addu       $v0, $v0, $a0
/* 76F90 80076390 00021080 */  sll        $v0, $v0, 2
/* 76F94 80076394 00441023 */  subu       $v0, $v0, $a0
/* 76F98 80076398 8FA30010 */  lw         $v1, 0x10($sp)
/* 76F9C 8007639C 00021080 */  sll        $v0, $v0, 2
/* 76FA0 800763A0 00621821 */  addu       $v1, $v1, $v0
/* 76FA4 800763A4 2E42000B */  sltiu      $v0, $s2, 0xb
/* 76FA8 800763A8 1440FFEA */  bnez       $v0, .L80076354
/* 76FAC 800763AC AFA30010 */   sw        $v1, 0x10($sp)
/* 76FB0 800763B0 8FBF0038 */  lw         $ra, 0x38($sp)
/* 76FB4 800763B4 8FB70034 */  lw         $s7, 0x34($sp)
/* 76FB8 800763B8 8FB60030 */  lw         $s6, 0x30($sp)
/* 76FBC 800763BC 8FB5002C */  lw         $s5, 0x2c($sp)
/* 76FC0 800763C0 8FB40028 */  lw         $s4, 0x28($sp)
/* 76FC4 800763C4 8FB30024 */  lw         $s3, 0x24($sp)
/* 76FC8 800763C8 8FB20020 */  lw         $s2, 0x20($sp)
/* 76FCC 800763CC 8FB1001C */  lw         $s1, 0x1c($sp)
/* 76FD0 800763D0 8FB00018 */  lw         $s0, 0x18($sp)
/* 76FD4 800763D4 03E00008 */  jr         $ra
/* 76FD8 800763D8 27BD0040 */   addiu     $sp, $sp, 0x40

glabel load_itemDB
/* 76FDC 800763DC 27BDFF98 */  addiu      $sp, $sp, -0x68
/* 76FE0 800763E0 AFBF0064 */  sw         $ra, 0x64($sp)
/* 76FE4 800763E4 AFB20060 */  sw         $s2, 0x60($sp)
/* 76FE8 800763E8 AFB1005C */  sw         $s1, 0x5c($sp)
/* 76FEC 800763EC AFB00058 */  sw         $s0, 0x58($sp)
/* 76FF0 800763F0 8C900018 */  lw         $s0, 0x18($a0)
/* 76FF4 800763F4 27A40018 */  addiu      $a0, $sp, 0x18
/* 76FF8 800763F8 00C09021 */  addu       $s2, $a2, $zero
/* 76FFC 800763FC 2406002C */  addiu      $a2, $zero, 0x2c
/* 77000 80076400 3C02800E */  lui        $v0, %hi(D_800E0200)
/* 77004 80076404 24420200 */  addiu      $v0, $v0, %lo(D_800E0200)
/* 77008 80076408 2403004F */  addiu      $v1, $zero, 0x4f
/* 7700C 8007640C 30A700FF */  andi       $a3, $a1, 0xff
/* 77010 80076410 3C05B1FE */  lui        $a1, %hi(itemDB)
/* 77014 80076414 24A5B5E0 */  addiu      $a1, $a1, %lo(itemDB)
/* 77018 80076418 AFA20010 */  sw         $v0, 0x10($sp)
/* 7701C 8007641C 00071040 */  sll        $v0, $a3, 1
/* 77020 80076420 00471021 */  addu       $v0, $v0, $a3
/* 77024 80076424 00021100 */  sll        $v0, $v0, 4
/* 77028 80076428 AFA30014 */  sw         $v1, 0x14($sp)
/* 7702C 8007642C 8E510000 */  lw         $s1, ($s2)
/* 77030 80076430 24070001 */  addiu      $a3, $zero, 1
/* 77034 80076434 02252821 */  addu       $a1, $s1, $a1
/* 77038 80076438 0C027269 */  jal        RomCopy
/* 7703C 8007643C 02028021 */   addu      $s0, $s0, $v0
/* 77040 80076440 26040002 */  addiu      $a0, $s0, 2
/* 77044 80076444 27A50018 */  addiu      $a1, $sp, 0x18
/* 77048 80076448 0C033547 */  jal        memcpy
/* 7704C 8007644C 24060014 */   addiu     $a2, $zero, 0x14
/* 77050 80076450 A2000016 */  sb         $zero, 0x16($s0)
/* 77054 80076454 93A2002D */  lbu        $v0, 0x2d($sp)
/* 77058 80076458 93A3002C */  lbu        $v1, 0x2c($sp)
/* 7705C 8007645C 00021200 */  sll        $v0, $v0, 8
/* 77060 80076460 00621821 */  addu       $v1, $v1, $v0
/* 77064 80076464 A6030000 */  sh         $v1, ($s0)
/* 77068 80076468 93A2002F */  lbu        $v0, 0x2f($sp)
/* 7706C 8007646C 93A3002E */  lbu        $v1, 0x2e($sp)
/* 77070 80076470 00021200 */  sll        $v0, $v0, 8
/* 77074 80076474 00621821 */  addu       $v1, $v1, $v0
/* 77078 80076478 A6030018 */  sh         $v1, 0x18($s0)
/* 7707C 8007647C 93A20030 */  lbu        $v0, 0x30($sp)
/* 77080 80076480 A202001A */  sb         $v0, 0x1a($s0)
/* 77084 80076484 93A30031 */  lbu        $v1, 0x31($sp)
/* 77088 80076488 A203001B */  sb         $v1, 0x1b($s0)
/* 7708C 8007648C 93A20032 */  lbu        $v0, 0x32($sp)
/* 77090 80076490 A202001C */  sb         $v0, 0x1c($s0)
/* 77094 80076494 93A30033 */  lbu        $v1, 0x33($sp)
/* 77098 80076498 A203001D */  sb         $v1, 0x1d($s0)
/* 7709C 8007649C 93A20035 */  lbu        $v0, 0x35($sp)
/* 770A0 800764A0 93A30034 */  lbu        $v1, 0x34($sp)
/* 770A4 800764A4 00021200 */  sll        $v0, $v0, 8
/* 770A8 800764A8 00621821 */  addu       $v1, $v1, $v0
/* 770AC 800764AC A603001E */  sh         $v1, 0x1e($s0)
/* 770B0 800764B0 93A20036 */  lbu        $v0, 0x36($sp)
/* 770B4 800764B4 A2020020 */  sb         $v0, 0x20($s0)
/* 770B8 800764B8 93A30037 */  lbu        $v1, 0x37($sp)
/* 770BC 800764BC A2030021 */  sb         $v1, 0x21($s0)
/* 770C0 800764C0 93A20038 */  lbu        $v0, 0x38($sp)
/* 770C4 800764C4 A2020022 */  sb         $v0, 0x22($s0)
/* 770C8 800764C8 93A30039 */  lbu        $v1, 0x39($sp)
/* 770CC 800764CC A2030023 */  sb         $v1, 0x23($s0)
/* 770D0 800764D0 93A2003A */  lbu        $v0, 0x3a($sp)
/* 770D4 800764D4 A2020024 */  sb         $v0, 0x24($s0)
/* 770D8 800764D8 93A4003C */  lbu        $a0, 0x3c($sp)
/* 770DC 800764DC 93A2003B */  lbu        $v0, 0x3b($sp)
/* 770E0 800764E0 00042200 */  sll        $a0, $a0, 8
/* 770E4 800764E4 0C01D072 */  jal        get_equpiment_spell
/* 770E8 800764E8 00442025 */   or        $a0, $v0, $a0
/* 770EC 800764EC A2020025 */  sb         $v0, 0x25($s0)
/* 770F0 800764F0 93A2003D */  lbu        $v0, 0x3d($sp)
/* 770F4 800764F4 A2020026 */  sb         $v0, 0x26($s0)
/* 770F8 800764F8 93A3003E */  lbu        $v1, 0x3e($sp)
/* 770FC 800764FC A2030027 */  sb         $v1, 0x27($s0)
/* 77100 80076500 93A40040 */  lbu        $a0, 0x40($sp)
/* 77104 80076504 93A2003F */  lbu        $v0, 0x3f($sp)
/* 77108 80076508 00042200 */  sll        $a0, $a0, 8
/* 7710C 8007650C 0C01D072 */  jal        get_equpiment_spell
/* 77110 80076510 00442025 */   or        $a0, $v0, $a0
/* 77114 80076514 A2020028 */  sb         $v0, 0x28($s0)
/* 77118 80076518 93A20041 */  lbu        $v0, 0x41($sp)
/* 7711C 8007651C 3C01800E */  lui        $at, %hi(D_800E0214)
/* 77120 80076520 C4220214 */  lwc1       $f2, %lo(D_800E0214)($at)
/* 77124 80076524 A2020029 */  sb         $v0, 0x29($s0)
/* 77128 80076528 93A30042 */  lbu        $v1, 0x42($sp)
/* 7712C 8007652C 2631002C */  addiu      $s1, $s1, 0x2c
/* 77130 80076530 A203002A */  sb         $v1, 0x2a($s0)
/* 77134 80076534 93A20043 */  lbu        $v0, 0x43($sp)
/* 77138 80076538 8FBF0064 */  lw         $ra, 0x64($sp)
/* 7713C 8007653C 44820000 */  mtc1       $v0, $f0
/* 77140 80076540 46800020 */  cvt.s.w    $f0, $f0
/* 77144 80076544 46020002 */  mul.s      $f0, $f0, $f2
/* 77148 80076548 AE510000 */  sw         $s1, ($s2)
/* 7714C 8007654C 8FB20060 */  lw         $s2, 0x60($sp)
/* 77150 80076550 8FB1005C */  lw         $s1, 0x5c($sp)
/* 77154 80076554 E600002C */  swc1       $f0, 0x2c($s0)
/* 77158 80076558 8FB00058 */  lw         $s0, 0x58($sp)
/* 7715C 8007655C 03E00008 */  jr         $ra
/* 77160 80076560 27BD0068 */   addiu     $sp, $sp, 0x68

glabel build_itemdb
/* 77164 80076564 27BDFFC0 */  addiu      $sp, $sp, -0x40
/* 77168 80076568 AFB40028 */  sw         $s4, 0x28($sp)
/* 7716C 8007656C 0080A021 */  addu       $s4, $a0, $zero
/* 77170 80076570 AFB1001C */  sw         $s1, 0x1c($sp)
/* 77174 80076574 3C11B1FE */  lui        $s1, %hi(itemDB)
/* 77178 80076578 2624B5E0 */  addiu      $a0, $s1, %lo(itemDB)
/* 7717C 8007657C 02802821 */  addu       $a1, $s4, $zero
/* 77180 80076580 AFB00018 */  sw         $s0, 0x18($sp)
/* 77184 80076584 27B00010 */  addiu      $s0, $sp, 0x10
/* 77188 80076588 02003021 */  addu       $a2, $s0, $zero
/* 7718C 8007658C AFBF003C */  sw         $ra, 0x3c($sp)
/* 77190 80076590 AFBE0038 */  sw         $fp, 0x38($sp)
/* 77194 80076594 AFB70034 */  sw         $s7, 0x34($sp)
/* 77198 80076598 AFB60030 */  sw         $s6, 0x30($sp)
/* 7719C 8007659C AFB5002C */  sw         $s5, 0x2c($sp)
/* 771A0 800765A0 AFB30024 */  sw         $s3, 0x24($sp)
/* 771A4 800765A4 AFB20020 */  sw         $s2, 0x20($sp)
/* 771A8 800765A8 0C01D30C */  jal        load_db_array_size
/* 771AC 800765AC AFA00010 */   sw        $zero, 0x10($sp)
/* 771B0 800765B0 3C05800E */  lui        $a1, %hi(D_800E0200)
/* 771B4 800765B4 24A50200 */  addiu      $a1, $a1, %lo(D_800E0200)
/* 771B8 800765B8 24060164 */  addiu      $a2, $zero, 0x164
/* 771BC 800765BC 00009821 */  addu       $s3, $zero, $zero
/* 771C0 800765C0 00009021 */  addu       $s2, $zero, $zero
/* 771C4 800765C4 0220F021 */  addu       $fp, $s1, $zero
/* 771C8 800765C8 92820000 */  lbu        $v0, ($s4)
/* 771CC 800765CC 0200A821 */  addu       $s5, $s0, $zero
/* 771D0 800765D0 00022040 */  sll        $a0, $v0, 1
/* 771D4 800765D4 00822021 */  addu       $a0, $a0, $v0
/* 771D8 800765D8 0C025F9C */  jal        Malloc
/* 771DC 800765DC 00042100 */   sll       $a0, $a0, 4
/* 771E0 800765E0 2697000C */  addiu      $s7, $s4, 0xc
/* 771E4 800765E4 26960001 */  addiu      $s6, $s4, 1
/* 771E8 800765E8 AE820018 */  sw         $v0, 0x18($s4)
/* 771EC 800765EC 27C4B5E0 */  addiu      $a0, $fp, -0x4a20
.L800765F0:
/* 771F0 800765F0 26500001 */  addiu      $s0, $s2, 1
/* 771F4 800765F4 02902821 */  addu       $a1, $s4, $s0
/* 771F8 800765F8 0C01D30C */  jal        load_db_array_size
/* 771FC 800765FC 02A03021 */   addu      $a2, $s5, $zero
/* 77200 80076600 00008821 */  addu       $s1, $zero, $zero
/* 77204 80076604 02F21021 */  addu       $v0, $s7, $s2
/* 77208 80076608 02D21821 */  addu       $v1, $s6, $s2
/* 7720C 8007660C A0530000 */  sb         $s3, ($v0)
/* 77210 80076610 90620000 */  lbu        $v0, ($v1)
/* 77214 80076614 1040000D */  beqz       $v0, .L8007664C
/* 77218 80076618 02009021 */   addu      $s2, $s0, $zero
/* 7721C 8007661C 00608021 */  addu       $s0, $v1, $zero
.L80076620:
/* 77220 80076620 02802021 */  addu       $a0, $s4, $zero
/* 77224 80076624 02602821 */  addu       $a1, $s3, $zero
/* 77228 80076628 0C01D8F7 */  jal        load_itemDB
/* 7722C 8007662C 02A03021 */   addu      $a2, $s5, $zero
/* 77230 80076630 26220001 */  addiu      $v0, $s1, 1
/* 77234 80076634 305100FF */  andi       $s1, $v0, 0xff
/* 77238 80076638 26630001 */  addiu      $v1, $s3, 1
/* 7723C 8007663C 92020000 */  lbu        $v0, ($s0)
/* 77240 80076640 0222102B */  sltu       $v0, $s1, $v0
/* 77244 80076644 1440FFF6 */  bnez       $v0, .L80076620
/* 77248 80076648 307300FF */   andi      $s3, $v1, 0xff
.L8007664C:
/* 7724C 8007664C 325200FF */  andi       $s2, $s2, 0xff
/* 77250 80076650 2E42000B */  sltiu      $v0, $s2, 0xb
/* 77254 80076654 1440FFE6 */  bnez       $v0, .L800765F0
/* 77258 80076658 27C4B5E0 */   addiu     $a0, $fp, -0x4a20
/* 7725C 8007665C 8FBF003C */  lw         $ra, 0x3c($sp)
/* 77260 80076660 8FBE0038 */  lw         $fp, 0x38($sp)
/* 77264 80076664 8FB70034 */  lw         $s7, 0x34($sp)
/* 77268 80076668 8FB60030 */  lw         $s6, 0x30($sp)
/* 7726C 8007666C 8FB5002C */  lw         $s5, 0x2c($sp)
/* 77270 80076670 8FB40028 */  lw         $s4, 0x28($sp)
/* 77274 80076674 8FB30024 */  lw         $s3, 0x24($sp)
/* 77278 80076678 8FB20020 */  lw         $s2, 0x20($sp)
/* 7727C 8007667C 8FB1001C */  lw         $s1, 0x1c($sp)
/* 77280 80076680 8FB00018 */  lw         $s0, 0x18($sp)
/* 77284 80076684 03E00008 */  jr         $ra
/* 77288 80076688 27BD0040 */   addiu     $sp, $sp, 0x40

glabel clear_item_pointer
/* 7728C 8007668C 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 77290 80076690 3C05800E */  lui        $a1, %hi(D_800E0200)
/* 77294 80076694 24A50200 */  addiu      $a1, $a1, %lo(D_800E0200)
/* 77298 80076698 AFBF0010 */  sw         $ra, 0x10($sp)
/* 7729C 8007669C 8C840018 */  lw         $a0, 0x18($a0)
/* 772A0 800766A0 0C02600C */  jal        Free
/* 772A4 800766A4 2406017D */   addiu     $a2, $zero, 0x17d
/* 772A8 800766A8 8FBF0010 */  lw         $ra, 0x10($sp)
/* 772AC 800766AC 03E00008 */  jr         $ra
/* 772B0 800766B0 27BD0018 */   addiu     $sp, $sp, 0x18
/* 772B4 800766B4 00000000 */  nop
/* 772B8 800766B8 00000000 */  nop
/* 772BC 800766BC 00000000 */  nop
